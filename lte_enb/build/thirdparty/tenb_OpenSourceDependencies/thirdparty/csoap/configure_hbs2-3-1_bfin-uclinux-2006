#!/bin/sh

# Regretably, thi configure script isn't enough to
# make the build as simple as I'd like.
# See below...

./configure --build=i686-pc-linux \
            --host=bfin-uclinux \
            --with-endianness=little \
            --enable-shared=no \
            --prefix=`pwd`/../../libs/bin/csoap/bfin-uclinux-2006 \
            --with-xml-prefix=`pwd`/../../libs/bin/libxml2/bfin-uclinux-2006 \
            CC=/opt/uClinux-2006R1/bfin-uclinux/bin/bfin-uclinux-gcc \
            AR=/opt/uClinux-2006R1/bfin-uclinux/bin/bfin-uclinux-ar


# Alterntive Alpha
# 1) After running this script you need to hand edit "config.h"
#   a) change the HAVE_MALLOC define from 0 to 1 on line#39
#   b) comment out the malloc define on line#202
# 2 [Option-1]) Run make, which failed for me linking the (5 or 6) examples, to fix.
#   a) cd ./examples/csoap
#   b) Issue the failing link cmd directly, but copy the <...>/libnanohttp.a argument to the end of the line
#   c) cd ../..
#   b) Try make again.
# 2 [Option-2]) Don't make the failing examples. Do this by adding "SUBDIRS=nanohttp libcsoap" to you make command line {you need to do this for both make, and make install}.
# 3) Once the make completes successfully, make install ["SUBDIRS=nanohttp libcsoap"]
#

