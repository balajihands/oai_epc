#!/bin/sh

#
# Build this lib with:
#
# ./configure_hbs2-3-1_bfin-uclinux-2008
# [
#   edit config.h:
#   a) change the HAVE_MALLOC define from 0 to 1 on line#39
#   b) comment out the malloc define on line#202
# ]
# make SUBDIRS="nanohttp libcsoap"
# make install SUBDIRS="nanohttp libcsoap"
#
# Then commit software/libs/bin/csoap
#

./configure --build=i686-pc-linux \
            --host=bfin-uclinux \
            --with-endianness=little \
            --enable-shared=no \
            --prefix=`pwd`/../../libs/bin/csoap/hbs2-3-1/bfin-uclinux-2008 \
            --with-xml-prefix=`pwd`/../../libs/bin/libxml2/hbs2-3-1/bfin-uclinux-2008 \
            CC=/opt/uClinux-2008R1.5/bfin-uclinux/bin/bfin-uclinux-gcc \
            AR=/opt/uClinux-2008R1.5/bfin-uclinux/bin/bfin-uclinux-ar \
            CFLAGS="-mcpu=bf533-0.5" \
            CXXFLAGS="-mcpu=bf533-0.5" \
            LDFLAGS="-mcpu=bf533-0.5"
