#!/bin/sh

#
# Build of libxml2 using uClinux-2008R1.5 toolchain. 
#
# Build this lib with:
#
#  make distclean
#  ./configure_bfin-uclinux-2008-mf
#  make
#  make install
#
# Then commit software/libs/bin/libxml2-2.7.2/bfin-uclinux-2008-mf
#

./configure --build=i686-pc-linux \
            --host=arm-uclinux \
            --with-endianness=little \
            --enable-shared=no \
            --prefix=`pwd`/../../libs/bin/libxml2-2.7.2/hbs2-3-5/bfin-uclinux-2008-mf \
            CC=/opt/uClinux-2008R1.5/bfin-uclinux/bin/bfin-uclinux-gcc \
            AR=/opt/uClinux-2008R1.5/bfin-uclinux/bin/bfin-uclinux-ar \
            CFLAGS="-mcpu=bf537-0.3 -fmudflapth" \
            CXXFLAGS="-mcpu=bf537-0.3 -fmudflapth" \
            LDFLAGS="-mcpu=bf537-0.3 -lmudflap -lmudflapth" \
            CPPFLAGS="-DNO_LARGEFILE_SOURCE" \
            DEPDIR=./.deps/bfin-uclinux \
            --without-zlib \
            --without-python
