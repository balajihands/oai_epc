#
#/********************************************************************20**
#
#     Name:    EGTP
#
#     Type:    XML Test File
#
#     Desc:    XML High level commands for EGTP
#
#     File:    egac_cmd2.xml
#
#     Sid:      
#
#     Prg:     ad
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=20:ad:egac_cmd2.xml



#
#
#       Test:    tapa.egtp.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.egtp.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="0" type="LEG_TSAP_TYPE_TUCL"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Bind TSAP (tSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK"/>
      </tapa.expect>

      # Configure TSAP (tSapId = 1) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="1" spId="1" type="LEG_TSAP_TYPE_TUCL"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Bind TSAP (tSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK"/>
      </tapa.expect>

      # Configure TSAP (tSapId = 3) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="3" spId="3" type="LEG_TSAP_TYPE_DTUCL"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Bind TSAP (tSapId = 3) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="3"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      <tapa.expect>
         <tapa.hit.bndreq spId="3"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="3"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>

#
#
#       Test:    tapa.eg.mme1.sgw1.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.sgw1.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>


#------------------Configure MME

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_MME"   nmbMaxTnls="10" maxTunlArrSz="3" procId="200"  />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug  procId="200"  />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="200"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11" procId="200" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="0" selector="2" procId="200" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="200" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1" procId="200" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="0" tptSrvId="1" procId="200"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="200" />
      </tapa.send>

      <tapa.delay delay="10"/>
       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="0" procId="200" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" procId="200" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="200"  />
         <tapa.hit.servopenreq suConId="1" procId="200"  />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="200" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="1" />
      </tapa.send>


      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="0" />
      </tapa.send>


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" procId="200" />
      </tapa.send>

      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1" procId="200" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
 
#------------------Configure SGW

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_SGW"   nmbMaxTnls="10" maxTunlArrSz="3" procId="300"  />
      </tapa.send>

      <tapa.delay delay="10"/>
      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug  procId="300"  />
      </tapa.send>

      <tapa.delay delay="10"/>
      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11" procId="300" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
     <tapa.delay delay="10"/>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap  spId="0" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="1" tptSrvId="0" tSapId="1" 
         isDfltSrv="TRUE" port="2124" uSapId="2" address="127.0.0.1" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="1" tSapId="1" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0"  lSapId="1" procId="300" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
       <tapa.delay delay="10"/>
       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="0" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="1" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="300" spId="0" />
         <tapa.hit.servopenreq suConId="1" procId="300" spId="0" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm suId="1" procId="300" suConId="0"/>
      </tapa.send>

#      <tapa.expect>
#      </tapa.expect>

      <tapa.send>
         <tapa.hit.concfm suId="1" procId="300" suConId="1" />
      </tapa.send>

#      <tapa.expect>
#      </tapa.expect>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="1" procId="300" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="300" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect> 
 
   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.mme1.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>


      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_MME"  nmbMaxTnls="10" maxTunlArrSz="3" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect guardTmr="10000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm />
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" procId="100" dstProcId="100" dstEntId="ENTHI"  dstInstId="5" suId="0" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0"/>
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0"/>
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="50"/>
      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" />
         <tapa.hit.servopenreq suConId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK"/>
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm suConId="1"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm suConId="0"/>
      </tapa.send>


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1"/>
      </tapa.send>
      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1"/>
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2"/>
      </tapa.expect> 
 

   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.egtp.deinit1
#
#       Desc:    Shutdown EGTP stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.egtp.deinit1">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Shutdown EGTP stack" 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Suppress Alarms
      <tapa.directive alarm="FALSE"/>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="300"/> 
      </tapa.send>

      # Expect Shutdown Control Confirm  
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expect>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="100"/> 
      </tapa.send>

      # Expect Shutdown Control Confirm  
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="100"/>
      </tapa.expect>

      <tapa.delay delay="20"/>

   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.egtp.dtucl.deinit
#
#       Desc:    Shutdown EGTP stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.egtp.dtucl.deinit">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Shutdown EGTP stack" 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      <tapa.delay delay="10"/>
      # Suppress Alarms
      <tapa.directive alarm="FALSE"/>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown/> 
      </tapa.send>

      <tapa.delay delay="10"/>
      # Expect Shutdown Control Confirm  
      <tapa.expect>
         <tapa.leg.cntrlcfm />
      </tapa.expect>

      <tapa.delay delay="50"/>

   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.egtp.deinit
#
#       Desc:    Shutdown EGTP stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.egtp.deinit">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Shutdown EGTP stack" 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      <tapa.delay delay="50"/>
      # Suppress Alarms
      <tapa.directive alarm="FALSE"/>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="200"/> 
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Expect Shutdown Control Confirm  
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expect>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="300"/> 
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
   <tapa.delay delay="10"/>
      # Expect Shutdown Control Confirm  
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expect>

      <tapa.delay delay="10"/>

   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.mme1.init.lwlc
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.init.lwlc">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_MME" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
      <!--    <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
          <tapa.leg.cntrl.debug procId="200"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="1" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="1" procId="200" sapId="1" intfType="EGT_GTP_INT_S11"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="10"/>
        <tapa.expect guardTmr="1000000">

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
         </tapa.expect>

         <!--
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      

      <!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
      
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>



#
#       Test:    tapa.eg.mme1.init
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_MME" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_S11"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="10"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
-->

<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      # Expect Control Confirm
      <tapa.expect guardTmr="10000">
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>

#MBMS Gateway
#
#       Test:    tapa.eg.mbmsgw1.init
#
#       Desc:    Init the EGTP as MBMS Gateway node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mbmsgw1.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MBMS Gateway node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_MBMSGW" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_SM"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2129" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3129" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="20"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />

-->
<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>
#MBMS Gateway
#
#       Test:    tapa.eg.mbmsgw2.init
#
#       Desc:    Init the EGTP as MBMS Gateway node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mbmsgw2.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MBMS Gateway node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_MBMSGW" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_SN"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2129" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3129" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="20"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.mme10.init
#
#       Desc:    Init the EGTP as MME node when MBMS Gateway is already Configured
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme10.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node when MBMS Gateway is already Configured"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_MME" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" intfType="EGT_GTP_INT_UNKNWN" sapId="2" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1" intfType="EGT_GTP_INT_SM"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>
      <tapa.delay delay="20"/>

        <tapa.expset>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

         <!--
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      </tapa.expset>
      

<!--      
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
 

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
      
     
   </tapa.steps>

</tapa.command>

#
#       Test:    tapa.eg.sgsn10.init
#
#       Desc:    Init the EGTP as SGSN node when MBMS Gateway is already Configured
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn10.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node when MBMS Gateway is already Configured"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_SGSN" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" intfType="EGT_GTP_INT_UNKNWN" sapId="2" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1" intfType="EGT_GTP_INT_SN"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" port="2126" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3126" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="10"/>

        <tapa.expset>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expset>
      

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
 

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
      
     
   </tapa.steps>

</tapa.command>



#
#       Test:    tapa.eg.mme3.init
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme3.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="300" nodeType="LEG_GTP_ENT_MME" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1" intfType="EGT_GTP_INT_S10"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="10"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "300"                     />
-->

<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.mme2.init
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme2.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_MME" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_S10"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2127" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3127" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="10"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
-->

<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgsn1.init
#
#       Desc:    Init the EGTP as SGSN node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn1.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGSN node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_SGSN" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_S3"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2126" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="10"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
-->

<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgsn5.init
#
#       Desc:    Init the EGTP as SGSN node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn5.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGSN node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_SGSN" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_S16"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2128" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3128" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="10"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
-->

<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgsn2.init
#
#       Desc:    Init the EGTP as SGSN node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn2.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGSN node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_SGSN" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_S16"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="10"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
-->

<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgsn3.init
#
#       Desc:    Init the EGTP as SGSN node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn3.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGSN node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_SGSN" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_S4"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2126" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="10"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
-->

<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgw1.init
#
#       Desc:    Init the EGTP as SGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGW node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_SGW" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="2"  intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>
      
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1"  intfType="EGT_GTP_INT_S5_S8"/>
      </tapa.send>
      
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" lSapId="0" tptSrvId="0"
         isDfltSrv="TRUE" port="2124"  address="127.0.0.1" uSapId="2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" port="3124"  address="127.0.0.1" uSapId="1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="10"/>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
        <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
 
      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
      
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgw2.init
#
#       Desc:    Init the EGTP as SGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw2.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGW node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_SGW" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="2"  intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>
      
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1"  intfType="EGT_GTP_INT_S4"/>
      </tapa.send>
      
      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" port="2124"  address="127.0.0.1" uSapId="2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3124"  address="127.0.0.1" uSapId="1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="10"/>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
        <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
 
      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
      
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgw1mme1.init.lwlc
#
#       Desc:    Init the EGTP as SGW node when MME1 is already Configured
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw1mme1.init.lwlc">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGW node when MME1 is already Configured"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_SGW" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="1" procId="300" intfType="EGT_GTP_INT_UNKNWN" sapId="2" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="1" procId="300" sapId="1" intfType="EGT_GTP_INT_S11"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" port="2124" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="20"/>

        <tapa.expset>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

         <!--
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      </tapa.expset>
      

<!--      
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
 

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
      
     
   </tapa.steps>

</tapa.command>




#
#       Test:    tapa.eg.sgw1mme1.init
#
#       Desc:    Init the EGTP as SGW node when MME1 is already Configured
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw1mme1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGW node when MME1 is already Configured"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_SGW" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" intfType="EGT_GTP_INT_UNKNWN" sapId="2" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect guardTmr="10000">
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1" intfType="EGT_GTP_INT_S11"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" port="2124" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect guardTmr="10000">
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect guardTmr="10000">
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="20"/>

        <tapa.expset>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

         <!--
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      </tapa.expset>
      

<!--      
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="10000">
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
 

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="10000">
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
      
     
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgsn1mme1.init
#
#       Desc:    Init the EGTP as sgsn node when MME1 is already Configured
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn1mme1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as sgsn node when MME1 is already Configured"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_MME" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" intfType="EGT_GTP_INT_UNKNWN" sapId="2" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1" intfType="EGT_GTP_INT_S3"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="20"/>

        <tapa.expset>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

         <!--
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      </tapa.expset>
      

<!--      
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
 

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
      
     
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgsn1sgsn2.init
#
#       Desc:    Init the EGTP as sgsn node when sgsn2 is already Configured
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn1sgsn2.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as sgsn node when sgsn2 is already Configured"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_SGSN" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" intfType="EGT_GTP_INT_UNKNWN" sapId="2" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1" intfType="EGT_GTP_INT_S16"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" port="2124" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="20"/>

        <tapa.expset>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

         <!--
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      </tapa.expset>
      

<!--      
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
 

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
      
     
   </tapa.steps>

</tapa.command>




#
#       Test:    tapa.eg.pgw1.init
#
#       Desc:    Init the EGTP as PGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.pgw1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as PGW node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="100" nodeType="LEG_GTP_ENT_PGW" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug procId="100"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "100"/>
      </tapa.expect>
   

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="100" sapId="1"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="100" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="100" tSapId="1" tptSrvId="10"
         isDfltSrv="TRUE" port="2125"  address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="100" tSapId="1" tptSrvId="11" 
         isDfltSrv="FALSE" port="3125"  address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="100" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="10"/>

        <tapa.expset>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="100" status="LCM_PRIM_OK"/>

         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

         <!--
               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      </tapa.expset>
      

<!--      
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="100" suId="3" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="100" suId="3"/>
      </tapa.expect>
      
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.pgw1sgw1.init
#
#       Desc:    Init the EGTP as PGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.pgw1sgw1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as PGW node when SGW1 is already configured"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="100" nodeType="LEG_GTP_ENT_PGW" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug procId="100"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "100"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="100" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect> 
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="100" sapId="1" intfType="EGT_GTP_INT_S5_S8"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="100" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="100" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" port="2125"  address="127.0.0.1" uSapId="2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="100" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3125"  address="127.0.0.1" uSapId="1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="100"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="100" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="10"/>

        <tapa.expect>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="100" status="LCM_PRIM_OK"/>


      </tapa.expect>
      

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="100" suId="2" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="100" suId="2"/>
      </tapa.expect>
      


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="100" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="100" suId="1"/>
      </tapa.expect>
      
   </tapa.steps>

</tapa.command>
#
#       Test:    tapa.eg.mme10.mbmsgw1.init
#
#       Desc:    Init the EGTP as MME and MBMS Gateway node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme10.mbmsgw1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME and SGW node"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
   # Configure EGTP as MBMS Gateway 
      <tapa.eg.mbmsgw1.init/>
   # Configure EGTP as MME10
      <tapa.eg.mme10.init/>


   </tapa.steps>
</tapa.command>
#
#       Test:    tapa.eg.sgsn10.mbmsgw2.init
#
#       Desc:    Init the EGTP as SGSN and MBMS Gateway node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn10.mbmsgw2.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME and SGW node"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
   # Configure EGTP as MBMS Gateway 
      <tapa.eg.mbmsgw2.init/>
   # Configure EGTP as SGSN10 
      <tapa.eg.sgsn10.init/>

   </tapa.steps>
</tapa.command>



#
#       Test:    tapa.eg.mme1.sgw1.init
#
#       Desc:    Init the EGTP as MME and SGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.sgw1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME and SGW node"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
      # Configure EGTP as MME1
      <tapa.eg.mme1.init/>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="50"/>
      # Configure EGTP as SGW1
      <tapa.eg.sgw1mme1.init/>
      <tapa.delay delay="50"/>
   </tapa.steps>
</tapa.command>


#
#       Test:    tapa.eg.mme1.mme2.init
#
#       Desc:    Init the EGTP as MME and mme2 node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.mme2.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME and MME2 node"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
      # Configure EGTP as MME1
      <tapa.eg.mme3.init/>

      # Configure EGTP as MME2
      <tapa.eg.mme2.init/>
   </tapa.steps>
</tapa.command>


#
#       Test:    tapa.eg.mme1.sgsn1.init
#
#       Desc:    Init the EGTP as MME and sgsn node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.sgsn1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME and sgsn node"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

    # Configure EGTP as MME1
   <tapa.eg.sgsn1.init/>
   <tapa.delay delay="50"/>

    # Configure EGTP as sgsn1
   <tapa.eg.sgsn1mme1.init/>

   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgw1.sgsn1.init
#
#       Desc:    Init the EGTP as SGW and sgsn node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw1.sgsn1.init">
   # Document subsection
   <tapa.doc>
      <tapa.desc>
         "Init the EGTP as SGW and sgsn node"
      </tapa.desc>
      <tapa.longdesc/>
   </tapa.doc>

   # Steps subsection
   <tapa.steps>
      # Configure EGTP as MME1
      <tapa.eg.sgsn3.init/>

      # Configure EGTP as sgsn1
      <tapa.eg.sgw2.init/>
   </tapa.steps>
</tapa.command>


#
#       Test:    tapa.eg.sgsn4.init
#
#       Desc:    Init the EGTP as SGSN node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn4.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGSN node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="300" nodeType="LEG_GTP_ENT_SGSN" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1" intfType="EGT_GTP_INT_S16"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0" 
         isDfltSrv="TRUE" port="2126" uSapId="2" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="20"/>
      <tapa.expect guardTmr="1000000">
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>

<!--
      <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

      <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "300"                     />
-->

<!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>

      <tapa.expect guardTmr="10000">
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgsn4.sgsn5.init
#
#       Desc:    Init the EGTP as sgsn1 and sgsn2 node for S16 interface testing
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgsn4.sgsn5.init">
   # Document subsection
   <tapa.doc>
      <tapa.desc>
         "Init the EGTP as sgsn1 and sgsn2 node"
      </tapa.desc>
      <tapa.longdesc/>
   </tapa.doc>

   # Steps subsection
   <tapa.steps>
      # Configure EGTP as sgsn4
      <tapa.eg.sgsn4.init/>

      # Configure EGTP as SGSN5
      <tapa.eg.sgsn5.init/>
   </tapa.steps>
</tapa.command>


#
#       Test:    tapa.eg.sgw1.pgw1.init
#
#       Desc:    Init the EGTP as SGW and PGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw1.pgw1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGW and PGW node"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

    # Configure EGTP as SGW1
   <tapa.eg.sgw1.init/>

    # Configure EGTP as PGW1
   <tapa.eg.pgw1sgw1.init/>

   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.ipv6.mme1.init
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.ipv6.mme1.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen procId="200" nodeType="LEG_GTP_ENT_MME" nmbMaxTnls="11" maxTunlArrSz="11"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="200" sapId="1" intfType="EGT_GTP_INT_S11"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="200" suId="0" spId="0"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" type="6" port="2123" uSapId="2" 
         address="::1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="200" lSapId="0" tptSrvId="1" 
         isDfltSrv="FALSE" type="6" port="3123" uSapId="1" 
         address="::1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="200"/>
      </tapa.expect>
      

  # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="200" action="ABND_ENA" lSapId="0"/>
      </tapa.send>

      <tapa.delay delay="10"/>
        <tapa.expect guardTmr="1000000">

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
         </tapa.expect>

         <!--
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>

               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      

      <!-- No Need for this as when we Bind the TSAP all server will get open
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="1" port="2123" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>

     # Open TPT Server (tptSrvId = 2) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="200" action="AENA" tptSrvId="2" port="3123"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200" status="LCM_PRIM_OK"/>
      </tapa.expect>
      
-->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>
           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
   </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.ipv6.sgw1mme1.init
#
#       Desc:    Init the EGTP as SGW node when MME1 is already Configured
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.ipv6.sgw1mme1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGW node when MME1 is already Configured"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nmbMaxTnls="11" maxTunlArrSz="11" procId="300" nodeType="LEG_GTP_ENT_SGW" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>


      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="300" action="AENA"/> -->
         <tapa.leg.cntrl.debug procId="300" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" intfType="EGT_GTP_INT_UNKNWN" sapId="2" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" procId="300" sapId="1" intfType="EGT_GTP_INT_S11"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TSAP configuration request
      <tapa.send>
         <tapa.leg.cfg.lsap procId="300" suId="1" spId="1"/>
      </tapa.send>

      # Receive the confirm for the TSAP request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="0"
         isDfltSrv="TRUE" type="6" port="2124" uSapId="2" 
         address="::1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver procId="300" tSapId="1" tptSrvId="1" 
         isDfltSrv="FALSE" type="6" port="3124" uSapId="1" 
         address="::1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm procId="300"/>
      </tapa.expect>

  # Bind TSAP (lSapId = 1) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap procId="300" action="ABND_ENA" lSapId="1"/>
      </tapa.send>

      <tapa.delay delay="10"/>

        <tapa.expset>

         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

         <!--
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>

               <tapa.leg.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCM_EVENT_BND_OK"
                          cause = "LEG_CAUSE_SAP_BNDENA"
                          type   =  "LEG_USTA_DGNVAL_SAPID"
                          typeId =  "1" 
                          procId =  "200"                     />
          -->

      </tapa.expset>
      

<!--      
      # Open TPT Server (tptSrvId = 1) 
      <tapa.send>
         <tapa.leg.cntrl.tptsrv procId="300" action="AENA" tptSrvId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300" status="LCM_PRIM_OK"/>
      </tapa.expect>
-->


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect>
 

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>
      
     
   </tapa.steps>

</tapa.command>





#
#       Test:    tapa.eg.ipv6.mme1.sgw1.init
#
#       Desc:    Init the EGTP as MME and SGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.ipv6.mme1.sgw1.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME and SGW node"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

    # Configure EGTP as MME1
   <tapa.eg.ipv6.mme1.init/>

    # Configure EGTP as SGW1
   <tapa.eg.ipv6.sgw1mme1.init/>


   </tapa.steps>

</tapa.command>



#
#
#       Command: tapa.egtp.cfg
#
#       Desc:    Command to configure the eGTP layer
#
#       Notes:   Donot use this command to init the EGTP Node, instead use 
#                tapa.egtp.init. 
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.egtp.cfg">
   
   # Document subsection
   <tapa.doc>

      <tapa.desc>
        "Command to configure the eGTP layer.
      </tapa.desc>
      
      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send Gen Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request for spId=0(Real TUCL) 
      <tapa.send>
         <tapa.leg.cfg.lsap  dstProcId="0" dstEntId="ENTHI" suId="0" spId="0" 
                   transType="LEG_TRANS_TYPE_TCP_IPSEC" tcpIpsecPort="46466" 
                   ipAddrType="CM_NETADDR_IPV4" tcpIpAddr="172.25.0.14"/>
      </tapa.send>
      
      # Expect Cfg Confirm for TSAP Configuration
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request for spId=2(Dummy TUCL)
      <tapa.send>
         <tapa.leg.cfg.lsap transType="LEG_TRANS_TYPE_TCP_BOTH" spId="2" suId="2"/>  
      </tapa.send>
      
      # Expect Cfg Confirm for TSAP Configuration
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Configuration Request for suId=0
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" spId="0" />  
      </tapa.send>
      
      # Expect Cfg Confirm for USAP Configuration
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>
   </tapa.steps>

</tapa.command>

#
#
#       Test:    tapa.eg.mmeX.sgw1.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mmeX.sgw1.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>


#------------------Configure MME

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_MME"   nmbMaxTnls="10" maxTunlArrSz="3" procId="200"
                                         pathTmrEnb="TRUE" pathT3TmrVal="1" pathTmrVal="8" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug  procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="200"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11" procId="200" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="0" selector="2" procId="200" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="200" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1" procId="200" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="0" tptSrvId="1" procId="200"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="200" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="0" procId="200" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" procId="200" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="200"  />
         <tapa.hit.servopenreq suConId="1" procId="200"  />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="200" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="1" />
      </tapa.send>


      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="0" />
      </tapa.send>


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" procId="200" />
      </tapa.send>


      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1" procId="200" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
 
#------------------Configure SGW

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_SGW"   nmbMaxTnls="10" maxTunlArrSz="3" procId="300"
               pathTmrEnb="TRUE"  pathT3TmrVal="1" pathTmrVal="9" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug  procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="1" tptSrvId="0" 
         isDfltSrv="TRUE" port="2124" uSapId="2" address="127.0.0.1" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="1" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" lSapId="1" procId="300" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="1" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="300" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="300" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  suId="1"  procId="300" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  suId="1"  procId="300" suConId="1" />
      </tapa.send>


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1" procId="300" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect> 
 
   </tapa.steps>

</tapa.command>

############################################
#
#       Test:    tapa.eg.mme3.dtucl.init
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme3.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
 
      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_MME"   nmbMaxTnls="10" maxTunlArrSz="3" procId="200"
                                         pathTmrEnb="TRUE" pathT3TmrVal="10" pathTmrVal="18" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="200"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11" procId="200" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="0" selector="2" procId="200" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="200" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1" procId="200" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="0" tptSrvId="1" procId="200"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="200" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="0" procId="200" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" procId="200" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="200"  />
         <tapa.hit.servopenreq suConId="1" procId="200"  />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="200" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="1" />
      </tapa.send>


      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="0" />
      </tapa.send>


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" procId="200" />
      </tapa.send>


      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1" procId="200" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="2"/>
      </tapa.expect> 
 
  
      </tapa.steps>

 
</tapa.command>



#
#       Test:    tapa.eg.pgw.dtucl.init
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.pgw.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
 
      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_PGW"   nmbMaxTnls="10" maxTunlArrSz="3" procId="400"
                                         pathTmrEnb="TRUE" pathT3TmrVal="10" pathTmrVal="18" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="400"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "400"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="400"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S5_S8" procId="400" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400" />
      </tapa.expect>

      # Configure TSAP (tSapId = 3) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="3" selector="2" procId="400" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="400" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="3" tptSrvId="0" 
         isDfltSrv="TRUE" port="2125" uSapId="2" address="127.0.0.4" procId="400" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="3" tptSrvId="1" procId="400"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.4"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 3) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="400" lSapId="3" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="0" procId="400" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="3" status="LCM_PRIM_OK" procId="400" />
      </tapa.send>

      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="400" />
         <tapa.hit.servopenreq suConId="0" procId="400"  />
         <tapa.hit.servopenreq suConId="1" procId="400"  />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="400" suConId="1" suId="3" />
      </tapa.send>


      <tapa.send>
         <tapa.hit.concfm  procId="400" suConId="0"  suId="3"/>
      </tapa.send>


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" procId="400" />
      </tapa.send>


      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1" procId="400" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="400" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="400" suId="2"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>

#
#       Test:    tapa.eg.sgw.multi.ip.init
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw.multi.ip.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_SGW"   nmbMaxTnls="10" maxTunlArrSz="3" procId="300"
                                         pathTmrEnb="TRUE" pathT3TmrVal="10" pathTmrVal="18" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300"  sapId="4" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="3" intfType="EGT_GTP_INT_S5_S8" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 1) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 2) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="3" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="2" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="1" tptSrvId="0" 
         isDfltSrv="TRUE" port="2124" uSapId="2" address="127.0.0.2" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="1" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="2" tptSrvId="0" 
         isDfltSrv="TRUE" port="2124" uSapId="4" address="127.0.0.3" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="2" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="3" address="127.0.0.3"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 1) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="300" lSapId="1"/>
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="1" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="300" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="300" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
      </tapa.expset>


      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="0" suId="1"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="1" suId="1"/>
      </tapa.send>


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="1" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="300" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="3"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect> 
 
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="300" lSapId="2"/>
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="3" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="2" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>

      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
         <tapa.hit.servopenreq suConId="0" procId="300" spId="3" />
         <tapa.hit.servopenreq suConId="1" procId="300" spId="3" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="0" suId="2"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="1" suId="2"/>
      </tapa.send>

      <tapa.delay delay="7"/>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="3" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="300" />
      </tapa.expect>

        # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="3"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect> 
 

     </tapa.steps>

</tapa.command>


#
#       Test:    tapa.eg.sgw1.multi.ip.init
#
#       Desc:    Init the EGTP as MME node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw1.multi.ip.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as MME node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_SGW"   nmbMaxTnls="10" maxTunlArrSz="3" procId="300"
               pathTmrEnb="TRUE"  pathT3TmrVal="10" pathTmrVal="19" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "300"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300"  sapId="2" intfType="EGT_GTP_INT_S11" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
  
      <!--
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
      -->

   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300"  sapId="4" intfType="EGT_GTP_INT_S5_S8" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
    
      <!--
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300"  sapId="4" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="3" intfType="EGT_GTP_INT_S5_S8" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
      -->

      # Configure TSAP (tSapId = 1) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 2) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="3" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="2" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="1" tptSrvId="0" 
         isDfltSrv="TRUE" port="2124" uSapId="2" address="127.0.0.2" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      <!--
      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="1" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
      -->
   
      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="2" tptSrvId="0" 
         isDfltSrv="TRUE" port="2124" uSapId="4" address="127.0.0.3" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      <!--
      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="2" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="3" address="127.0.0.3"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
      -->
   
      # Bind TSAP (tSapId = 1) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="300" lSapId="1"/>
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="1" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>

      <tapa.expset>
        <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
         <tapa.hit.servopenreq suConId="0" procId="300" spId="1" />
        #<tapa.hit.servopenreq suConId="1" procId="300" spId="1" />
      </tapa.expset>


      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="0" suId="1"/>
      </tapa.send>

      <!--
      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="1" suId="1"/>
      </tapa.send>
      -->


      <!--
      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="1" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="300" />
      </tapa.expect>
      -->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect> 

 
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="300" lSapId="2"/>
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="3" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="2" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>

      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
         <tapa.hit.servopenreq suConId="0" procId="300" spId="3" />
         #<tapa.hit.servopenreq suConId="1" procId="300" spId="3" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="0" suId="2"/>
      </tapa.send>

      <!--
      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="1" suId="2"/>
      </tapa.send>
      -->

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="4" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="300" />
      </tapa.expect>

      <!--
        # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="2" spId="3"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="2"/>
      </tapa.expect> 
      -->
 

     </tapa.steps>

</tapa.command>

#
#
#       Test:    tapa.eg.mme1.sgw1.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.sgw3.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
#------------------Configure SGW

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_SGW"   nmbMaxTnls="10" maxTunlArrSz="3" procId="400"
               pathTmrEnb="TRUE"  pathT3TmrVal="1" pathTmrVal="9" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="400"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "400"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="400"  sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S11" procId="400" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400" />
      </tapa.expect>

      # Configure TSAP (tSapId = 3) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="3" selector="2" procId="400" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="400" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="3" tptSrvId="0" 
         isDfltSrv="TRUE" port="2124" uSapId="2" address="127.0.0.4" procId="400" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="3" tptSrvId="1" procId="400"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.4"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="400" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 3) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="400" lSapId="3" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="0" procId="400" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="3" status="LCM_PRIM_OK" procId="400" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="50"/>
      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="400" />
         <tapa.hit.servopenreq suConId="0" procId="400"  />
         <tapa.hit.servopenreq suConId="1" procId="400"  />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="400" suConId="1" suId="3" />
      </tapa.send>


      <tapa.send>
         <tapa.hit.concfm  procId="400" suConId="0"  suId="3"/>
      </tapa.send>


      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" procId="400" />
      </tapa.send>


      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1" procId="400" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="400" suId="2" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="400" suId="2"/>
      </tapa.expect>



   </tapa.steps>

</tapa.command>







#
#       Test:   tapa.eg.mme.sgw.pgw.init
#
#       Desc:    Init the EGTP as SGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme.sgw.pgw.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGW node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Configure EGTP as MME1
      <tapa.eg.mme3.dtucl.init/>
      <tapa.delay delay="20"/>
      <tapa.eg.sgw.multi.ip.init/>
      <tapa.delay delay="20"/>
      <tapa.eg.pgw.dtucl.init/>

   </tapa.steps>

</tapa.command>

#
#       Test:   tapa.eg.multi.ip.init
#
#       Desc:    Init the EGTP as SGW node
#
#       Notes:   None
#
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.multi.ip.init">
   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init the EGTP as SGW node : Proc 1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Configure EGTP as MME1
      <tapa.eg.mme3.dtucl.init/>
      <tapa.eg.sgw1.multi.ip.init/>
      <tapa.eg.pgw.dtucl.init/>

   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.egtp.multi.ip.deinit
#
#       Desc:    Shutdown EGTP stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.egtp.multi.ip.deinit">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Shutdown EGTP stack" 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Suppress Alarms
      <tapa.directive alarm="FALSE"/>

      <tapa.delay delay="50"/>
      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="200"/> 
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="20"/>
      # Expect Shutdown Control Confirm  
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expect>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="300"/> 
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="20"/>
      # Expect Shutdown Control Confirm  
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expect>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="400"/> 
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="20"/>
      # Expect Shutdown Control Confirm  
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="400"/>
      </tapa.expect>


      <tapa.delay delay="10"/>

   </tapa.steps>

</tapa.command>

/* eg009.201 - Added for S2B and S2A */
#
#
#       Test:    tapa.eg.msc1.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.msc1.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_MSC" procId="300"  sapId="2"  nmbMaxTnls="10" maxTunlArrSz="3" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_SV" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.2" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="0" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="300" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="2" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="300" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="300" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="1" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="1" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="300" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.mme2.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme2.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
#------------------Configure MME

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_MME" procId="200"  sapId="2"  nmbMaxTnls="10" maxTunlArrSz="3" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_SV" procId="200" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="200" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="200" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1" procId="200" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="0" tptSrvId="1" procId="200"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="200" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="200" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="2" status="LCM_PRIM_OK" procId="200" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="200" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="200" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="200" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="1" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="1" procId="200" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="200" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>


   </tapa.steps>

</tapa.command>

#
#
#       Test:    tapa.eg.mme2.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme2.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
#------------------Configure MME

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_MME"   nmbMaxTnls="10" maxTunlArrSz="3" procId="200"
               pathTmrEnb="TRUE"  pathT3TmrVal="1" pathTmrVal="9" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_SV" procId="200" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="200" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="200" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.1" procId="200" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="0" tptSrvId="1" procId="200"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="200" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="200" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="2" status="LCM_PRIM_OK" procId="200" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="200" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="200" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="200" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="1" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="1" procId="200" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="200" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="1"/>
      </tapa.expect>


   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.msc1.echo.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.msc1.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_MSC"   nmbMaxTnls="10" maxTunlArrSz="3" procId="300"
               pathTmrEnb="TRUE"  pathT3TmrVal="1" pathTmrVal="9" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_SV" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  lSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2123" uSapId="2" address="127.0.0.2" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver lSapId="0" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" procId="300" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="2" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="20"/>
      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="300" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="300" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  procId="300" suConId="1" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="2" spId="1" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="2" procId="300" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.mme1.msc1.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.msc1.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

    # Configure EGTP as MME
   <tapa.eg.mme2.dtucl.init/>

    # Configure EGTP as MSC
  <tapa.eg.msc1.dtucl.init/>

   </tapa.steps>

</tapa.command>

#
#
#       Test:    tapa.eg.mme1.msc1.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.mme1.msc1.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

       # Configure EGTP as MME
      <tapa.eg.mme2.echo.dtucl.init/>

       # Configure EGTP as MSC
     <tapa.eg.msc1.echo.dtucl.init/>

   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.pdg.echo.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.pdg.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
#------------------Configure PDG

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_EPDG"   nmbMaxTnls="10" maxTunlArrSz="3" procId="200"
               pathTmrEnb="TRUE"  pathT3TmrVal="1" pathTmrVal="9" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S2B" procId="200" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="0" selector="2" procId="200" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="1" procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2130" uSapId="2" address="127.0.0.1" procId="200" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="1" procId="200"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 1) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" lSapId="0" procId="200" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="200" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" procId="200" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="200" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="200" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="200" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="1" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="0" spId="1" procId="200" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="0" procId="200" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="0" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="0"/>
      </tapa.expect>


   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.twan.echo.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.twan.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>
#------------------Configure  TWAN

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_TWAN"   nmbMaxTnls="10" maxTunlArrSz="3" procId="200"
               pathTmrEnb="TRUE"  pathT3TmrVal="1" pathTmrVal="9" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="200"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "200"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="200" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S2A" procId="200" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="0" selector="2" procId="200" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="1" procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="0" tptSrvId="0" 
         isDfltSrv="TRUE" port="2131" uSapId="2" address="127.0.0.1" procId="200" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="1" procId="200"  
         isDfltSrv="FALSE" port="3123" uSapId="1" address="127.0.0.1"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="200" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 1) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" lSapId="0" procId="200" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="200" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" procId="200" />
      </tapa.send>
      # eg012.201: ccpu00126498: fix for purify crash
      <tapa.delay delay="20"/>
      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="200" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="200" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="200" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  procId="200" suConId="1" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="0" spId="1" procId="200" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="0" procId="200" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="200" suId="0" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="200" suId="0"/>
      </tapa.expect>


   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.pgw1.echo.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.pgw1.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_PGW"   nmbMaxTnls="10" maxTunlArrSz="3" procId="300"
               pathTmrEnb="TRUE"  pathT3TmrVal="1" pathTmrVal="9" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S2A" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="1" tptSrvId="0" 
         isDfltSrv="TRUE" port="2125" uSapId="2" address="127.0.0.2" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="1" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" lSapId="1" procId="300" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="1" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="300" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="300" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm suId="1"  procId="300" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm suId="1" procId="300" suConId="1" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1" procId="300" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect> 
 
   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.pgw.echo.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.pgw.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeType="LEG_GTP_ENT_PGW"   nmbMaxTnls="10" maxTunlArrSz="3" procId="300"
               pathTmrEnb="TRUE"  pathT3TmrVal="1" pathTmrVal="9" />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300"/>
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug  procId="300"  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  procId = "300"/>
      </tapa.expect>
    
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0"  procId="300" sapId="2" intfType="EGT_GTP_INT_UNKNWN" echo="TRUE"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap selector="0" sapId="1" intfType="EGT_GTP_INT_S2B" procId="300" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap tSapId="0" spId="1" type="LEG_TSAP_TYPE_DTUCL"
                dstProcId="100" dstEntId="ENTHI"  dstInstId="5"
                suId="1" selector="2" procId="300" />
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm tSapId="0" procId="300" />
      </tapa.expect>


      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver  tSapId="1" tptSrvId="0" 
         isDfltSrv="TRUE" port="2125" uSapId="2" address="127.0.0.2" procId="300" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="1" tptSrvId="1" procId="300"  
         isDfltSrv="FALSE" port="3124" uSapId="1" address="127.0.0.2"/>
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm  procId="300" />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" lSapId="1" procId="300" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="2" spId="1" procId="300" />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="1" status="LCM_PRIM_OK" procId="300" />
      </tapa.send>

      <tapa.expset>
         <tapa.hit.servopenreq suConId="0" procId="300" spId="1" />
         <tapa.hit.servopenreq suConId="1" procId="300" spId="1" />
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" procId="300" />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm suId="1"  procId="300" suConId="0"/>
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm suId="1" procId="300" suConId="1" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" procId="300" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1" procId="300" />
      </tapa.expect>

           # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq procId="300" suId="1" spId="2"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm procId="300" suId="1"/>
      </tapa.expect> 
 
   </tapa.steps>

</tapa.command>


#
#
#       Test:    tapa.eg.pdg.pgw.echo.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.pdg.pgw.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

       # Configure EGTP as MSC
     <tapa.eg.pdg.echo.dtucl.init/>

       # Configure EGTP as MME
     <tapa.eg.pgw.echo.dtucl.init/>

   </tapa.steps>

</tapa.command>

#
#
#       Test:    tapa.eg.twan.pgw.echo.dtucl.init
#
#       Desc:    Init EGTP Stack
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    egac_cmd2.xml
#
#
<tapa.command id="tapa.eg.twan.pgw.echo.dtucl.init">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Init EGTP Stack"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Steps subsection
   <tapa.steps>

       # Configure EGTP as MSC
     <tapa.eg.twan.echo.dtucl.init/>

       # Configure EGTP as MME
     <tapa.eg.pgw1.echo.dtucl.init/>

   </tapa.steps>
</tapa.command>

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend


#/********************************************************************30**
#
#         End of file:     
#
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#    $SID$      ---     ad           1. Created for EGTP 1.1 Rel
             eg009.201  asaurabh     1. Added for S2B and S2A .
#    eg012.201  ---     shpandey     1. Added chages for purify crash,fix for ccpu00126498
#*********************************************************************91*/
