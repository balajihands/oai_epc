
#/********************************************************************20**
#
#     Name:    EGTP 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Group 
#
#     File:    egac_tc1.xml
#
#     Sid:   
#
#     Prg:  pchebolu
#
#*********************************************************************21*/

# EGTP-C Test Cases

#
#       Test:    1.1
#
#       Desc:   Verify the success sending of CSR.
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.1">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Verify the success sending of CSR"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

 
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="0"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send>
      
      

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

 
      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
   
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>



#
#       Test:    1.2
#
#       Desc:   Send CBR after CSR with Teid=1
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.2">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send CBR after CSR with Teid=1"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

    # Configure TUCL
      <tapa.eg.mme1.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
            

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

 
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

 
      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_REQ" intfType="EGT_GTP_INT_S11" crtFlag="FALSE"
               spId="1" procId="200" transId="1"  lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

       
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_MB_RSP" intfType="EGT_GTP_INT_S11" 
               spId="1" procId="300" transId="1"/>
      </tapa.send>
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

 
       
      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_MB_RSP" transId="1" suId="1" procId="200" teid="1"/>
      </tapa.expect>
   

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>



#
#       Test:    1.3
#
#       Desc:   Send ECHO after CSR with Teid=1
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.3">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send CBR after CSR with Teid=1"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

    # Configure TUCL
      <tapa.eg.mme1.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" SpecHand="FALSE"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0"  suId="1" procId="300"/>
        </tapa.send>

       
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

       
      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" intfType="EGT_GTP_INT_UNKNWN" crtFlag="FALSE" teidPres="FALSE"
         SpecHand="FALSE" spId="1" procId="200" transId="1"  lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_ECHO_RSP" intfType="EGT_GTP_INT_UNKNWN" 
                teidPres="FALSE" spId="2" procId="300" transId="1"/>
      </tapa.send>
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="0"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

       
      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_ECHO_RSP" transId="1" suId="1" procId="200" teid="0"/>
      </tapa.expect>
   

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>



#
#       Test:    1.4
#
#       Desc:   Send Lcl Del after the CSR/CSRSP
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.4">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send Lcl Del after the CSR/CSRSP"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.lcldelreq spId="1" procId="200" transId="1" teid="1"/>
      </tapa.send>
       
      <tapa.expect>
         <tapa.egt.lcldelcfm transId="1" suId="1" procId="200" teid="1"/>
      </tapa.expect>
   

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.5
#
#       Desc:   Send 2nd CSR but without crt=TRUE
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.5">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Verify the success sending of CSR"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
 
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="FALSE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
   
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>



#
#       Test:    1.6
#
#       Desc:   Send DL Data Notification and expect ACK
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.6">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send DL Data Notification and expect ACK"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>
 
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
 
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_DWN_DATA_NOTFN" intfType="EGT_GTP_INT_S11"
               spId="1" procId="300" transId="1" lclPort="3124"
               rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>

      <tapa.expect>
        <tapa.egt.sigind teid="1" suId="1" procId="200" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_DWN_DATA_NOTFN_ACK" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="200" transId="1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_DWN_DATA_NOTFN_ACK" transId="1" teid="1" suId="2" procId="300"/>
      </tapa.expect>
   
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.7
#
#       Desc:   MB CMD and expect for the FAIL IND
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.7">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "MB CMD and expect for the FAIL IND"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>
 
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
 
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_CMND" intfType="EGT_GTP_INT_S11" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNoPres="TRUE" seqNo="8388609"
          rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect guardTmr="100000">
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_MBFAIL_IND" intfType="EGT_GTP_INT_S11" teid="1"  seqNo="8388609"
               spId="1" procId="300" transId="1" />
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>
      #eg012.201:sigcfm changes to sigind
      <tapa.expect guardTmr="100000">
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_MBFAIL_IND" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
   
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>



#
#       Test:    1.8
#
#       Desc:   Send DL Data Notification and expect FAIL IND
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.8">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send DL Data Notification and expect FAILURE IND"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>
 
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
 
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_DWN_DATA_NOTFN" intfType="EGT_GTP_INT_S11"
               spId="1" procId="300" transId="1" lclPort="3124"
               rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>

      <tapa.expect>
        <tapa.egt.sigind teid="1" suId="1" procId="200" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_DD_NOTFN_FAIL_IND" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="200" transId="1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>
      #eg012.201:sigcfm changes to sigind
      <tapa.expect>
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_DD_NOTFN_FAIL_IND" transId="1" teid="1" suId="2" procId="300"/>
      </tapa.expect>
   
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   <tapa.memLeak/>
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.9
#
#       Desc:   Send Lcl Del after the CSR
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.9">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send Lcl Del after the CSR"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>
 
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="FALSE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>   
      </tapa.expect>
   

      <tapa.send>
         <tapa.egt.lcldelreq spId="1" procId="200" transId="1" teid="1"/>
      </tapa.send>
       
      <tapa.expect>
         <tapa.egt.lcldelcfm transId="1" suId="1" procId="200" teid="1"/>
      </tapa.expect>
   

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.10
#
#       Desc:   BR CMD and expect for the FAIL IND
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.10">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "BR CMD and expect for the FAIL IND"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>
 
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
 
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_BR_CMND" intfType="EGT_GTP_INT_S11" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="8388609"
          rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect guardTmr="100000">
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_BR_FAIL_IND" intfType="EGT_GTP_INT_S11" teid="1"  seqNo="8388609"
               spId="1" procId="300" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>
      #eg012.201sigcfm changes to sigind
      <tapa.expect guardTmr="100000">
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_BR_FAIL_IND" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>
   
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.11
#
#       Desc:   Verify that CSR request is retransmitted for N3 times And 
                Indication is sent to the application, when 
                response is not  received from peer entity 
#
#       Ref:    None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.11">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Verify that CSR request is retransmitted for N3 times And"
         "Indication is sent to the application, when"
         "response is not  received from peer entity"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="5" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
  
      <tapa.delay delay="20" />
      # expect retransmission
      # duplicate messages are treated as new request for tunnel creation.
      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind  suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.expect>
         <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_CS_REQ" transId="1" seqNo="1"
                teid="1" suId="1" procId="200" errType="EGT_ERR_REQ_FAIL"/>
      </tapa.expect>
 
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
<!--
   # De-Init EGTP
   <tapa.egtp.deinit/>
-->
      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="300"/>
      </tapa.send>

      # Expect Shutdown Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expect>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="200"/>
      </tapa.send>

      # Expect Shutdown Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.12
#
#       Desc:   Verify that when a command message is sent with a sequence number 
#                whose MSB is 0,then the message is dropped and an indication is 
#                sent to the application 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.12">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Verify that when a command message is sent with a sequence number"
         "whose MSB is 0,then the message is dropped and an indication is"
         "sent to the application"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" 
         crtFlag="TRUE" spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" 
               rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" />   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" teidValue="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" 
         procId="200"/>
      </tapa.expect>
  
      <tapa.send>
        <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_CMND" intfType="EGT_GTP_INT_S11" 
        crtFlag="FALSE"  seqNo="100" spId="1" procId="200" transId="1" addInterfaceType="10" 
        lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
      
   
      <tapa.expect>
         <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_MB_CMND" transId="1" teid="1" suId="1" 
         procId="200"  errType="EGT_ERR_REQ_FAIL" seqNo="100"/>
      </tapa.expect>
      
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.13
#
#       Desc:   Verify that when CSR message is sent with a sequence number 
#                whose MSB is 1,then the message is dropped and an indication is 
#                sent to the application 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.13">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Verify that when CSR message is sent with a sequence number"
         "whose MSB is 1,then the message is dropped and an indication is"
         "sent to the application"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" 
            crtFlag="TRUE" seqNo="8388609" spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" 
               rmtaddr="127.0.0.1"/>
      </tapa.send>
       
      <tapa.expect>
         <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_CS_REQ" transId="1" teid="1" suId="1" 
         procId="200"  errType="EGT_ERR_REQ_FAIL" seqNo="8388609"/>
      </tapa.expect>
 
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#       Test:    1.14
#
#       Desc:   Send CBR after CSR with Teid=1
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.14">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send CBR after CSR with Teid=1"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>
 
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" 
            crtFlag="TRUE" spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="5" lcladdr="127.0.0.1" 
               rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect >
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" 
             procId="200"/>
      </tapa.expect>
  
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_REQ" intfType="EGT_GTP_INT_S11" 
           crtFlag="FALSE" seqNo="100" spId="1" procId="200" transId="1"  
           lclPort="3123" rmtPort="2124" t3TmrVal="7" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect  guardTmr="100">
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
  
      #expect retransmissions, duplicate messages are dropped.
      # Expect Message at DTUCL
      <tapa.expset guardTmr="100">
         <tapa.hit.udatreq save="FALSE" suId="0" procId="200" suConId="1"/>
         <tapa.hit.udatreq save="FALSE" suId="0" procId="200" suConId="1"/>
         <tapa.hit.udatreq save="FALSE" suId="0" procId="200" suConId="1"/>
         <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_MB_REQ" transId="1" teid="1" suId="1" 
            procId="200"  errType="EGT_ERR_REQ_FAIL" seqNo="100"/>
      </tapa.expset>

      <tapa.delay delay="1" />
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_REQ" intfType="EGT_GTP_INT_S11" 
            crtFlag="FALSE" seqNo="101" spId="1" procId="200" transId="1"  lclPort="3123" 
            rmtPort="2124" t3TmrVal="100" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_MB_RSP" intfType="EGT_GTP_INT_S11" 
               spId="1" procId="300" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_MB_RSP" transId="1" suId="1" 
         procId="200" teid="1"/>
      </tapa.expect>
   

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#       Test:    1.15
#
#       Desc:   MME tries to send CBR on a tunnel created.
#       Tunnel module rejects the message, since MME can only receive CBR.
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.15">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
       MME tries to send CBR on a tunnel created.
       Tunnel module rejects the message, since MME can only receive CBR.
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
     
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
 
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>
 
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" 
            crtFlag="TRUE" spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" 
               rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect >
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" 
             procId="200"/>
      </tapa.expect>
  
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CB_REQ" intfType="EGT_GTP_INT_S11" 
            crtFlag="FALSE" seqNo="100" spId="1" procId="200" transId="1"  lclPort="3123" 
            rmtPort="2124" t3TmrVal="100" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

   
      <tapa.expect >
         <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_CB_REQ" transId="1" teid="1" suId="1" 
            procId="200"  errType="EGT_ERR_REQ_FAIL" seqNo="100"/>
      </tapa.expect>
 

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

# EGTP-U Test Cases

#
#       Test:    1.16
#
#       Desc:  "Verify Acceptance of multiple general Configuration with Valid Parameters
#               by shutting down in between"
#
#    Ref:   EG_LM_CONFIG_1
#
#       Notes:   None
#              
#       Module:  eg.leg.cfg.gen 
#
#       File:    egac_tc1.xml
#
<tapa.testcase id="1.16">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.gen"/>

      <tapa.desc>
       "Verify Acceptance of general Configuration with Valid Parameters"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen timerRes="1" nmbUSaps="3" nmbSrvs="5" nmbTsap="1" 
                           resThreshUpper="6" resThreshLower="2"
                           eguT3Timerenb="TRUE" eguT3TimerVal="10" nmbRetries="3"
                           echoTmrEnb="TRUE" echoTmrVal="60" reOrderTmrEnb="TRUE" reOrderTmrVal="10" 
                           pvtExtId="50" pduWindSize="20" maxNumOfIp="10" nodeArch="LEG_NODE_LTE"
                           nmbWorkerThread="3" gbThrAssgnTmrEnb="TRUE" gbThrAssgnTmrVal="5"/>  
      </tapa.send>
      
      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>
   
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.17
#
#       Desc:    Check for the Positive Config Cfm for  ( Re-Configuration ) of General 
#                Configurations With valid parameters. This does not do the validation 
#                Whether the parameter is re-configured in the layer
#
#    Ref:   EG_LM_CONFIG_4
#
#       Notes:  None
#              
#       Module: eg.leg.conf.gen 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.17">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.gen"/>

      <tapa.desc>
       "Check for the Positive Config Cfm for  ( Re-Configuration ) of General 
        Configurations With valid parameters. This does not do the validation 
        Whether the parameter is re-configured in the layer."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen timerRes="1" nmbUSaps="5" nmbSrvs="30" nmbTsap="1"
                           resThreshUpper="6" resThreshLower="2"
                           eguT3Timerenb="TRUE" eguT3TimerVal="10" nmbRetries="3"
                           echoTmrEnb="TRUE" echoTmrVal="50" reOrderTmrEnb="TRUE" reOrderTmrVal="10" 
                           pvtExtId="30" pduWindSize="20" maxNumOfIp="10" nodeArch="LEG_NODE_LTE"
                           nmbWorkerThread="1" gbThrAssgnTmrEnb="TRUE" gbThrAssgnTmrVal="5"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send ReConfiguration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>
      
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.18
#
#       Desc:   Verify the successful sending and receiving of G-PDU
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.18">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the successful sending and receiving of G-PDU with general
	 stastistics request"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
    
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" suConId="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.egudatind suId="1" spId="1" passData="TRUE" passIpAddr="TRUE" suConId="2" />
      </tapa.send>

      <tapa.expect>
         <tapa.egt.egudatind lclTeid="20" suId="1" spId="1" msgType="EGT_GTPU_MSG_GPDU" 
            lclAddr="127.0.0.100" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      #Send Thread statistics request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGEN"/>
      </tapa.send>

      # Expect statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>

      
      <tapa.delay delay="20" />

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.19
#
#   Desc: :  Check for the positive control Cfm for enabling/disabling trace
#            for TSAP.
#
#       Notes:  None
#              
#       Module: eg.leg.cntrl.lsapTrc
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.19">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.lsapTrc"/>

      <tapa.desc>
   "Check for the positive control Cfm for enabling/disabling trace for TSAP."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen nmbUSaps="10" nmbWorkerThread="6"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.lsap/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send Disable trace Control Request
      <tapa.send>
         <tapa.leg.cntrl.lsapTrc/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send enable trace Control Request
      <tapa.send>
         <tapa.leg.cntrl.lsapTrc action="AENA" trcMask="8704" trcLen="50"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>
      
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.20
#
#   Desc: Check for the Positive control Cfm for enabling/disabling the 
#         unsolicited status.
#
#       Notes:  None
#              
#       Module: eg.leg.cntrl.usta
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.20">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
   "Check for the Positive control Cfm for enabling/disabling the unsolicited
    status."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable unsoliited status control Request 
      <tapa.send>
         <tapa.leg.cntrl.usta/>
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send disable unsoliited status control Request 
      <tapa.send>
         <tapa.leg.cntrl.usta action="ADISIMM"/>
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.21
#
#   Desc: Configuration of compleate eGTP-U layer"
       Gen cfg, USap cfg, IP cfg, LSap cfg, Tpt server cfg and adding tunnels.
#
#       Notes:  None
#              
#       Module: eg.leg.cntrl.usta
#
#       File:   egac_tc1.xml
#

  <tapa.testcase id="1.21">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
      "Configuration of compleate eGTP-U layer"
       Gen cfg, USap cfg, IP cfg, LSap cfg, Tpt server cfg
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
   <tapa.cfg/>

 

   # Steps subsection
   <tapa.test>
 
         # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug  action="AENA" dbgMask="524032" flag="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm />
      </tapa.expect>

      # Send an egt sap configuration request

      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      
      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.100" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>


      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>
      
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="1" uSapId="1" port="10000" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="2" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.100" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>
   
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" flag="LEG_EGTP_U" />
      </tapa.send>
 <!--
       <tapa.expect>
         <tapa.hit.bndreq suId="0" spId="0"  />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" />
      </tapa.send>
-->
      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" />
         <tapa.hit.servopenreq suConId="0"  />
         <tapa.hit.servopenreq suConId="1"   />
         <tapa.hit.servopenreq suConId="2"   />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  suConId="2" />
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  suConId="1" />
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  suConId="0" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" />
      </tapa.send>


      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1"  />
      </tapa.expect>
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" lclPort="2152" selector="0"
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="1" intfType="EGT_INT_S5_S8_SGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="1" intfType="EGT_INT_S5_S8_SGW_GTP_U" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" lclPort="10000"
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="2" intfType="EGT_INT_X2_DL_ENB_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="2" intfType="EGT_INT_X2_DL_ENB_GTP_U" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.100" rmtAddr="127.0.0.1" lclPort="2152"
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="20" intfType="EGT_INT_S1_U_SGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="20" intfType="EGT_INT_S1_U_SGW_GTP_U" lclAddr="127.0.0.100" 
            rmtAddr="127.0.0.1"/>
      </tapa.expect>

      </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

  </tapa.testcase>

#
#       Test:    1.22
#
#   Desc: Adding Tunnel aftre configuring eGTP-U, and deleating the added
          tunnels.
#
#       Notes:  None
#              
#       Module: eg.leg.cntrl.usta
#
#       File:   egac_tc1.xml
#

  <tapa.testcase id="1.22">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
      "Configuration of compleate eGTP-U layer"
       Gen cfg, USap cfg, IP cfg, LSap cfg, Tpt server cfg, delete tunnel
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
   <tapa.cfg/>

 

   # Steps subsection
   <tapa.test>
 
         # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm />
      </tapa.expect>

      # Send an egt sap configuration request

      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      
    
      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>
      
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="1" uSapId="1" port="10000" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" flag="LEG_EGTP_U" />
      </tapa.send>
      <!--
       <tapa.expect>
         <tapa.hit.bndreq suId="0" spId="0"  />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" />
      </tapa.send>
-->
      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" />
         <tapa.hit.servopenreq suConId="0"  />
         <tapa.hit.servopenreq suConId="1"   />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  suConId="1" />
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  suConId="0" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" />
      </tapa.send>


      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1"  />
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="1" intfType="EGT_INT_S5_S8_SGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="1" intfType="EGT_INT_S5_S8_SGW_GTP_U" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="2" intfType="EGT_INT_X2_DL_ENB_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="2" intfType="EGT_INT_X2_DL_ENB_GTP_U" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100"/>
      </tapa.expect>

      # Send tunnel Management Request to delete tunnel 1
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1"
	 rmtAddr="127.0.0.100" 
            action="EGT_TMGMT_REQTYPE_DEL" reOrderPres="FALSE" teid="1" intfType="EGT_INT_S1_U_SGW_GTP_U"/>
      </tapa.send>

      <tapa.delay delay="10"/>
      
      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="1" intfType="EGT_INT_S1_U_SGW_GTP_U" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" action="EGT_TMGMT_REQTYPE_DEL"/>
      </tapa.expect>
      

      </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

  </tapa.testcase>




#
#       Test:    1.23
#
#   Desc: Check for the positive control cfm for unbound disbaling USAP
#         without any IP's
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.23">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for unbound disbaling USAP.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Bind Request from User
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="0"/>
      </tapa.send>

      # Expect Bind Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send unbind disable for USAP
      <tapa.send>
         <tapa.leg.cntrl.usap uSapId="0" flag="TRUE"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.24
#
#   Desc: Enabling reordering functionality for tunnel(UMTS node).
#
#       Notes:  None
#              
#       Module: eg.leg.cntrl.usta
#
#       File:   egac_tc1.xml
#

  <tapa.testcase id="1.24">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
      "Configuration of compleate eGTP-U layer"
       Gen cfg, USap cfg, IP cfg, LSap cfg, Tpt server cfg
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      <tapa.flag id="EGTP_U_REORDER_ENABLE"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
   <tapa.cfg/>

 

   # Steps subsection
   <tapa.test>
 
         # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeArch="LEG_NODE_UMTS"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <!-- <tapa.leg.cntrl.debug procId="200"  action="AENA"/> -->
         <tapa.leg.cntrl.debug  />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm />
      </tapa.expect>

      # Send an egt sap configuration request

      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      
    
      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>
      
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="1" uSapId="1" port="10000" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" flag="LEG_EGTP_U" />
      </tapa.send>

       <tapa.expect>
         <tapa.hit.bndreq suId="0" spId="0"  />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" />
      </tapa.send>

      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" />
         <tapa.hit.servopenreq suConId="0"  />
         <tapa.hit.servopenreq suConId="1"   />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  suConId="1" />
      </tapa.send>

      <tapa.send>
         <tapa.hit.concfm  suConId="0" />
      </tapa.send>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq suId="1" spId="1" />
      </tapa.send>


      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="1"  />
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="1" intfType="EGT_INT_S5_S8_SGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="1" intfType="EGT_INT_S5_S8_SGW_GTP_U" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100"/>
      </tapa.expect>

      # Send tunnel Management Request to enable reordering functionality
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" 
            action="EGT_TMGMT_REQTYPE_REORD_ENA" reOrderPres="TRUE" teid="1" intfType="EGT_INT_S5_S8_SGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="1" intfType="EGT_INT_S5_S8_SGW_GTP_U" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100" action="EGT_TMGMT_REQTYPE_REORD_ENA"/>
      </tapa.expect>


      </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

  </tapa.testcase>


#
#       Test:    1.25
#
#       Desc:   Testing tunnel reordering functionality.
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.25">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the successful sending and receiving of G-PDU"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
         <tapa.flag id="EGTP_U_REORDER_ENABLE"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
   # Send tunnel Management Request to enable reordering functionality
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.100" rmtAddr="127.0.0.1" 
            action="EGT_TMGMT_REQTYPE_REORD_ENA"  teid="20" intfType="EGT_INT_S1_U_SGW_GTP_U" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="20"
	 intfType="EGT_INT_S1_U_SGW_GTP_U" lclAddr="127.0.0.100"
            rmtAddr="127.0.0.1" action="EGT_TMGMT_REQTYPE_REORD_ENA"/>
      </tapa.expect>
      #send data request on tunnel 
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20"
	 lclAddr="127.0.0.1" rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"
	    seqNo="2" seqNoPres="TRUE"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="0" spId="0" suConId="1"/>
      </tapa.expect>
      
      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" passData="TRUE" passIpAddr="TRUE"
	 suConId="2" />
      </tapa.send>
      
     #send data request on tunnel 
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20"
	 lclAddr="127.0.0.1" rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"
	    seqNo="1" seqNoPres="TRUE"/>
      </tapa.send>

      <tapa.delay delay="5" />
      <tapa.expect>
         <tapa.hit.udatreq suId="0" spId="0" suConId="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" passData="TRUE" passIpAddr="TRUE"
	 suConId="2" />
      </tapa.send>
      <tapa.delay delay="5" />
     # fix for ccpu00132398
      <tapa.expect guardTmr="1000">
         <tapa.egt.egudatind lclTeid="20" suId="1" spId="1" msgType="EGT_GTPU_MSG_GPDU" 
            lclAddr="127.0.0.100" rmtAddr="127.0.0.1" 
	    seqNoPres="TRUE" seqNo="1" seqNumLst="1:2" reOrder="TRUE" />
      </tapa.expect>
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    1.26
#
#       Desc:  Adding two tunnels-Normal and forwarding,echo request will be send to peer
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc15.xml
#
<tapa.testcase id="1.26">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
           "Adding two tunnels-Normal and forwarding,echo request will be send to peer"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
          <tapa.flag id="EGTP_U_REL_9"/>
          <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.egtp.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
      #Send tunnel Management Request 1 :NORMAL TUNNEL CREATION
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" lclPort="2152" 
         action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="1" intfType="EGT_INT_S1_U_SGW_GTP_U" tunnelType="EG_NORMAL_DATA_TUNN"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="1" intfType="EGT_INT_S1_U_SGW_GTP_U" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100"/>
      </tapa.expect>

      #Send tunnel Management Request 2:FORWRADING TUNNEL CREATION
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" lclPort="10000"
         action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="2" intfType="EGT_INT_S1_U_SGW_GTP_U" tunnelType="EG_FWD_DATA_TUNN"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="2" intfType="EGT_INT_S1_U_SGW_GTP_U" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100"/>
      </tapa.expect>
      
      
    <tapa.expset guardTmr="1000">
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" suConId="1" save="FALSE" validateUMsg="TRUE"/>
    
    </tapa.expset>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="1" msgType="EGT_GTPU_MSG_ECHO_RSP" 
       recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.100"
       rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="1" msgType="EGT_GTPU_MSG_ECHO_RSP" 
       passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.100" rmtPort="2152" 
       lclTeid="0" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>
   
    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" passIpAddr="FALSE" suConId="0"
       seqNoPrsnt="TRUE" seqNo="1" remTeid="0" lclTeid="0" 
       msgType="EGT_GTPU_MSG_ECHO_RSP" 
       lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" 
       rmtAddrType="4" rmtAddr="127.0.0.1" rmtPort="2152" />
    </tapa.send>
    
    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" passIpAddr="FALSE" suConId="0"
       seqNoPrsnt="TRUE" seqNo="1" remTeid="0" lclTeid="0" 
       msgType="EGT_GTPU_MSG_ECHO_RSP" 
       lclAddrType="4" lclAddr="127.0.0.1" lclPort="10000" 
       rmtAddrType="4" rmtAddr="127.0.0.1" rmtPort="10000" />
    </tapa.send>
    
    <tapa.delay delay="20" />
   
   </tapa.test>
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
	    <tapa.egtpu.dtucl.deinit/>
   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.27
#
#       Desc:    Send echo request with Incorrect Dest Addr, 
#                 Expect an Alarm
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: PCM Module
#
#       File:   egac_tc21.xml
#
<tapa.testcase id="1.27">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.pcm"/>

      <tapa.desc>
          Send echo request with Incorrect Dest Addr,
              Expect an Alarm
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>
    # Configure TUCL
      <tapa.hi.init/>

    # Configure EGTP as MME
      <tapa.eg.mme1.sgw1.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

        <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
                spId="1" procId="200" transId="1" addInterfaceType="10"
                lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
        </tapa.send>


        # Receive Create Session Request at SGW
        <tapa.expect>
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_CS_REQ" teid="1" suId="2" procId="300"/>
        </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send>
         <tapa.leg.cntrl.usta procId="200"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expect>

      #Send a proper Echo req
      <tapa.send>
         <tapa.hit.datind procId="200" passData="FALSE"
          passIpAddr="FALSE" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"
         remTeid="0"  suId="0" spId="0" 
         msgType="EGT_GTPC_MSG_ECHO_REQ"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="1"  teidPres="FALSE"/>
      </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" transId="1"
                 teid="0" suId="2" procId="200" />
      </tapa.expect>

      #Send a faulty Echo req with incorrect Dest addr
      <tapa.send>
         <tapa.hit.datind procId="200" passData="FALSE"
          passIpAddr="FALSE" lclAddr="127.0.0.1" rmtAddr="127.0.0.2"
         remTeid="0"  suId="0" spId="0" 
         msgType="EGT_GTPC_MSG_ECHO_REQ"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="2"  teidPres="FALSE"/>
      </tapa.send>

    #Receive alarm
    <tapa.expect guardTmr="1000">
         <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" event="LCM_EVENT_UI_INV_EVT" 
         cause="LEG_CAUSE_DST_IP_NOT_CONFIG" type="LEG_PAR_IP"/>
    </tapa.expect>

 

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   
   # De-Init TUCL
   <tapa.hi.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.28
#
#       Desc:   Send echo response with Invalid address in the response to Echo request
#                 Expect Alarm on Layer manager
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: PCM Module
#
#       File:   egac_tc21.xml
#
<tapa.testcase id="1.28">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.pcm"/>

      <tapa.desc>
          Send echo response with Incorrect Dest Addr,
              Expect an Alarm
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>
    # Configure TUCL
   <tapa.hi.init/>

    # Configure EGTP as MME
      <tapa.eg.mme1.sgw1.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

        <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
                spId="1" procId="200" transId="1" addInterfaceType="10"
                lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
        </tapa.send>


        # Receive Create Session Request at SGW
        <tapa.expect>
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_CS_REQ" teid="1" suId="2" procId="300"/>
        </tapa.expect>



      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" intfType="EGT_GTP_INT_UNKNWN" 
         crtFlag="TRUE" spId="1" procId="200" lclPort="3123" seqNo="1" transId="1" teidPres="FALSE"
         rmtPort="2124" t3TmrVal="1" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" transId="1"
                 teid="0" suId="1" procId="300" />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send>
         <tapa.leg.cntrl.usta procId="200"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expect>


      #Send a proper Echo req
      <tapa.send>
         <tapa.hit.datind procId="200" passData="FALSE"
          passIpAddr="FALSE" lclAddr="127.0.0.1" rmtAddr="127.0.0.2"
         remTeid="0"  suId="0" spId="1" suConId="1"
         msgType="EGT_GTPC_MSG_ECHO_RSP"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="1"  teidPres="FALSE"/>
      </tapa.send>

    <tapa.expset guardTmr="1000">
         <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" event="LCM_EVENT_UI_INV_EVT" 
         cause="LEG_CAUSE_DST_IP_NOT_CONFIG" type="LEG_PAR_IP"/>

    </tapa.expset>


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>


   # De-Init TUCL
   <tapa.hi.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.29
#
#       Desc:   Verify that CSR request is retransmitted for N3 times And 
#               Indication is sent to the application, when 
#               response is not  received from peer entity 
#
#       Ref:    None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.29">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Verify that CSR request is retransmitted for N3 times And"
         "Indication is sent to the application, when"
         "response is not  received from peer entity"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme1.sgw1.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="5" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
  
      <tapa.delay delay="20" />
      # expect retransmission
      # duplicate messages are treated as new request for tunnel creation.
      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   

      # Expect Message at DTUCL
      <tapa.expect guardTmr="100">
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.expect>
         <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_CS_REQ" transId="1" seqNo="1"
                teid="1" suId="1" procId="200" errType="EGT_ERR_MAX_RETRY_EXHAUSTED"/>
      </tapa.expect>
 
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
<!--
   # De-Init EGTP
   <tapa.egtp.deinit/>
-->
      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="300"/>
      </tapa.send>

      # Expect Shutdown Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expect>

      # Send Shutdown
      <tapa.send lc="TRUE">
         <tapa.leg.cntrl.shutdown procId="200"/>
      </tapa.send>

      # Expect Shutdown Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.30
#
#       Desc:   Test sending of ECHO REQ from eGTPC Layer
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.30">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test sending of ECHO REQ from eGTPC Layer"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mmeX.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" 
            crtFlag="TRUE" spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" 
               rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>
       
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expset >
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" 
             procId="200"/>
         <tapa.hit.udatreq save="FALSE" procId="200" suConId="0" spId="0"  /> 
      </tapa.expset>



       #Send Echo response for 200
      <tapa.send>
         <tapa.hit.datind procId="200" passIpAddr="FALSE"  passData="FALSE"
         lclAddr="127.0.0.1" rmtAddr="127.0.0.1"
         remTeid="0"  suId="0" spId="0" suConId="0"
         msgType="EGT_GTPC_MSG_ECHO_RSP"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="1000"  teidPres="FALSE"/>
      </tapa.send>

      <tapa.expset guardTmr="1000">
         <tapa.hit.udatreq save="FALSE" procId="300" suConId="0" suId="1" spId="1"/> 
      </tapa.expset>

      #Send Echo response for 300
      <tapa.send>
         <tapa.hit.datind procId="300" passIpAddr="FALSE"  passData="FALSE"
         lclAddr="127.0.0.1" rmtAddr="127.0.0.1"
         remTeid="0"  suId="1" spId="1" suConId="0"
         msgType="EGT_GTPC_MSG_ECHO_RSP"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="1000"  teidPres="FALSE"/>
      </tapa.send>
      


       #Receive another echo request from 200
      <tapa.expset guardTmr="1000">
         <tapa.hit.udatreq save="FALSE" procId="200" suConId="0" spId="0"  /> 
      </tapa.expset> 

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.31
#
#       Desc:  No Echo Resp to Echo Req, expect Error Indication and Alarm 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.31">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
           "No Echo Resp to Echo Req, expect Error Indication and Alarm"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mmeX.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>
 
 
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="1"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send>
      
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/> 
      </tapa.expect>


     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
     </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.egt.sigcfm  transId="1" teid="1" spId="1"  suId="1" procId="200"/>
      </tapa.expect>


      # Activate alarms for Proc 200
      <tapa.send>
         <tapa.leg.cntrl.usta procId="200"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expset>

      # Activate alarms for Proc 300
      <tapa.send>
         <tapa.leg.cntrl.usta procId="300"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expset>


     <tapa.expset guardTmr="1000">
         #Echo Req for Proc id 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 

         #Echo retries for Proc 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 

         #Status indication from proc 200
         <tapa.egt.staind suId="2" procId="200" />

         #Echo retries exceeded for Proc 200 
          <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_REACHABLE"
         type="LEG_PAR_IP"/> 

         #Status indication from proc 300
         <tapa.egt.staind suId="1" procId="300" />

         #Echo retries exceeded for Proc 300 
         <tapa.leg.staInd procId="300" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_REACHABLE"
         type="LEG_PAR_IP"/>

      </tapa.expset>



   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.32
#
#       Desc:   Test receiving of ECHO RSP after path failure, expect alarm for Path recovery
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.32">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test receiving of ECHO RSP after path failure, expect alarm for Path recovery"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mmeX.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

 
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="1"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send>
      
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/> 
      </tapa.expect>


     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
     </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.egt.sigcfm  transId="1" teid="1" spId="1"  suId="1" procId="200"/>
      </tapa.expect>

      # Activate alarms for Proc 200
      <tapa.send>
         <tapa.leg.cntrl.usta procId="200"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expset>

      # Activate alarms for Proc 300
      <tapa.send>
         <tapa.leg.cntrl.usta procId="300"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expset>


     <tapa.expset guardTmr="1000">
         #Echo Req for Proc id 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 

         #Echo retries for Proc 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 


         #Status indication from proc 200
         <tapa.egt.staind suId="2" procId="200" />

         #Echo retries exceeded for Proc 200 
          <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_REACHABLE"
         type="LEG_PAR_IP"/>

     
         #Status indication from proc 300
         <tapa.egt.staind suId="1" procId="300" />

         #Echo retries exceeded for Proc 300 
         <tapa.leg.staInd procId="300" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_REACHABLE"
         type="LEG_PAR_IP"/> 

      </tapa.expset>

      <tapa.expset>

         #Receive another new Echo req on 200
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 

      </tapa.expset>

       #Send a proper Echo response for Proc 200
      <tapa.send>
         <tapa.hit.datind procId="200" passIpAddr="FALSE"  passData="FALSE"
         lclAddr="127.0.0.1" rmtAddr="127.0.0.1"  pass="TRUE"
         remTeid="0"  suId="0" spId="0" suConId="0"
         msgType="EGT_GTPC_MSG_ECHO_RSP"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="1001"  teidPres="FALSE"/>
      </tapa.send>
      #Path recovery alarm for Proc 200

      <tapa.expset>
         #Status indication from proc 200
         #eg012.201:staind commented
      <!--   <tapa.egt.staind suId="2" procId="200" /> -->

         <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_REACHABLE"
         type="LEG_PAR_IP"/>

         #Receive another new Echo req on 300
         #eg012.201: staind added here
         <tapa.egt.staind suId="1" procId="200" />
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 

      </tapa.expset>

       #Send a proper Echo response for Proc 300
      <tapa.send>
         <tapa.hit.datind procId="300" passIpAddr="FALSE"  passData="FALSE"
         lclAddr="127.0.0.1" rmtAddr="127.0.0.1"
         remTeid="0"  suId="1" spId="0" suConId="0"
         msgType="EGT_GTPC_MSG_ECHO_RSP"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="1001"  teidPres="FALSE"/>
      </tapa.send>


      #Path recovery alarm for Proc 200
      <tapa.expset> 
         #Status indication from proc 300
         <tapa.egt.staind suId="1" procId="300" />

         <tapa.leg.staInd procId="300" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_REACHABLE"
         type="LEG_PAR_IP"/> 
      </tapa.expset> 

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.33
#
#       Desc:   Test sending of ECHO RSP with Invalid address to eGTPC Layer
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.33">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
        "Test sending of ECHO RSP with Invalid address to eGTPC Layer"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mmeX.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

 
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
      
      # Activate alarms for Proc 200
      <tapa.send>
         <tapa.leg.cntrl.usta procId="200"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expset>


      # Activate alarms for Proc 200
      <tapa.send>
         <tapa.leg.cntrl.usta procId="300"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expset>
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="1"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send>
      
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/> 
      </tapa.expect>


     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
     </tapa.send>

     <tapa.expset guardTmr="1000">
         <tapa.egt.sigcfm  transId="1" teid="1" spId="1"  suId="1" procId="200"/>
         <tapa.hit.udatreq save="FALSE" procId="200" suConId="0" spId="0"  /> 
      </tapa.expset>

       #Send a proper Echo response
      <tapa.send>
         <tapa.hit.datind procId="200" passIpAddr="FALSE"  passData="FALSE"
         lclAddr="127.0.0.1" rmtAddr="127.0.0.2"
         remTeid="0"  suId="0" spId="0" suConId="0"
         msgType="EGT_GTPC_MSG_ECHO_RSP"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="1000"  teidPres="FALSE"/>
      </tapa.send>

      #Alarm and Error Indication for Invalid path
      <tapa.expect> 
        <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_CONFIG"
         type="LEG_PAR_IP"/>
      </tapa.expect> 

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.34
#
#       Desc:   Test sending of ECHO REQ after DUMMY Tunnel creation 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.34">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test sending of ECHO REQ after DUMMY Tunnel creation"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mmeX.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="DUMMY" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="0" suId="1" procId="200"/>
      </tapa.expect>

      # Expect Echo Request due Dummy Tunnel creation
      <tapa.expset>
         <tapa.hit.udatreq save="FALSE" suId="0" procId="200" suConId="0" />
      </tapa.expset>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase> 


#
#       Test:    1.35
#
#       Desc:   Test sending of CS Request with Seq Number designated for Echo req, 
#               expect Error
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.35">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test sending of CS Request with Seq Number designated for Echo req, expect Error"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mmeX.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="DUMMY" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1001"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      

      # Expect Echo Request due Dummy Tunnel creation
      <tapa.expset>
         <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_CS_REQ" transId="1" seqNo="1001"
                suId="1" procId="200" errType="EGT_ERR_INV_SEQ_NUM"/> 

      </tapa.expset>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.36
#
#       Desc:   Test adding tunnel to an unreachable Path, expect error
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.36">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test adding tunnel to an unreachable Path, expect error"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mmeX.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>



      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

 
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="1"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send>
      
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/> 
      </tapa.expect>


     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
     </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.egt.sigcfm  transId="1" teid="1" spId="1"  suId="1" procId="200"/>
      </tapa.expect>


      # Activate alarms for Proc 200
      <tapa.send>
         <tapa.leg.cntrl.usta procId="200"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expset>

      # Activate alarms for Proc 300
      <tapa.send>
         <tapa.leg.cntrl.usta procId="300"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expset>


     <tapa.expset guardTmr="1000">
         #Echo Req for Proc id 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 

         #Echo retries for Proc 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 

         #Status indication from proc 200
         <tapa.egt.staind suId="2" procId="200" />

         #Echo retries exceeded for Proc 200 
          <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_REACHABLE"
         type="LEG_PAR_IP"/>

     

         #Status indication from proc 300
         <tapa.egt.staind egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" transId="1" seqNo="1000"
                suId="1" procId="300" errType="EGT_ERR_INV_TUNN_NET_EVNT"/>

         #Echo retries exceeded for Proc 300 
         <tapa.leg.staInd procId="300" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_REACHABLE"
         type="LEG_PAR_IP"/> 


        </tapa.expset>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="2"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send> 


        #Echo Req for Proc id 200 and 300 
     <tapa.expset guardTmr="1000">

      # Expect Error Indication due to Teid insertion on unreachable destination
         <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_CS_REQ" transId="1" seqNo="2"
                suId="1" procId="200" errType="EGT_ERR_INV_TEID_RCVD"/> 
      </tapa.expset>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>




#
#       Test:    1.37
#
#       Desc:   Test adding tunnel to an unreachable Path, expect error
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.37">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test adding tunnel to an unreachable Path, expect error"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mmeX.sgw1.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>



      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1"  suId="1"  pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

 
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="1"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send>
      
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/> 
      </tapa.expect>


     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
     </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.egt.sigcfm  transId="1" teid="1" spId="1"  suId="1" procId="200"/>
      </tapa.expect>


      # Activate alarms for Proc 200
      <tapa.send>
         <tapa.leg.cntrl.usta procId="200"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="200"/>
      </tapa.expset>

      # Activate alarms for Proc 300
      <tapa.send>
         <tapa.leg.cntrl.usta procId="300"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset>
         <tapa.leg.cntrlcfm procId="300"/>
      </tapa.expset>


     <tapa.expset guardTmr="1000">
         #Echo Req for Proc id 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 

         #Echo retries for Proc 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 

         #Status indication from proc 200
         <tapa.egt.staind suId="2" procId="200" />

         #Echo retries exceeded for Proc 200 
          <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_REACHABLE"
         type="LEG_PAR_IP"/>

     

         #Status indication from proc 300
         <tapa.egt.staind egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" transId="1" seqNo="1000"
                suId="1" procId="300" errType="EGT_ERR_INV_TUNN_NET_EVNT"/>

         #Echo retries exceeded for Proc 300 
         <tapa.leg.staInd procId="300" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_NOT_REACHABLE"
         type="LEG_PAR_IP"/> 


        </tapa.expset>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="DUMMY" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="2"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send> 


        #Echo Req for Proc id 200 and 300 
     <tapa.expset guardTmr="1000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>

         #Echo Req generated from Layer
         <tapa.hit.udatreq save="FALSE" procId="200"   suConId="0"/> 

      </tapa.expset>

       #Send a proper Echo response for Proc 200
      <tapa.send>
         <tapa.hit.datind procId="200" passIpAddr="FALSE"  passData="FALSE"
         lclAddr="127.0.0.1" rmtAddr="127.0.0.1"
         remTeid="0"  suId="0" spId="0" suConId="0"
         msgType="EGT_GTPC_MSG_ECHO_RSP"  intfType="EGT_GTP_INT_UNKNWN" 
         seqNo="1001"  teidPres="FALSE"/>
      </tapa.send>


      #Path recovery alarm for Proc 200
      <tapa.expset> 
       #Status indication from proc 300
       #eg012.201:sigind commneted here
       <!-- <tapa.egt.staind suId="2" procId="200" /> -->
         <tapa.leg.staInd procId="200" category="LCM_CATEGORY_INTERFACE" 
         event="LCM_EVENT_UI_INV_EVT" cause="LEG_CAUSE_DST_IP_REACHABLE"
         type="LEG_PAR_IP"/> 
      #eg012.201:sigind added here  
      <tapa.egt.staind suId="1" procId="200" />
      </tapa.expset> 

        #delete tunnel 2 (Dummy Tunnel)
        <tapa.send>
         <tapa.egt.lcldelreq teid="2" procId="200" spId="1"/>
        </tapa.send>

        <tapa.expect>
         <tapa.egt.lcldelcfm teid="2" suId="1" procId="200"/>
        </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.38
#
#       Desc:   Test Multiple IP setup with Path management
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.38">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test Multiple IP setup with Path management"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
         <tapa.flag id="EG_MULTI_IP"/>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme.sgw.pgw.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      #Send CS req from MME to SGW Set 1 IP 127.0.0.2
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" t3TmrVal="10" 
               lcladdr="127.0.0.1" lclPort="3123" rmtaddr="127.0.0.2" rmtPort="2123"
               intfType="EGT_GTP_INT_S11" FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="0" suId="1" remAddr="127.0.0.1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>


      #Send CS Req from SGW set 2 IP (127.0.0.3)  to PGW
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" crtFlag="TRUE" 
               spId="3" procId="300" transId="3" addInterfaceType="10" t3TmrVal="10" 
               lcladdr="127.0.0.3" lclPort="3124" rmtaddr="127.0.0.4" rmtPort="2123"
               intfType="EGT_GTP_INT_S5_S8" FTeidIntfType="EGT_INT_S5_S8_SGW_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="3" procId="300" suConId="1" />
      </tapa.expect>
     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="3" remAddr="127.0.0.3" pass="TRUE" suConId="0" procId="400"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="400" transId="3"/>   
      </tapa.expect>

      #Send back CS Response from PGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S5_S8" teid="1" seqNo="0"
               spId="1" procId="400" addInterfaceType="11" teidValue="2" transId="3"
               FTeidIntfType="EGT_INT_S5_S8_PGW_GTP_C"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="400" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="3" suId="2" remAddr="127.0.0.4" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      #SGW Receive CS Rsp from PGW
      <tapa.expset> 
         #Echo Req from SGW
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="3" teid="2" suId="1" procId="300"/>
      </tapa.expset>

      #Send back CS Response to MME from SGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="0"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send> 

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" remAddr="127.0.0.2" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      #Expect CS response on MME
     <tapa.expset guardTmr="1000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
         #Echo Req from MME, SGW and PGW
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="400"   suConId="0" spId="0"/>
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="200"   suConId="0" spId="0"/>
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="300"   suConId="0" spId="1"/>
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="300"   suConId="0" spId="3"/>
      </tapa.expset>


   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.multi.ip.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.39
#
#       Desc:   Test Multiple IP configuration withouth Path Management
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.39">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test Multiple IP configuration withouth Path Management"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_MULTI_IP"/>
      </tapa.ifdef>

      <tapa.ifndef>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifndef>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme.sgw.pgw.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      #Send CS req from MME to SGW Set 1 IP 127.0.0.2
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" t3TmrVal="10" 
               lcladdr="127.0.0.1" lclPort="3123" rmtaddr="127.0.0.2" rmtPort="2123"
               intfType="EGT_GTP_INT_S11" FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="0" suId="1" remAddr="127.0.0.1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>


      #Send CS Req from SGW set 2 IP (127.0.0.3)  to PGW
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" crtFlag="TRUE" 
               spId="3" procId="300" transId="3" addInterfaceType="10" t3TmrVal="10" 
               lcladdr="127.0.0.3" lclPort="3124" rmtaddr="127.0.0.4" rmtPort="2123"
               intfType="EGT_GTP_INT_S5_S8" FTeidIntfType="EGT_INT_S5_S8_SGW_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="3" procId="300" suConId="1" />
      </tapa.expect>
     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="3" remAddr="127.0.0.3" pass="TRUE" suConId="0" procId="400"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="400" transId="3"/>   
      </tapa.expect>

      #Send back CS Response from PGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S5_S8" teid="1" seqNo="0"
               spId="1" procId="400" addInterfaceType="11" teidValue="2" transId="3"
               FTeidIntfType="EGT_INT_S5_S8_PGW_GTP_C"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="400" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="3" suId="2" remAddr="127.0.0.4" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      #SGW Receive CS Rsp from PGW
      <tapa.expset> 
         #Echo Req from SGW
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="3" teid="2" suId="1" procId="300"/>
      </tapa.expset>

      #Send back CS Response to MME from SGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="0"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send> 

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" remAddr="127.0.0.2" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      #Expect CS response on MME
     <tapa.expect guardTmr="1000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
      </tapa.expect>

  
####Send out Echo Req/Rsp  300 <=> 200
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" intfType="EGT_GTP_INT_UNKNWN" crtFlag="FALSE" teidPres="FALSE"
         SpecHand="FALSE" spId="1" procId="300" transId="1"  lclPort="3124" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.2" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="0" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind msgType="EGT_GTPC_MSG_ECHO_REQ" teid="1" suId="2" procId="200" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_ECHO_RSP" intfType="EGT_GTP_INT_UNKNWN" 
                teidPres="FALSE" spId="2" procId="200" transId="1"/>
      </tapa.send>
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="200" suConId="0"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="0" suId="1" remAddr="127.0.0.2" pass="TRUE" suConId="1" procId="300"/>
     </tapa.send>

       
      <tapa.expect>
         <tapa.egt.sigcfm msgType="EGT_GTPC_MSG_ECHO_RSP" transId="1" suId="2" procId="300" teid="0"/>
      </tapa.expect>


####Send out Echo Req/Rsp  300 <=> 400
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" intfType="EGT_GTP_INT_UNKNWN" crtFlag="FALSE" teidPres="FALSE"
         SpecHand="FALSE" spId="1" procId="300" transId="1"  lclPort="3124" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.2" rmtaddr="127.0.0.4"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

  
     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="3" remAddr="127.0.0.3" pass="TRUE" suConId="0" procId="400"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind msgType="EGT_GTPC_MSG_ECHO_REQ" teid="1" suId="2" procId="400" transId="1"/>   
      </tapa.expect>
  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_ECHO_RSP" intfType="EGT_GTP_INT_UNKNWN" 
                teidPres="FALSE" spId="2" procId="400" transId="1"/>
      </tapa.send>
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="400" suConId="0"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="0" suId="1" remAddr="127.0.0.4" pass="TRUE" suConId="1" procId="300"/>
     </tapa.send>

     <tapa.expect>
         <tapa.egt.sigcfm msgType="EGT_GTPC_MSG_ECHO_RSP" transId="1" suId="2" procId="300" teid="0"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.multi.ip.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>



#
#       Test:    1.40
#
#       Desc:   Test  Multiple IP configuration with Echo Req/Rsp
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.40">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test Multiple IP configuration with Echo Req/Rsp"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
         <tapa.flag id="EG_MULTI_IP"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.mme.sgw.pgw.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      #Send CS req from MME to SGW Set 1 IP 127.0.0.2
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" t3TmrVal="10" 
               lcladdr="127.0.0.1" lclPort="3123" rmtaddr="127.0.0.2" rmtPort="2123"
               intfType="EGT_GTP_INT_S11" FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="0" suId="1" remAddr="127.0.0.1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="2" procId="300" transId="1"/>   
      </tapa.expect>


      #Send CS Req from SGW set 2 IP (127.0.0.3)  to PGW
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" crtFlag="TRUE" 
               spId="3" procId="300" transId="3" addInterfaceType="10" t3TmrVal="10" 
               lcladdr="127.0.0.3" lclPort="3124" rmtaddr="127.0.0.4" rmtPort="2123"
               intfType="EGT_GTP_INT_S5_S8" FTeidIntfType="EGT_INT_S5_S8_SGW_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="3" procId="300" suConId="1" />
      </tapa.expect>
     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="3" remAddr="127.0.0.3" pass="TRUE" suConId="0" procId="400"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="400" transId="3"/>   
      </tapa.expect>

      #Send back CS Response from PGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S5_S8" teid="1" seqNo="0"
               spId="1" procId="400" addInterfaceType="11" teidValue="2" transId="3"
               FTeidIntfType="EGT_INT_S5_S8_PGW_GTP_C"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="400" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="3" suId="2" remAddr="127.0.0.4" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      #SGW Receive CS Rsp from PGW
      <tapa.expset> 
         #Echo Req from SGW
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="3" teid="2" suId="1" procId="300"/>
      </tapa.expset>

      #Send back CS Response to MME from SGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="0"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send> 

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" remAddr="127.0.0.2" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      #Expect CS response on MME
     <tapa.expset guardTmr="1000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
            #Echo Req from MME, SGW and PGW
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="400"   suConId="0" spId="0"/> 
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="200"   suConId="0" spId="0"/> 
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="300"   suConId="0" spId="1"/> 
            #Save this Echo to send reply to Proc 200 and 400
            <tapa.hit.udatreq   msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="TRUE" procId="300"   suConId="0" spId="3"/> 
      </tapa.expset>
  
     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="0" remAddr="127.0.0.2" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq validateMsg="TRUE"  msgType="EGT_GTPC_MSG_ECHO_RSP" teid="1" suId="2" procId="200" transId="1"/>   
      </tapa.expect>
 

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.multi.ip.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.41
#
#       Desc:   Test sending of CS Req/Resp between 1 MME and 2 SGW, verify 4 Echo req generation happens
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.41">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test sending of CS Req/Resp between 1 MME and 2 SGW, verify 4 Echo req generation happens"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
         <tapa.flag id="EG_MULTI_IP"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>
   <tapa.eg.mmeX.sgw1.dtucl.init/>
   <tapa.eg.sgw3.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" seqNo="1"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>
      

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1"  suId="1"  pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

 
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="1"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send>
      
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/> 
      </tapa.expect>


     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
     </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.egt.sigcfm  transId="1" teid="1" spId="1"  suId="1" procId="200"/>
      </tapa.expect>

###
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" 
               spId="1" procId="200" transId="2" Teid="0" addInterfaceType="10" seqNo="2"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.4" 
               FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
               
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="3" remAddr="127.0.0.4" pass="TRUE" suConId="0" procId="400"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="2" suId="1" procId="400" transId="3"/>   
      </tapa.expect>

      #Send back CS Response from PGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="2"
               spId="1" procId="400" addInterfaceType="11" teidValue="2" transId="3"
               FTeidIntfType="EGT_INT_S5_S8_PGW_GTP_C"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="400" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="0" remAddr="127.0.0.4" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

        <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="3" teid="2" suId="1" procId="200"/>
         </tapa.expect>

      #SGW Receive CS Rsp from PGW
      <tapa.expset> 
            ##Echo Req from MME(200) to SGW1 and SGW2
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="200"   suConId="0" spId="0"/> 
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="200"   suConId="0" spId="0"/> 
    
            ##Echo retries
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="200"   suConId="0" spId="0"/> 
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="200"   suConId="0" spId="0"/> 
    

            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="300"   suConId="0" spId="1"/> 
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="400"   suConId="0" spId="0"/> 

      </tapa.expset>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.multi.ip.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.42
#
#       Desc:   Test Multi-IP configuration on Single USap/tptSrv config
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.42">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Test Multi-IP configuration on Single USap/tptSrv config"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
         <tapa.flag id="EG_MULTI_IP"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      <tapa.eg.multi.ip.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      #Send CS req from MME to SGW Set 1 IP 127.0.0.2
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10" t3TmrVal="10" 
               lcladdr="127.0.0.1" lclPort="3123" rmtaddr="127.0.0.2" rmtPort="2123"
               intfType="EGT_GTP_INT_S11" FTeidIntfType="EGT_INT_S11_MME_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="0" suId="1" remAddr="127.0.0.1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>


      #Send CS Req from SGW set 2 IP (127.0.0.3)  to PGW
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" crtFlag="TRUE" 
               spId="4" procId="300" transId="3" addInterfaceType="10" t3TmrVal="10" 
               lcladdr="127.0.0.3" lclPort="2124" rmtaddr="127.0.0.4" rmtPort="2123"
               intfType="EGT_GTP_INT_S5_S8" FTeidIntfType="EGT_INT_S5_S8_SGW_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="3" procId="300" suConId="0" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="3" remAddr="127.0.0.3" pass="TRUE" suConId="0" procId="400"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="400" transId="3"/>   
      </tapa.expect>

      #Send back CS Response from PGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S5_S8" teid="1" seqNo="0"
               spId="1" procId="400" addInterfaceType="11" teidValue="2" transId="3"
               FTeidIntfType="EGT_INT_S5_S8_PGW_GTP_C"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="0" procId="400" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="3" suId="2" remAddr="127.0.0.4" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      #SGW Receive CS Rsp from PGW
      <tapa.expect> 
         #Echo Req from SGW
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="3" teid="2" suId="2" procId="300"/>
      </tapa.expect>

      #Send back CS Response to MME from SGW  
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" 
                intfType="EGT_GTP_INT_S11" teid="1" seqNo="0"
               spId="2" procId="300" addInterfaceType="11" teidValue="1" transId="1" 
               FTeidIntfType="EGT_INT_S11_S4_SGSN_GTP_C"/>
      </tapa.send> 

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="0"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" remAddr="127.0.0.2" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      #Expect CS response on MME
     <tapa.expset guardTmr="1000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="1" procId="200"/>
            #Echo Req from MME, SGW 
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="400"   suConId="0" spId="0"/> 
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="200"   suConId="0" spId="0"/> 
            <tapa.hit.udatreq validateMsg="TRUE" msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="FALSE" procId="300"   suConId="0" spId="1"/> 
            #Save this Echo to send reply to Proc 200 and 400
            <tapa.hit.udatreq   msgType="EGT_GTPC_MSG_ECHO_REQ" 
               save="TRUE" procId="300"   suConId="0" spId="3"/> 

     </tapa.expset> 
  
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.multi.ip.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

/* eg009.201 - Included testcases for S2B and S2A */

#
#       Test:    1.43
#
#       Desc:   Check Session establishment CS REQ/RSP on S2B interface 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc138.xml
#
<tapa.testcase id="1.43">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Session establishment CS REQ/RSP on S2B interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2" 
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="1" suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" seqNo="0"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1"
               FTeidIntfType="EGT_INT_S2B_PGW_GTP_C"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>
   </tapa.test>
   # Clean subsection
   <tapa.clean/>
   # Shutdown subsection
   <tapa.shutdown>
   <tapa.egtp.deinit/>
   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    1.44
#
#       Desc:   Check Session establishment CS REQ/RSP and MDFY Bearer CMND on S2B interface 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.44">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Session establishment CS REQ/RSP and MDFY Bearer CMND on S2B interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_CMND" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNoPres="TRUE" seqNo="8388609"
          rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="1" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect guardTmr="1000">
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_MBFAIL_IND" intfType="EGT_GTP_INT_S2B" teid="1"  seqNo="8388609"
               spId="1" procId="300" transId="1" />
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>

      <tapa.expect guardTmr="100000">
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_MBFAIL_IND" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>
   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    1.45
#
#       Desc:   Check Session Deletion CS REQ/RSP  on S2B interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.45">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Session Deletion CS REQ/RSP  on S2B interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>


        #Should create new tunnel
        <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_DS_REQ" intfType="EGT_GTP_INT_S2B" teid="1"
                spId="1" procId="200" lclPort="3123" rmtPort="3124" t3TmrVal="10" seqNo="1"
                lcladdr="127.0.0.1" rmtaddr="127.0.0.1" teidPres="PRSNT_NODEF" teidValue="1"/>
        </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


        # at SGW this should not create a new tunnel since it is sent to existing TEID
        <tapa.expect>
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_DS_REQ" teid="1" suId="1" procId="300"/>
        </tapa.expect>

        # Send response from SGW
        <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_DS_RSP" teid="1" seqNo="1" intfType="EGT_GTP_INT_S2B" spId="1" procId="300" teidValue="1"/>
        </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

        # receive response at MME
        <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_DS_RSP" teid="1" suId="0" procId="200"/>
        </tapa.expect>

        #delete tunnel 1 at MME
        <tapa.send>
         <tapa.egt.lcldelreq teid="1" procId="200" spId="1"/>
        </tapa.send>

        <tapa.expect>
         <tapa.egt.lcldelcfm teid="1" suId="0" procId="200"/>
        </tapa.expect>

        # Delete Tunnel at SGW
        <tapa.send>
         <tapa.egt.lcldelreq teid="1" procId="300" spId="1"/>
        </tapa.send>

        <tapa.expect>
         <tapa.egt.lcldelcfm teid="1" suId="1" procId="300"/>
        </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.46
#
#       Desc:  Check Create Bearer REQ/RSP  on S2B interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.46">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Create Bearer REQ/RSP  on S2B interface "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>



      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CB_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE"
               spId="1" procId="300" transId="1"  lclPort="3124" rmtPort="2123" t3TmrVal="10"
                 lcladdr="127.0.0.2" rmtaddr="127.0.0.1" teid="1" teidValue="1" seqNoPres="TRUE" seqNo="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="300" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="0" procId="200" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CB_RSP" intfType="EGT_GTP_INT_S2B" 
               spId="1" procId="200" transId="1" seqNoPres="TRUE" seqNo="1" teid="1" teidValue="1" 
                      causePresent="TRUE" embdCausePresent = "TRUE"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CB_RSP" transId="1" suId="1"
                 procId="300" teid="1" teidValue="1"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>



#
#       Test:    1.47
#
#       Desc:   Check Update Bearer REQ/RSP  on S2B interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.47">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Update Bearer REQ/RSP  on S2B interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

<!--
     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>
-->


<!--
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_CMND" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNoPres="TRUE" seqNo="8388609"
          rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="1" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_UB_REQ" intfType="EGT_GTP_INT_S2B" 
            teid="1" spId="1" procId="300" seqNoPres="TRUE" seqNo="8388609"  transId="1" 
            addInterfaceType="11" crtFlag="FALSE" lclPort="3124" rmtPort="2123" 
            t3TmrVal="10" lcladdr="127.0.0.2" rmtaddr="127.0.0.1"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="300" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="0" procId="200" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_UB_RSP" intfType="EGT_GTP_INT_S2B" 
            transId="1" spId="1" procId="200" seqNoPres="TRUE" seqNo="8388609"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigcfm teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
-->

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.48
#
#       Desc:   Check Delete Bearer procedure on S2B interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.48">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Delete Bearer procedure on S2B interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_CMND" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNoPres="TRUE" seqNo="8388609"
          rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="1" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_DB_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE" 
          spId="1" procId="300" transId="1" lclPort="3124" seqNo="3" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.2" rmtaddr="127.0.0.1"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="300" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="0" procId="200" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_DB_RSP" intfType="EGT_GTP_INT_S2B" 
            transId="1" spId="1" procId="200" seqNoPres="TRUE" seqNo="3"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigcfm teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>



#
#       Test:    1.49
#
#       Desc:   Check Trace Session Activation procedure on S2B interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.49">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Trace Session Activation procedure on S2B interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_TRC_SESS_ACTVN" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="3" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>
      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.50
#
#       Desc:   Check Delete PDN Connection Set REQ/RSP procedure on S2B interface 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.50">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         " Check Delete PDN Connection Set REQ/RSP procedure on S2B interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

##################
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_DPDN_CON_SET_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="3" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_DPDN_CON_SET_RSP" intfType="EGT_GTP_INT_S2B" 
            transId="1" spId="1" procId="300" seqNoPres="TRUE" seqNo="3"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigcfm teid="1" suId="0" procId="200" transId="1"/>   
      </tapa.expect>
    
      <tapa.expset guardTmr="1000">
         #Echo Req for Proc id 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="TRUE"  procId="200" spId="1"    suConId="0"/> 
      </tapa.expset>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>

     <tapa.expset guardTmr="1000">
         #Echo Rsp from Proc id 300
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="1"/> 
     </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.51
#
#       Desc:   Send Echo Request at eGTP-U from application for S2B interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.51">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Send Echo Request at eGTP-U from application for S2B interface"
         
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.egtp.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
   
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="1" intfType="EGT_INT_S2B_PGW_GTP_C"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="1" intfType="EGT_INT_S2B_PGW_GTP_C" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.101" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="2" intfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="2" intfType="EGT_INT_S2B_EPDG_GTP_C" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.101"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.102" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="3" intfType="EGT_INT_S2B_SGW_GTP_C"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="3" intfType="EGT_INT_S2B_SGW_GTP_C" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.102"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.103" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="4" intfType="EGT_INT_S2B_PGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="4" intfType="EGT_INT_S2B_PGW_GTP_U" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.103"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.104" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="4" intfType="EGT_INT_S2B_EPDG_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="4" intfType="EGT_INT_S2B_EPDG_GTP_U" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.104"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.105" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="5" intfType="EGT_INT_S2B_SGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="5" intfType="EGT_INT_S2B_SGW_GTP_U" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.105"/>
      </tapa.expect>


      
    <tapa.expset guardTmr="1000">
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" suConId="1" save="FALSE" validateUMsg="TRUE"/>
    </tapa.expset>

    <tapa.delay delay="10"/>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="1" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.105" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="1" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.105" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="2" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="1" remTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.103" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="2" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.103" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="3" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.100" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="3" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.100" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="4" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.102" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="4" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.102" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>
    
   <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="5" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.101" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="5" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.101" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
	    <tapa.egtpu.dtucl.deinit/>
   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.52
#
#       Desc:   Send ECHO after CSR with Teid=1 on S2B interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.52">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send CBR after CSR with Teid=1"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>
         
      <tapa.ifndef>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifndef>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

    # Configure TUCL
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" intfType="EGT_GTP_INT_UNKNWN" crtFlag="FALSE" teidPres="FALSE"
      SpecHand="FALSE" spId="1" procId="200" transId="1"  lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" spId="1" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_ECHO_RSP" intfType="EGT_GTP_INT_UNKNWN" 
                teidPres="FALSE" spId="2" procId="300" transId="1"/>
      </tapa.send>
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="0"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

       
      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_ECHO_RSP" transId="1" suId="0" procId="200" teid="0"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.53
#
#       Desc:   Check Trace Session Activation procedure on S2B interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc14.xml
#
<tapa.testcase id="1.53">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Trace Session Activation procedure on S2B interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2B_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.pdg.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2B" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2B_EPDG_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2B" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_TRC_SESS_ACTVN" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="0" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_TRC_SESS_DEACTVN" intfType="EGT_GTP_INT_S2B" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="1" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.54
#
#       Desc:   Check Session establishment CS REQ/RSP on S2A interface 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc138.xml
#
<tapa.testcase id="1.54">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Session establishment CS REQ/RSP on S2A interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2" 
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="1" suId="0" procId="200" suConId="1" />
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" suId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" seqNo="0"
               spId="1" procId="300" addInterfaceType="11" teidValue="1" transId="1"
               FTeidIntfType="EGT_INT_S2A_PGW_GTP_C"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>
   </tapa.test>
   # Clean subsection
   <tapa.clean/>
   # Shutdown subsection
   <tapa.shutdown>
   <tapa.egtp.deinit/>
   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    1.55
#
#       Desc:   Check Session establishment CS REQ/RSP and MDFY Bearer CMND on S2A interface 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.55">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Session establishment CS REQ/RSP and MDFY Bearer CMND on S2A interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_CMND" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNoPres="TRUE" seqNo="8388609"
          rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="1" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect guardTmr="1000">
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_MBFAIL_IND" intfType="EGT_GTP_INT_S2A" teid="1"  seqNo="8388609"
               spId="1" procId="300" transId="1" />
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>

      <tapa.expect guardTmr="100000">
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_MBFAIL_IND" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>
   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    1.56
#
#       Desc:   Check Session Deletion CS REQ/RSP  on S2A interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.56">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Session Deletion CS REQ/RSP  on S2A interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>


        #Should create new tunnel
        <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_DS_REQ" intfType="EGT_GTP_INT_S2A" teid="1"
                spId="1" procId="200" lclPort="3123" rmtPort="3124" t3TmrVal="10" seqNo="1"
                lcladdr="127.0.0.1" rmtaddr="127.0.0.1" teidPres="PRSNT_NODEF" teidValue="1"/>

        </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


        # at SGW this should not create a new tunnel since it is sent to existing TEID
        <tapa.expect>
         <tapa.egt.sigind egtpMsgType="EGT_GTPC_MSG_DS_REQ" teid="1" suId="1" procId="300"/>
        </tapa.expect>

        # Send response from SGW
        <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_DS_RSP" teid="1" seqNo="1" intfType="EGT_GTP_INT_S2A" spId="1" procId="300" teidValue="1"/>
        </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

        # receive response at MME
        <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_DS_RSP" teid="1" suId="0" procId="200"/>
        </tapa.expect>

        #delete tunnel 1 at MME
        <tapa.send>
         <tapa.egt.lcldelreq teid="1" procId="200" spId="1"/>
        </tapa.send>

        <tapa.expect>
         <tapa.egt.lcldelcfm teid="1" suId="0" procId="200"/>
        </tapa.expect>

        # Delete Tunnel at SGW
        <tapa.send>
         <tapa.egt.lcldelreq teid="1" procId="300" spId="1"/>
        </tapa.send>

        <tapa.expect>
         <tapa.egt.lcldelcfm teid="1" suId="1" procId="300"/>
        </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.57
#
#       Desc:  Check Create Bearer REQ/RSP  on S2A interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.57">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Create Bearer REQ/RSP  on S2A interface "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CB_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE"
               spId="1" procId="300" transId="1"  lclPort="3124" rmtPort="2123" t3TmrVal="10"
                 lcladdr="127.0.0.2" rmtaddr="127.0.0.1" teid="1" teidValue="1" seqNoPres="TRUE" seqNo="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="300" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="0" procId="200" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CB_RSP" intfType="EGT_GTP_INT_S2A" 
               spId="1" procId="200" transId="1" seqNoPres="TRUE" seqNo="1" teid="1" teidValue="1" 
                      causePresent="TRUE" embdCausePresent = "TRUE"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CB_RSP" transId="1" suId="1"
                 procId="300" teid="1" teidValue="1"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>



#
#       Test:    1.58
#
#       Desc:   Check Update Bearer REQ/RSP  on S2A interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.58">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Update Bearer REQ/RSP  on S2A interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

<!--
     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>
-->


<!--
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_CMND" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNoPres="TRUE" seqNo="8388609"
          rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="1" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_UB_REQ" intfType="EGT_GTP_INT_S2A" 
            teid="1" spId="1" procId="300" seqNoPres="TRUE" seqNo="8388609"  transId="1" 
            addInterfaceType="11" crtFlag="FALSE" lclPort="3124" rmtPort="2123" 
            t3TmrVal="10" lcladdr="127.0.0.2" rmtaddr="127.0.0.1"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="300" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="0" procId="200" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_UB_RSP" intfType="EGT_GTP_INT_S2A" 
            transId="1" spId="1" procId="200" seqNoPres="TRUE" seqNo="8388609"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigcfm teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
-->

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.59
#
#       Desc:   Check Delete Bearer procedure on S2A interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.59">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Delete Bearer procedure on S2A interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_CMND" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNoPres="TRUE" seqNo="8388609"
          rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq spId="1" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_DB_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE" 
          spId="1" procId="300" transId="1" lclPort="3124" seqNo="3" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.2" rmtaddr="127.0.0.1"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="300" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="0" procId="200"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="0" procId="200" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_DB_RSP" intfType="EGT_GTP_INT_S2A" 
            transId="1" spId="1" procId="200" seqNoPres="TRUE" seqNo="3"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigcfm teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>



#
#       Test:    1.60
#
#       Desc:   Check Trace Session Activation procedure on S2A interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.60">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Trace Session Activation procedure on S2A interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test> 

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_TRC_SESS_ACTVN" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="3" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>


   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.61
#
#       Desc:   Check Delete PDN Connection Set REQ/RSP procedure on S2A interface 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.61">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         " Check Delete PDN Connection Set REQ/RSP procedure on S2A interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

##################
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_DPDN_CON_SET_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="3" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_DPDN_CON_SET_RSP" intfType="EGT_GTP_INT_S2A" 
            transId="1" spId="1" procId="300" seqNoPres="TRUE" seqNo="3"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigcfm teid="1" suId="0" procId="200" transId="1"/>   
      </tapa.expect>
    
      <tapa.expset guardTmr="1000">
         #Echo Req for Proc id 200 and 300
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="0"/> 
         <tapa.hit.udatreq save="TRUE"  procId="200" spId="1"    suConId="0"/> 
      </tapa.expset>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" procId="300"/>
        </tapa.send>

     <tapa.expset guardTmr="1000">
         #Echo Rsp from Proc id 300
         <tapa.hit.udatreq save="FALSE" procId="300"  spId="1"   suConId="1"/> 
     </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.62
#
#       Desc:   Send Echo Request at eGTP-U from application for S2A interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.62">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Send Echo Request at eGTP-U from application for S2A interface"
         
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.egtp.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
   
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.100" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="1" intfType="EGT_INT_S2A_PGW_GTP_C"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="1" intfType="EGT_INT_S2A_PGW_GTP_C" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.101" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="2" intfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="2" intfType="EGT_INT_S2A_TWAN_GTP_C" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.101"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.102" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="3" intfType="EGT_INT_S2A_SGW_GTP_C"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="3" intfType="EGT_INT_S2A_SGW_GTP_C" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.102"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.103" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="4" intfType="EGT_INT_S2A_PGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="4" intfType="EGT_INT_S2A_PGW_GTP_U" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.103"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.104" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="4" intfType="EGT_INT_S2A_TWAN_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="4" intfType="EGT_INT_S2A_TWAN_GTP_U" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.104"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.105" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="5" intfType="EGT_INT_S2A_SGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="5" intfType="EGT_INT_S2A_SGW_GTP_U" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.105"/>
      </tapa.expect>


      
    <tapa.expset guardTmr="1000">
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/> 
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" suConId="1" save="FALSE" validateUMsg="TRUE"/>
    </tapa.expset>

    <tapa.delay delay="10"/>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="1" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.105" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="1" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.105" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="2" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="1" remTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.103" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="2" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.103" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="3" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.100" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="3" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.100" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>

    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="4" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.102" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="4" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.102" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>
    
   <tapa.send>
       <tapa.hit.egudatind passData="FALSE" seqNoPrsnt="TRUE" seqNo="5" msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.101" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>

    <tapa.expect>
       <tapa.egt.egudatind suId="1" seqNoPres="TRUE" seqNo="5" msgType="EGT_GTPU_MSG_ECHO_RSP" lclTeid="0" passIpAddr="FALSE" rmtAddrType="4" rmtAddr="127.0.0.101" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152"/>
    </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
	    <tapa.egtpu.dtucl.deinit/>
   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.63
#
#       Desc:   Send ECHO after CSR with Teid=1 on S2A interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.63">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send CBR after CSR with Teid=1"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>
         
      <tapa.ifndef>
         <tapa.flag id="EGTP_C_PTH_MGT"/>
      </tapa.ifndef>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

    # Configure TUCL
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_ECHO_REQ" intfType="EGT_GTP_INT_UNKNWN" crtFlag="FALSE" teidPres="FALSE"
      SpecHand="FALSE" spId="1" procId="200" transId="1"  lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
       

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" spId="1" procId="200" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>
   
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_ECHO_RSP" intfType="EGT_GTP_INT_UNKNWN" 
                teidPres="FALSE" spId="2" procId="300" transId="1"/>
      </tapa.send>
   
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="0"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>

       
      <tapa.expect>
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_ECHO_RSP" transId="1" suId="0" procId="200" teid="0"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

   # De-Init EGTP
   <tapa.egtp.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.64
#
#       Desc:   Check Trace Session Activation procedure on S2A interface
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc14.xml
#
<tapa.testcase id="1.64">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Check Trace Session Activation procedure on S2A interface"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_S2A_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.eg.twan.pgw.echo.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S2A" crtFlag="TRUE" 
               spId="1" procId="200" transId="1" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"
               FTeidIntfType="EGT_INT_S2A_TWAN_GTP_C"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300"  transId="1"/>   
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S2A" teid="1" 
               spId="1" procId="300" addInterfaceType="11" transId="1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="1" spId="1" procId="300" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind spId="1" pass="TRUE" suConId="1" procId="200"/>
        </tapa.send>


      <tapa.expect guardTmr="10000">
         <tapa.egt.sigcfm egtpMsgType="EGT_GTPC_MSG_CS_RSP" transId="1" teid="1" suId="0" procId="200"/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_TRC_SESS_ACTVN" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="0" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>   
      </tapa.expect>


      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_TRC_SESS_DEACTVN" intfType="EGT_GTP_INT_S2A" crtFlag="FALSE" 
          spId="1" procId="200" transId="1" lclPort="3123" seqNo="1" teid="1" teidValue="1"
          rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.2"/>
      </tapa.send>


      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq suId="0" procId="200" spId="1" suConId="1"/>
      </tapa.expect>

     # Create new response from DTUCL and indicate to EG
     <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>


      <tapa.expect>
         <tapa.egt.sigind teid="1" suId="1" procId="300" transId="1"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

   <tapa.egtp.deinit/>

   </tapa.shutdown>

</tapa.testcase>



/*eg010.201: GPR for piggybacking*/
#
#       Test:    1.65
#
#       Desc:   Send CBR after CSR with Teid=1
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.65">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send CBR after CSR with Teid=1"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_PIGGYBACK_SUPP"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

    # Configure TUCL
      <tapa.eg.mme1.sgw1.dtucl.init/>
   </tapa.cfg>
# Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" seqNo="0"
              spId="1" procId="200" transId="1" t3TmrVal="100" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
      <tapa.hit.udatreq save="TRUE" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

      # Create new response from DTUCL and indicate to EG
      <tapa.send>
      <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
      </tapa.send>

      <tapa.expect>
      <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>
      </tapa.expect>   
      # Adarsh Added
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1"
               spId="1" procId="300" addInterfaceType="10" transId="1" piggyBack="1" />
      </tapa.send>
      <tapa.send>
      <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CB_REQ" intfType="EGT_GTP_INT_S11" seqNoPres="TRUE" seqNo="1"
               spId="1" procId="300" transId="1" teid ="1" addInterfaceType="10"
                    lclPort="3124" rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
      # Expect Message at DTUCL
      <tapa.expect>
          <tapa.hit.udatreq save ="TRUE" suId="1" spId ="0" procId="300" suConId="1"/>
      </tapa.expect>
                                                                                                                                          
      # Create new response from DTUCL and indicate to EG for CS_RSP + PB CB_REQ
      <tapa.send>
         <tapa.hit.udatind suId="0" teidValue="0" spId="1" pass="TRUE" suConId="1" procId="200"/>
      </tapa.send>

      # The user receives confirmation with correct TEID
      <tapa.expect waittmr="10">
         <tapa.egt.sigcfm msgType="EGT_GTPC_MSG_CS_RSP"  teid="1" seqNo="0" suId="1" procId="200"/>
      </tapa.expect>

      <tapa.expect waittmr="10">
         <tapa.egt.sigind msgType="EGT_GTPC_MSG_CB_REQ" teid="1" procId="200" seqNo="1" suId="1"/>
      </tapa.expect>

      </tapa.test>

      # Clean subsection
      <tapa.clean/>
                  
      # Shutdown subsection

      <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtp.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#eg010:210 : piggyback feature added
#
#       Test:    1.66
#
#       Desc:   Send CBR after CSR with Teid=1
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.66">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send CBR after CSR with Teid=1"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_PIGGYBACK_SUPP"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

    # Configure TUCL
      <tapa.eg.mme1.sgw1.dtucl.init/>
   </tapa.cfg>
# Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" seqNo="0"
              spId="1" procId="200" transId="1" t3TmrVal="100" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
      <tapa.hit.udatreq save="TRUE" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

      # Create new response from DTUCL and indicate to EG
      <tapa.send>
      <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
      </tapa.send>

      <tapa.expect>
      <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>
      </tapa.expect>   
      # Adarsh Added
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1"
               spId="1" procId="300" addInterfaceType="10" transId="1" piggyBack="1" />
      </tapa.send>
      <tapa.send>
      <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CB_REQ" intfType="EGT_GTP_INT_S11" seqNoPres="TRUE" seqNo="1"
               spId="1" procId="300" transId="1" teid ="1" addInterfaceType="10"
                   lclPort="3124" rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
      # Expect Message at DTUCL
      <tapa.expect>
          <tapa.hit.udatreq save ="TRUE" suId="1" spId ="0" procId="300" suConId="1"/>
      </tapa.expect>
      # Create new response from DTUCL and indicate to EG for CS_RSP + PB CB_REQ
      <tapa.send>
         <tapa.hit.udatind suId="0" teidValue="1" spId="1" pass="TRUE" suConId="1" procId="200"/>
      </tapa.send>

      # The user receives confirmation with correct TEID
      <tapa.expect waittmr="10">
         <tapa.egt.sigcfm msgType="EGT_GTPC_MSG_CS_RSP"  teid="1" seqNo="0" suId="1" procId="200"/>
      </tapa.expect>

      <tapa.expect waittmr="10">
         <tapa.egt.sigind msgType="EGT_GTPC_MSG_CB_REQ" teid="1" procId="200" seqNo="1" suId="1"/>
      </tapa.expect>

      # piggyback in the reverse direction
      <tapa.send> 
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CB_RSP" intfType="EGT_GTP_INT_S11" teid="1" teidValue="1" seqNoPres="TRUE" seqNo="1"
             spId="1" procId="200" transId="1" addInterfaceType="10" piggyBack="1" lclPort="2124" rmtPort="3123" lcladdr="127.0.0.1" 
             rmtaddr="127.0.0.1"/>
      </tapa.send>
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_REQ" intfType="EGT_GTP_INT_S11" crtFlag="FALSE" teid="1" teidValue="1" seqNoPres="TRUE"          seqNo="2" spId="1" procId="200" transId="1" t3TmrVal="100" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>
      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.udatreq save="TRUE" suId="0" procId="200" suConId="1"/>
      </tapa.expect>
      # Create new response from DTUCL and indicate to EG for CB_RSP + MB_REQ
      <tapa.send>
         <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="1" teidValue="1" procId="300"/>
      </tapa.send>

      # The user receives confirmation with correct TEID
      <tapa.expect waittmr="10">
         <tapa.egt.sigcfm msgType="EGT_GTPC_MSG_CB_RSP"  teid="1" seqNo="2" suId="2" procId="300"/>
      </tapa.expect>
      
      <tapa.expect waittmr="10">
         <tapa.egt.sigind msgType="EGT_GTPC_MSG_MB_REQ" teid="1" procId="300" seqNo="2" suId="2"/>
      </tapa.expect>
      #Adarsh added stop
      </tapa.test>

      # Clean subsection
      <tapa.clean/>
                  
      # Shutdown subsection

      <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtp.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#eg010:210 : piggyback feature added
#
#       Test:    1.67
#
#       Desc:   Piggybacked Request message is not received
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.67">
   
   # Document subsection
   <tapa.doc>

        <tapa.rfc id="None" section="None"/>
        <tapa.module id="eg.tpt"/>

        <tapa.desc>
            "Send CBR after CSR with Teid=1"
        </tapa.desc>

        <tapa.longdesc/>

   </tapa.doc>

    # Require features and flags subsection 
    <tapa.require>
       <tapa.ifdef>
            <tapa.flag id="EGTP_C"/>
            <tapa.flag id="EG_PIGGYBACK_SUPP"/>
       </tapa.ifdef>

       <tapa.ifndef/>
       <tapa.mode mode="single"/>
    </tapa.require>

    # Configuration subsection
    <tapa.cfg>

    # Configure TUCL
       <tapa.eg.mme1.sgw1.dtucl.init/>
       </tapa.cfg>
       # Test Steps subsection
       <tapa.test>
        <tapa.send>
            <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" seqNo="0"
                spId="1" procId="200" transId="1" t3TmrVal="100" addInterfaceType="10"
            lclPort="3123" rmtPort="2124" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
       </tapa.send>

        # Expect Message at DTUCL
        <tapa.expect>
        <tapa.hit.udatreq save="TRUE" suId="0" procId="200" suConId="1"/>
        </tapa.expect>

        # Create new response from DTUCL and indicate to EG
        <tapa.send>
            <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

        <tapa.expect>
            <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>
        </tapa.expect>   
        # Adarsh Added
        <tapa.send>
            <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1"
                spId="1" procId="300" addInterfaceType="10" transId="1" piggyBack="1" />
        </tapa.send>
        # No message expected at DTUCL
            <tapa.delay delay="100"/>
        #Adarsh added stop
       </tapa.test>

    # Clean subsection
    <tapa.clean/>

    # Shutdown subsection
    <tapa.shutdown>
    # De-Init EGTP
    <tapa.egtp.deinit/>
    </tapa.shutdown>
</tapa.testcase>


#eg010:210 : piggyback feature added
#
#       Test:    1.68
#
#       Desc:   Piggybacked Request message is not received
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.68">
   
   # Document subsection
   <tapa.doc>

        <tapa.rfc id="None" section="None"/>
        <tapa.module id="eg.tpt"/>

        <tapa.desc>
            "Send CBR after CSR with Teid=1"
        </tapa.desc>

        <tapa.longdesc/>

   </tapa.doc>

    # Require features and flags subsection 
    <tapa.require>
       <tapa.ifdef>
            <tapa.flag id="EGTP_C"/>
            <tapa.flag id="EG_PIGGYBACK_SUPP"/>
       </tapa.ifdef>

       <tapa.ifndef/>
       <tapa.mode mode="single"/>
    </tapa.require>

    # Configuration subsection
    <tapa.cfg>

    # Configure TUCL
       <tapa.eg.mme1.sgw1.dtucl.init/>
       </tapa.cfg>
       # Test Steps subsection
       <tapa.test>
        <tapa.send>
            <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" seqNo="0"
                spId="1" procId="200" transId="1" t3TmrVal="100" addInterfaceType="10"
            lclPort="3123" rmtPort="2124" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
       </tapa.send>

        # Expect Message at DTUCL
        <tapa.expect>
        <tapa.hit.udatreq save="TRUE" suId="0" procId="200" suConId="1"/>
        </tapa.expect>

        # Create new response from DTUCL and indicate to EG
        <tapa.send>
            <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
        </tapa.send>

        <tapa.expect>
            <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>
        </tapa.expect>   
        # Adarsh Added
        <tapa.send>
            <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1"
                spId="1" procId="300" addInterfaceType="10" transId="1" piggyBack="1" />
        </tapa.send>
        <tapa.send>
            <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_MB_REQ" intfType="EGT_GTP_INT_S11" seqNoPres="TRUE" seqNo="2"
                spId="1" procId="300" transId="1" teid ="1" addInterfaceType="10"
                   lclPort="3124" rmtPort="2123" t3TmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
        </tapa.send>

        # Expect Error Indication due to wrong piggyback request message 
      <tapa.expect>
        <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_MB_REQ" transId="1" seqNo="2"
                   suId="2" procId="300" errType="EGT_ERR_INV_PIGGY_MSG"/>
      </tapa.expect>
        #Adarsh added stop
       </tapa.test>

    # Clean subsection
    <tapa.clean/>

    # Shutdown subsection
    <tapa.shutdown>
    # De-Init EGTP
    <tapa.egtp.deinit/>
    </tapa.shutdown>
</tapa.testcase>

/*eg012.201 : included test case  for piggibacking feature
#       Test:    1.69
#
#       Desc:   Send CBR after CSR with piggiback=1  
#
#       Ref:   None
#
#       Notes:  None
#
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.69">

   # Document subsection
      <tapa.doc>

         <tapa.rfc id="None" section="None"/>
       <tapa.module id="eg.tpt"/>

      <tapa.desc>
         " Send CBR after CSR with piggiback=1"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_PIGGYBACK_SUPP"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>
 # Configuration subsection
   <tapa.cfg>

    # Configure TUCL
      <tapa.eg.mme1.sgw1.dtucl.init/>
   </tapa.cfg>
# Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" seqNo="0"
              spId="1" procId="200" transId="1" t3tmrVal="100" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
      <tapa.hit.udatreq save="TRUE" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

      # Create new response from DTUCL and indicate to EG
      <tapa.send>
      <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
      </tapa.send>

      <tapa.expect>
      <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>
      </tapa.expect>
      <tapa.send>

         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1"
               spId="1" procId="300" addInterfaceType="10" transId="1" piggyBack="1" />
      </tapa.send>
      <tapa.send>
      <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CB_REQ" intfType="EGT_GTP_INT_S11" seqNoPres="TRUE" seqNo="1" piggyBack="1"
               spId="1" procId="300" transId="1" teid ="1" addInterfaceType="10"
                    lclPort="3124" rmtPort="2123" t3tmrVal="10" lcladdr="127.0.0.1" rmtaddr="127.0.0.1" />
      </tapa.send>
     # Expect Error Indication due to wrong piggyback request message
      <tapa.expect>
        <tapa.egt.errind egtpMsgType="EGT_GTPC_MSG_CB_REQ" transId="1" seqNo="1"  errType="EGT_ERR_INV_PIGGY_MSG"
                   suId="2" procId="300" />
      </tapa.expect>


      </tapa.test>

      # Clean subsection
      <tapa.clean/>

      # Shutdown subsection

      <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtp.deinit/>

   </tapa.shutdown>

</tapa.testcase>
/*eg010.201: GPR for piggybacking*/
#
#       Test:    1.70
#
#       Desc:   Send CBR after CSR with Teid=1
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: TPT Module
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.70">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.tpt"/>

      <tapa.desc>
         "Send CBR after CSR with Teid=1"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_C"/>
         <tapa.flag id="EG_PIGGYBACK_SUPP"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

    # Configure TUCL
      <tapa.eg.mme1.sgw1.dtucl.init/>
   </tapa.cfg>
# Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.egt.sigreq egtpMsgType="EGT_GTPC_MSG_CS_REQ" intfType="EGT_GTP_INT_S11" crtFlag="TRUE" seqNo="0"
              spId="1" procId="200" transId="1" t3TmrVal="100" addInterfaceType="10"
               lclPort="3123" rmtPort="2124" lcladdr="127.0.0.1" rmtaddr="127.0.0.1"/>
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
      <tapa.hit.udatreq save="TRUE" suId="0" procId="200" suConId="1"/>
      </tapa.expect>

      # Create new response from DTUCL and indicate to EG
      <tapa.send>
      <tapa.hit.udatind suId="1" spId="1" pass="TRUE" suConId="0" procId="300"/>
      </tapa.send>

      <tapa.expect>
      <tapa.egt.sigind teid="1" suId="2" procId="300"  transId="1"/>
      </tapa.expect>   
      # Adarsh Added
      <tapa.send>
         <tapa.egt.sigrsp egtpMsgType="EGT_GTPC_MSG_CS_RSP" intfType="EGT_GTP_INT_S11" teid="1"
               spId="1" procId="300" addInterfaceType="10" transId="1" piggyBack="1" />
      </tapa.send>

       #delete tunnel 2 (Dummy Tunnel)
      <tapa.send>
         <tapa.egt.lcldelreq teid="1" procId="200" spId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.egt.lcldelcfm teid="1" suId="1" procId="200"/>
      </tapa.expect>
                                                                                                                                          
      </tapa.test>

      # Clean subsection
      <tapa.clean/>
                  
      # Shutdown subsection

      <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtp.deinit/>

   </tapa.shutdown>
</tapa.testcase>
   
#ccpu00136421:added test case for purecov code coverage
#       Test:    1.71
#
#       Desc:   Verify the receiving of unknown message type from user  and send 
#               error indication to user
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.71">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the receiving of unknown message type from user  and send
	       error indication to user"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
      
       <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" passData="FALSE" passIpAddr="FALSE" suConId="2" msgType="EGT_GTPU_MSG_INVALID"  />
      </tapa.send>
      
      <tapa.expect>
         <tapa.egt.eguerrind  suId="1" spId="1" errCause="EGT_ERR_INV_MSG_TYPE" /> 
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>
#       Test:    1.72
#
#       Desc:   Verify the sending of invalid message from dummy tucl to peer egtp
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.72">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the sending of invalid message from dummy tucl to peer egtp"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.egudatind suId="1" spId="1" passData="FALSE" passIpAddr="FALSE" suConId="2" invalMsgType="TRUE" lclTeid="20" remTeid="2" 
            msgType="EGT_GTPU_MSG_GPDU"  />
      </tapa.send>
      
      <tapa.expect>
         <tapa.egt.eguerrind  suId="1" spId="1" errCause="EGT_ERR_INV_MSG_TYPE" 
            lclTeid="2" lclAddr="127.0.0.100" rmtAddr="127.0.0.1"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    1.73
#
#       Desc:   Verify the Echo Response with manatory ie missing
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc15.xml
#
<tapa.testcase id="1.73">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "Verify the Echo Response with manatory ie missing"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.echo.dtucl.init/>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.101" 
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="2" intfType="EGT_INT_S5_S8_SGW_GTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="2" intfType="EGT_INT_S5_S8_SGW_GTP_U" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.101"/>
      </tapa.expect>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
    <tapa.expset guardTmr="500">
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" suConId="1" save="FALSE" validateUMsg="TRUE"/>
    </tapa.expset>

    <tapa.delay delay="10"/>
    <tapa.send>
       <tapa.hit.egudatind passData="FALSE" recvPresent="FALSE"  seqNoPrsnt="TRUE" seqNo="1" 
          msgType="EGT_GTPU_MSG_ECHO_RSP" recvIeTvType="1" lclTeid="0" suConId="0" passIpAddr="FALSE" rmtAddrType="4" 
          rmtAddr="127.0.0.100" rmtPort="2152" lclAddrType="4" lclAddr="127.0.0.1" lclPort="2152" remTeid="0"/>
    </tapa.send>
      <tapa.expect>
         <tapa.egt.eguerrind  lclTeid="0" suId="1" spId="1" errCause="EGT_ERR_MISSING_MAND_IE" 
            lclAddr="127.0.0.1" rmtAddr="127.0.0.100"/>
      </tapa.expect>

 </tapa.test>  
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
	    <tapa.egtpu.dtucl.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#       Test:    1.74
#
#       Desc:   send the tunnel creation request with invalid sort port 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.74">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "send the tunnel creation request with invalid sort port"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   # Test Steps subsection
   
   <tapa.test>
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclAddr="127.0.0.1" rmtAddr="224.0.0.200" lclPort="3000"
            action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE" teid="30" 
            intfType="EGT_INT_S5_S8_SGW_GTP_U"/>
      </tapa.send>

      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="1" teid="30" intfType="EGT_INT_S5_S8_SGW_GTP_U" status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_ENTITY" 
            lclAddr="127.0.0.1" rmtAddr="224.0.0.200"/>
      </tapa.expect>

      <tapa.delay delay="20" />

   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#       Test:    1.75
#
#       Desc:   Verify the sending of G-PDU with invalid src ip address
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.75">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the sending of G-PDU with invalid src ip address"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
    #replaces lcladdr from 0.1 to 0.2
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="0" remTeid="0" lclAddr="127.0.0.2" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_ECHO_REQ" lclPort="10000"/>
      </tapa.send>
      <tapa.expect>
         <tapa.egt.eguerrind  lclTeid="0" suId="1" spId="1" errCause="EGT_ERR_INV_SRC_IP" 
            lclAddr="127.0.0.2" rmtAddr="127.0.0.100"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#       Test:    1.76
#
#       Desc:   Verify the  sending of G-PDU with invalid src ip port
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.76">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the sending of G-PDU with invalid src ip port"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="0" remTeid="0" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_ECHO_REQ" lclPort="3000"/>
      </tapa.send>
      <tapa.expect>
         <tapa.egt.eguerrind  lclTeid="0" suId="1" spId="1" errCause="EGT_ERR_INV_SRC_PORT" 
            lclAddr="127.0.0.1" rmtAddr="127.0.0.100"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#       Test:    1.77
#
#       Desc:   Verify the sending of G-PDU with invalid destination ip
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.77">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the sending of G-PDU with invalid destination ip"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="0" remTeid="0" lclAddr="127.0.0.2" 
            rmtAddr="127.0.0.101" msgType="EGT_GTPU_MSG_ECHO_REQ" lclPort="3000"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.egt.eguerrind  lclTeid="0" suId="1" spId="1" errCause="EGT_ERR_INV_SRC_IP" 
            lclAddr="127.0.0.2" rmtAddr="127.0.0.101"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#       Test:    1.78
#
#       Desc:   test case for debug printing of ie for echo response message
#
#       Ref:   NONE
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc15.xml
#
<tapa.testcase id="1.78">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "test case for debug printing of ie for echo response message"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.echo.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

    <tapa.expset guardTmr="1000">
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" suConId="1" save="FALSE" validateUMsg="TRUE"/>
    </tapa.expset>

    <tapa.delay delay="10"/>
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="0" remTeid="0" lclAddr="127.0.0.1"  
            rmtAddr="127.0.0.101" msgType="EGT_GTPU_MSG_ECHO_RSP" lclPort="10000"/>
      </tapa.send>
      <tapa.expect>
         <tapa.hit.udatreq save="FALSE" suId="0" spId="0" suConId="1"/>
      </tapa.expect>

 
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

	<tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#       Test:    1.79
#
#       Desc:   Verify the sending of echo request message with invalid ie
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.79">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         " Verify the sending of echo request message with invalid ie"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
    #replaces lcladdr from 0.1 to 0.2
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="0" remTeid="0" lclAddr="127.0.0.1" seqNoPres="TRUE" invalidIeType="TRUE" 
            rmtAddr="127.0.0.101" msgType="EGT_GTPU_MSG_ECHO_REQ" lclPort="10000"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.egt.eguerrind  lclTeid="0" suId="1" spId="1" errCause="EGT_ERR_IE_UNKNOWN" 
            lclAddr="127.0.0.1" rmtAddr="127.0.0.101"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#       Test:    1.80
#
#       Desc:   test case debug printing of ie
#
#       Ref:   NONE
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.80">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.cpm"/>

      <tapa.desc>
         "test case debug printing of ie"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.echo.dtucl.init/>
   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

    <tapa.expset guardTmr="1000">
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" save="FALSE" validateUMsg="TRUE"/>
       <tapa.hit.udatreq msgType="EGT_GTPU_MSG_ECHO_REQ" suConId="1" save="FALSE" validateUMsg="TRUE"/>
    </tapa.expset>

    <tapa.delay delay="10"/>
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="0" remTeid="0" lclAddr="127.0.0.1"  
            rmtAddr="127.0.0.101" msgType="EGT_GTPU_MSG_ECHO_REQ" lclPort="10000"/>
      </tapa.send>
      <tapa.expect>
         <tapa.hit.udatreq save="FALSE" suId="0" spId="0" suConId="1"/>
      </tapa.expect>

 
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>

	<tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    1.81
#
#       Desc:   Receive Supp. Ext. Header Not. on a tunnel
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.81">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Supp. Ext. Header Not. on a tunnel"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="0" spId="0" suConId="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" passData="FALSE" passIpAddr="TRUE" seqNoPres="FALSE" invalMsgLen="TRUE" 
            suConId="2"  remTeid="0" noIEs="TRUE" msgType="EGT_GTPU_MSG_SUPP_EXT_HDR_NTF"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#       Test:    1.82
#
#   Desc: Receive connection confirm from TUCL with invalid ipaddress
#
#
#       Notes:  None
#              
#       Module: None
#
#       File:   egac_tc1.xml
#

  <tapa.testcase id="1.82">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
      " receive  connection  confirm with invalid ipaddress"
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
   <tapa.cfg/>

 

   # Steps subsection
   <tapa.test>
 
         # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      # Send an egt sap configuration request

      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      
    
      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>
      
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" flag="LEG_EGTP_U" />
      </tapa.send>
      
      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" />
         <tapa.hit.servopenreq suConId="0"  />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  localAddrNull="TRUE" suConId="0" />
      </tapa.send>

      </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

  </tapa.testcase>

#       Test:    1.83
#
#   Desc: Receive connection  confirm from TUCL with TSap as NULL
#
#
#       Notes:  None
#              
#       Module: None 
#
#       File:   egac_tc1.xml
#

  <tapa.testcase id="1.83">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
      "Receive connection  confirm from TUCL with TSap as NULL"
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
   <tapa.cfg/>

 

   # Steps subsection
   <tapa.test>
 
         # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      # Send an egt sap configuration request

      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      
    
      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>
      
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" flag="LEG_EGTP_U" />
      </tapa.send>
      
      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" />
         <tapa.hit.servopenreq suConId="0"  />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  invalTsap="TRUE"  suConId="0" />
      </tapa.send>

      </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

  </tapa.testcase>
  
#       Test:    1.84
#
#   Desc: Receive conection  confirm from TUCL with SuId more than maximum no of TSaps
#
#
#       Notes:  None
#              
#       Module: None 
#
#       File:   egac_tc1.xml
#

  <tapa.testcase id="1.84">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
      "Receive conection  confirm from TUCL with SuId more than maximum no of TSaps"
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
   <tapa.cfg/>

 

   # Steps subsection
   <tapa.test>
 
         # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      # Send an egt sap configuration request

      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      
    
      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>
      
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" flag="LEG_EGTP_U" />
      </tapa.send>
      
      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" />
         <tapa.hit.servopenreq suConId="0"  />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  suId="10"  suConId="0" />
      </tapa.send>

      </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

  </tapa.testcase>
  
#       Test:    1.85
#
#   Desc: Receive connection confirm from TUCL with invalied tptState 
#
#
#       Notes:  None
#              
#       Module: None
#
#       File:   egac_tc1.xml
#

  <tapa.testcase id="1.85">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
      " Receive connection confirm from TUCL with invalied tptState "
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
      <tapa.flag id= "EGTP_U" />
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
   <tapa.cfg/>

 

   # Steps subsection
   <tapa.test>
 
         # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      # Send an egt sap configuration request

      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>
      
    
      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>
      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>
      
      # Bind TSAP (tSapId = 0) with DTUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" tSapId="0" flag="LEG_EGTP_U" />
      </tapa.send>
      
      <tapa.expset>
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK" />
         <tapa.hit.servopenreq suConId="0"  />
      </tapa.expset>

      <tapa.send>
         <tapa.hit.concfm  invalTsapCbState="TRUE" suConId="0" />
      </tapa.send>

      </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

  </tapa.testcase>
  

#       Test:    1.86
#
#       Desc:   send the tunnel modification for a destination with invalid teid
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.86">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "send the tunnel modification for a destination with invalid teid"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>
   </tapa.cfg>

<tapa.test>
   
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclPort="2152" rmtPort ="0"
          frmrmtPort="2152" frmRmtAddr="127.0.0.1"
         action="EGT_TMGMT_REQTYPE_MOD" 
         lclAddr="127.0.0.100" rmtAddr="127.0.0.1"  teid="4"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="4"
            action="EGT_TMGMT_REQTYPE_MOD" lclAddr="127.0.0.100" rmtAddr="127.0.0.1" 
         status="LCM_PRIM_NOK" reason="EGT_GTPU_CAUSE_INV_TEID"/>
      </tapa.expect>
 </tapa.test>
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    1.87
#
#       Desc:   Receive GPDU with invalid teid 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.87">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive GPDU with invalid teid"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>
   
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="0" remTeid="0" lclAddr="127.0.0.1" seqNoPres="TRUE" invalidIeType="TRUE" 
            rmtAddr="127.0.0.101" msgType="EGT_GTPU_MSG_ECHO_RSP" lclPort="10000"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.egt.eguerrind  lclTeid="0" suId="1" spId="1" errCause="EGT_ERR_INV_IE_TYPE" 
            lclAddr="127.0.0.1" rmtAddr="127.0.0.101"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>


</tapa.testcase>

#       Test:    1.88
#
#       Desc:   send udp extension header with invalid length
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.88">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the sending of invalid message from dummy tucl to peer egtp"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.egudatind suId="1" spId="1" passData="FALSE" passIpAddr="FALSE" suConId="2"  lclTeid="20" remTeid="2" udpextPres="TRUE" 
             extHdrLenWrong="TRUE" msgType="EGT_GTPU_MSG_GPDU"  />
      </tapa.send>
      
      <tapa.expect>
         <tapa.egt.egudatind  suId="1" spId="1" msgType="EGT_GTPU_MSG_GPDU" 
            lclTeid="2" lclAddr="127.0.0.100" rmtAddr="127.0.0.1"/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#       Test:    1.89
#
#       Desc:   send pdcp extension header with invalid length
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.89">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "send pdcp extension header with invalid length"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.egudatind suId="1" spId="1" passData="FALSE" passIpAddr="FALSE" suConId="2"  lclTeid="20" remTeid="2" pdcpextPres="TRUE" 
             extHdrLenWrong="TRUE" msgType="EGT_GTPU_MSG_GPDU"  />
      </tapa.send>
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#       Test:    1.90
#
#       Desc:  Send the tunnel modification with invalid source address 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc1.xml
#
<tapa.testcase id="1.90">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "send the tunnel modification with invalid source address "
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

   # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>
   </tapa.cfg>

<tapa.test>
   
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="1" spId="1" lclPort="2152" rmtPort ="0"
          frmrmtPort="2152" frmRmtAddr="127.0.0.2"
         action="EGT_TMGMT_REQTYPE_MOD" 
         lclAddr="127.0.0.100" rmtAddr="127.0.0.1"  teid="4"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="1" teid="4"
            action="EGT_TMGMT_REQTYPE_MOD" lclAddr="127.0.0.100" rmtAddr="127.0.0.1" 
         status="LCM_PRIM_NOK" reason="EGT_GTPU_CAUSE_INV_DST_IP" frmRmtAddr="127.0.0.2" />
      </tapa.expect>
 </tapa.test>
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
      
      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>
   
</tapa.testcase>


# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************30**
#
#         End of file:     
#
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#    $SID$      ---     ad           1. Created for EGTP 1.1 Rel
            eg009.201   asaurabh     1. Included testcases for S2B and S2A.
            eg012.201   shpandey     1. included test case for piggicaking feature
				     2. Included test case for timer for piggibacking feature
                                     3. added fix for error in acceptance code
                                     
#*********************************************************************91*/

