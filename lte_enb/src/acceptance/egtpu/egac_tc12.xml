#
#/********************************************************************20**
#
#     Name:    eGTP 
#
#     Type:    XML Test File
#
#     Desc:    Configuration Based Test Cases
#
#     File:    xx_tc12.xml
#
#     Sid:     
#
#     Prg:     an 
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=1:ms:xx_tc12.xml

#
#       Test:    12.1
#
#       Desc:   Verify Acceptance of General Configuration with default parameters 
#
#    Ref:   EG_LM_CONFIG_1
#
#       Notes:  None
#              
#       Module: eg.leg.conf.gen 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.1">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.gen"/>

      <tapa.desc>
         "Verify Acceptance of General Configuration with dafault Parameters"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
           <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
            <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    12.2
#
#       Desc:  "Verify Acceptance of multiple general Configuration with Valid Parameters
#               by shutting down in between"
#
#    Ref:   EG_LM_CONFIG_1
#
#       Notes:   None
#              
#       Module:  eg.leg.cfg.gen 
#
#       File:    xx_tc12.xml
#
<tapa.testcase id="12.2">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.gen"/>

      <tapa.desc>
       "Verify Acceptance of multiple general Configuration with Valid Parameters by shutting down in between"
      </tapa.desc>

      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen timerRes="1" nmbUSaps="3" nmbSrvs="5" nmbTsap="1" 
                           resThreshUpper="6" resThreshLower="2"
                           eguT3TimerEnb="TRUE" eguT3TimerVal="10" nmbRetries="3"
                           echoTmrEnb="TRUE" echoTmrVal="60" reOrderTmrEnb="TRUE" reOrderTmrVal="10" 
                           pvtExtId="50" pduWindSize="20" maxNumIp="10" nodeArch="LEG_NODE_LTE"
                           nmbWorkerThread="3" gbThrAssgnTmrEnb="TRUE" gbThrAssgnTmrVal="5"/>  
      </tapa.send>
      
      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>
   
      # Send Shutdown Control Request to eGTP layer
      <tapa.send>
         <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
      </tapa.send>
   
      <tapa.delay delay="10"/>

      # Expect Control Confirm
     <tapa.expect guardTmr="100000">
         <tapa.leg.cntrlcfm/>
     </tapa.expect>
      
      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen timerRes="1" nmbUSaps="5" nmbSrvs="10" nmbTsap="1"
                           resThreshUpper="8" resThreshLower="3"
                           eguT3TimerEnb="TRUE" eguT3TimerVal="10" nmbRetries="2"
                           echoTmrEnb="TRUE" echoTmrVal="40" reOrderTmrEnb="TRUE" reOrderTmrVal="10" 
                           pvtExtId="20" pduWindSize="15" maxNumIp="20" nodeArch="LEG_NODE_UMTS"
                           nmbWorkerThread="1" gbThrAssgnTmrEnb="TRUE" gbThrAssgnTmrVal="10"/>
      </tapa.send>
      
          # Expect Control Confirm
         <tapa.expect>
            <tapa.leg.cfgcfm/>
         </tapa.expect>


   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
     <tapa.delay delay="5"/>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.3
#
#       Desc:    Check for the Positive Config Cfm for  ( Re-Configuration ) of General 
#                Configurations With valid parameters. This does not do the validation 
#                Whether the parameter is re-configured in the layer
#
#    Ref:   EG_LM_CONFIG_4
#
#       Notes:  None
#              
#       Module: eg.leg.conf.gen 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.3">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.gen"/>

      <tapa.desc>
       "Check for the Positive Config Cfm for  ( Re-Configuration ) of General 
        Configurations With valid parameters. This does not do the validation 
        Whether the parameter is re-configured in the layer."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen timerRes="1" nmbUSaps="5" nmbSrvs="30" nmbTsap="1"
                           resThreshUpper="6" resThreshLower="2"
                           eguT3TimerEnb="TRUE" eguT3TimerVal="10" nmbRetries="3"
                           echoTmrEnb="TRUE" echoTmrVal="50" reOrderTmrEnb="TRUE" reOrderTmrVal="10" 
                           pvtExtId="30" pduWindSize="20" maxNumIp="10" nodeArch="LEG_NODE_LTE"
                           nmbWorkerThread="1" gbThrAssgnTmrEnb="TRUE" gbThrAssgnTmrVal="5"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send ReConfiguration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>
      
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.4
#
#       Desc:    Check for the positive Config Cfm for USAP configuration 
#                With default parameters.
#
#    Ref:   EG_LM_CONFIG_4
#
#       Notes:  None
#              
#       Module: eg.leg.conf.usap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.4">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.usap"/>

      <tapa.desc>
       "Check for the positive Config Cfm for USAP configuration with default
        parameters."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send USAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>
      
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.5
#
#       Desc:    Check for the positive Config Cfm for USAP configuration with
#                valid parameters.
#
#    Ref:   EG_LM_CONFIG_4
#
#       Notes:  None
#              
#       Module: eg.leg.conf.usap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.5">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.usap"/>

      <tapa.desc>
       "Check for the positive Config Cfm for USAP configuration with valid
        parameters."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send ReConfiguration Request 
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="4"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>
      
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    12.6
#
#       Desc:    Check for the positive Config Cfm for USAP SAP Re-configuration 
#                with valid parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.usap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.6">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.usap"/>

      <tapa.desc>
       "Check for the positive Config Cfm for USAP Re-configuration with valid
        parameters."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="2" gtpProtFlg="LEG_EGTP_U"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send ReConfiguration Request 
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="2" gtpProtFlg="LEG_EGTP_U"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.7
#
#       Desc:    Check for the positive Config Cfm for TSAP configuration with
#                default parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.7">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
       "Check for the positive Config Cfm for TSAP configuration with default
        parameters."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.8
#
#       Desc:    Check for the positive Config Cfm for TSAP configuration with
#                valid parameters. 
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.8">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
       "Check for the positive Config Cfm for TSAP configuration with valid
        parameters."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="1" spId="2" tInitTmr.val="8" 
                            sockParam.listenQSize="3" maxBndRetry="2" 
                            bndTmCfg.val="8"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send Re-Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.9
#
#       Desc:    Check for the positive Config Cfm for Re-Configuration of TSAP 
#                With valid parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.9">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
       "Check for the positive Config Cfm for Re-Configuration of TSAP 
   Configurations With invalid parameters."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.lsap/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Re-Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.lsap maxBndRetry="2" bndTmCfg.val="8"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    12.10
#
#   Check for the positive Config Cfm for TPT Server configuration with default
#   parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.tserver 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.10">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.tserver"/>

      <tapa.desc>
   "Check for the positive Config Cfm for TPT Server configuration with default
   parameters."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="4294967295" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send USAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.lsap/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.2" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" errIndPvtExtVal="abcdefghij"
                              echoReqPvtExtVal="zxyvuts" echoRspPvtExtVal="jihgfedcba"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send TServer Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.tserver uSapId="0" address="127.0.0.2" port="2152" protType="LEG_EGTP_U"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.11
#
#   Desc: Check for the Positive Config Cfm TServer configuration with valid
#         parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.tserver 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.11">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.tserver"/>

      <tapa.desc>
      "Check for the Positive  Config Cfm for TServer configuration with valid
       parameters."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="0"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.2" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" errIndPvtExtVal="abcdefghij"
                              echoReqPvtExtVal="zxyvuts" echoRspPvtExtVal="jihgfedcba"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send TServer Configuration Request
      <tapa.send>
         <tapa.leg.cfg.tserver port="2152" address="127.0.0.2" uSapId="0" protType="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TServer Configuration Request
      <tapa.send>
         <tapa.leg.cfg.tserver tptSrvId="2" address="127.0.0.2" port="2215" sockParam.listenQSize="8"
                               opnSrvRetryCnt="3" hostName.pres="1" protType="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>



#
#       Test:    12.12
#
#   Desc:    Check for the Positive  Config Cfm for default TServer configuration
#            with default parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.tserver 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.12">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.tserver"/>

      <tapa.desc>
   "Check for the Positive  Config Cfm for default TServer configuration with
    default parameters"
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send echo sap Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="2"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.2" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="2" nodeType="TRUE" errIndPvtExtVal="abcdefghij"
                              echoReqPvtExtVal="zxyvuts" echoRspPvtExtVal="jihgfedcba"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send TServer Configuration Request
      <tapa.send>
         <tapa.leg.cfg.tserver port="2152" address="127.0.0.2" uSapId="2" protType="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    12.13
#
#   Desc:    Check for the Positive  Config Cfm for default TServer configuration
#            with valid parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.tserver 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.13">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.tserver"/>

      <tapa.desc>
   "Check for the Positive  Config Cfm for default TServer configuration with
    valid parameters"
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="0"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.2" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" errIndPvtExtVal="abcdefghij"
                              echoReqPvtExtVal="zxyvuts" echoRspPvtExtVal="jihgfedcba"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send TServer Configuration Request
      <tapa.send>
         <tapa.leg.cfg.tserver tptSrvId="2" address="127.0.0.2" isDfltSrv="TRUE" port="2152"
                               sockParam.listenQSize="8" opnSrvRetryCnt="3" protType="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.14
#
#   Desc:    Check for the Positive  Config Cfm for IP Address configuration
#            with default parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.tserver 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.14">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.tserver"/>

      <tapa.desc>
   "Check for the Positive  Config Cfm for default TServer configuration with
    valid parameters"
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen nmbWorkerThread ="5"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="0"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="1" nodeType="TRUE" errIndPvtExtVal="abcdefghij"
                              echoReqPvtExtVal="zxyvuts" echoRspPvtExtVal="jihgfedcba"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.2" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" errIndPvtExtVal="abcdefghij"
                              echoReqPvtExtVal="zxyvuts" echoRspPvtExtVal="jihgfedcba"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.3" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" errIndPvtExtVal="abcdefghij"
                              echoReqPvtExtVal="zxyvuts" echoRspPvtExtVal="jihgfedcba"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tptSrvId="0" tSapId="0" uSapId="1" port="2152" type="CM_TPTADDR_IPV4" 
                               address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tptSrvId="1" tSapId="0" uSapId="0" port="2152" type="CM_TPTADDR_IPV4"
                               address="127.0.0.2" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Send TServer Configuration Request
      <tapa.send>
         <tapa.leg.cfg.tserver tptSrvId="2" tSapId="0" uSapId="0" port="1000" 
                               type="CM_TPTADDR_IPV4" address="127.0.0.2" protType="LEG_EGTP_U" 
                               sockParam.listenQSize="8" opnSrvRetryCnt="3"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    12.15
#
#   Desc: :  Check for the positive control Cfm for enabling/disabling trace
#            for TSAP.
#
#       Notes:  None
#              
#       Module: eg.leg.cntrl.lsapTrc
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.15">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.lsapTrc"/>

      <tapa.desc>
   "Check for the positive control Cfm for enabling/disabling trace for TSAP."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen nmbUSaps="10" nmbWorkerThread="6"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.lsap/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send Disable trace Control Request
      <tapa.send>
         <tapa.leg.cntrl.lsapTrc flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send enable trace Control Request
      <tapa.send>
         <tapa.leg.cntrl.lsapTrc action="AENA" trcMask="8704" trcLen="50" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.16
#
#   Desc: Check for the Positive control Cfm for enabling/disabling the 
#         unsolicited status.
#
#       Notes:  None
#              
#       Module: eg.leg.cntrl.usta
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.16">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usta"/>

      <tapa.desc>
   "Check for the Positive control Cfm for enabling/disabling the unsolicited
    status."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send enable unsoliited status control Request 
      <tapa.send>
         <tapa.leg.cntrl.usta flag="LEG_EGTP_U"/>
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send disable unsoliited status control Request 
      <tapa.send>
         <tapa.leg.cntrl.usta action="ADISIMM" flag="LEG_EGTP_U"/>
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.17
#
#   Desc: Check for the positive control cfm for unbound disbaling USAP
#         without any IP's
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.17">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for unbound disbaling USAP.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Bind Request from User
      <tapa.send>
         <tapa.egt.bndreq suId="0" spId="0"/>
      </tapa.send>

      # Expect Bind Confirm
      <tapa.expect>
         <tapa.egt.bndcfm suId="0"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send unbind disable for USAP
      <tapa.send>
         <tapa.leg.cntrl.usap uSapId="0" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.18
#
#   Desc: Check for the positive control cfm for unbound disbaling USAP
#         with IP's/Tunnels in LTE mode without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.18">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for unbound disbaling USAP
    with IP's/Tunnels in LTE mode without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
     <!--   <tapa.hi.init/> -->

     # Configure eGTP-U
     <tapa.eg.gtpu.leginitlte/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send unbind disable for USAP
      <tapa.send>
         <tapa.leg.cntrl.usap uSapId="0" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="5"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      <tapa.delay delay="5"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--  <tapa.hi.deinit/> 
      -->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.19
#
#   Desc: Check for the positive control cfm for unbound disbaling USAP
#         with IP's/Tunnels in UMTS mode with and without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.19">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for unbound disbaling USAP
    with IP's/Tunnels in UMTS mode with and without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--   <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitumts/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send unbind disable for USAP
      <tapa.send>
         <tapa.leg.cntrl.usap uSapId="0" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # Send Shutdown Control Request to eGTP layer
      <tapa.send>
         <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="5"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!-- 
      <tapa.hi.deinit/>
-->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.20
#
#   Desc: Check for the positive control cfm for deleting USAP
#         with IP's/Tunnels in LTE mode without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.20">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for deleting USAP
    with IP's/Tunnels in LTE mode without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--  <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitlte/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="FALSE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send unbind disable for USAP
      <tapa.send>
         <tapa.leg.cntrl.usap action="ADEL" uSapId="0" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--
      <tapa.hi.deinit/>
-->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.21
#
#   Desc: Check for the positive control cfm for deleting USAP
#         with IP's/Tunnels in UMTS mode with and without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.21">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for deleting USAP
    with IP's/Tunnels in UMTS mode with and without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--<tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitumts/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send unbind disable for USAP
      <tapa.send>
         <tapa.leg.cntrl.usap action="ADEL" uSapId="0" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--  <tapa.hi.deinit/>
-->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.22
#
#   Desc: Check for the positive control cfm for Enabling and Unbind Disabling TSAP
#         with Tunnels/Transport servers in UMTS mode with and without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.22">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for Enabling and Unbind Disabling TSAP
    with Tunnels/Transport servers in UMTS mode with and without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!-- <tapa.hi.init/>
      -->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitumts/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send unbind disable for TSAP
      <tapa.send>
         <tapa.leg.cntrl.lsap flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Cfg Confirm with OK status
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
<!--   <tapa.hi.deinit/>
-->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.23
#
#   Desc: Check for the positive control cfm for Enabling and Unbind Disabling TSAP
#         with Tunnels/Transport servers in LTE mode with and without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.23">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for Enabling and Unbind Disabling TSAP
    with Tunnels/Transport servers in LTE mode with and without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitlte/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send unbind disable for TSAP
      <tapa.send>
         <tapa.leg.cntrl.lsap flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Cfg Confirm with OK status
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      <tapa.delay delay="2"/>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
       <!--   <tapa.hi.deinit/>
-->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.24
#
#   Desc: Check for the positive control cfm for Deleting TSAP
#         with Tunnels/Transport servers in UMTS mode with and without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.24">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for Deleting TSAP
    with Tunnels/Transport servers in UMTS mode with and without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--    <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitumts/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send deleting for TSAP
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ADEL" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Cfg Confirm with OK status
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--   <tapa.hi.deinit/>
-->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.25
#
#   Desc: Check for the positive control cfm for Deleting TSAP
#         with Tunnels/Transport servers in LTE mode with and without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.25">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for Deleting TSAP
    with Tunnels/Transport servers in LTE mode with and without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitlte/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send deleting for TSAP
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ADEL" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Cfg Confirm with OK status
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--
      <tapa.hi.deinit/>
-->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.26
#
#   Desc: Check for the positive control cfm for Deleting IP Address 
#         in UMTS mode with and without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.26">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for Deleting IP Address
    in UMTS mode with and without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitumts/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send delete for IP
      <tapa.send>
         <tapa.leg.cntrl.ipAddr action="ADEL" address="127.0.0.1" port="0" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Cfg Confirm with OK status
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--
      <tapa.hi.deinit/>
-->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.27
#
#   Desc: Check for the positive control cfm for Moving IP Address
#         in LTE mode without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.27">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
   "Check for the positive control cfm for Moving IP Address
    in LTE mode without ReOrder.
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitlte/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send Move Ip Control request
      <tapa.send>
         <tapa.leg.cntrl.ipAddr action="LEG_MOVE_IP" address="127.0.0.1" port="0" 
                                fromSpId="0" toSpId="1" flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Cfg Confirm with OK status
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--
      <tapa.hi.deinit/>
-->
   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.28
#
#   Desc: Check for the positive control cfm for deleting TPT Server
          with address as input in UMTS mode with and without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.28">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
       "Check for the positive control cfm for deleting TPT Server
        with address as input in UMTS mode with and without ReOrder."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>
         
      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitumts/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send delete for TPT Server with address
      <tapa.send>
         <tapa.leg.cntrl.tptsrv action="ADEL" type="2" address="127.0.0.1" port="10000" 
                                flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Cfg Confirm with OK status
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--
      <tapa.hi.deinit/>
     -->
   </tapa.shutdown>
   
</tapa.testcase>


#
#       Test:    12.29
#
#   Desc: Check for the positive control cfm for deleting TPT Server
#         with Id as input in LTE mode without ReOrder.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.29">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
      "Check for the positive control cfm for deleting TPT Server
        with Id as input in LTE mode without ReOrder."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitlte/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

      # Send deleting for TPT Server
      <tapa.send>
         <tapa.leg.cntrl.tptsrv action="ADEL" tptSrvId="0" type="1" address="127.0.0.1" port="10000"
                                flag="LEG_EGTP_U"/>
      </tapa.send>

      <tapa.delay delay="2"/>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # Expect Cfg Confirm with OK status
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE" flag="EGTP_U_MULTI_THREADED"/>
      <!--
      <tapa.hi.deinit/>
-->
   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.30
#
#   Desc: Check for the positive Status cfms 
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.30">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
      "Check for the positive Status confirms"
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
     -->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitlte/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send general status request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGGEN"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm/>
      </tapa.expect>

      # Send System status request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGSID"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm/>
      </tapa.expect>

      # Send usap status Request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGUSAP" sapId="0"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.stacfm/>
      </tapa.expect>

      # Send tsap status Request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGTSAP"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.stacfm/>
      </tapa.expect>

      # Send TPT Server status Request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGSRVR" tptSrvId="1"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.stacfm/>
      </tapa.expect>

      # Send Tunnel status Request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGTNL" teid="1" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="0" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.stacfm/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--
      <tapa.hi.deinit/>
-->
   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.31
#
#   Desc: Check for the positive Statistics Confirms.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.31">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
      "Check for the positive Statistics Confirms."
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>         
      </tapa.ifdef>

      <tapa.ifndef/>
        
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
-->
     # Configure eGTP-U
     <tapa.eg.gtpu.leginitlte/>

   </tapa.cfg>
   
   # Test Steps subsection
   <tapa.test>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10000" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="2" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" lclPort="10001" rmtPort ="0"
                                 frmrmtPort="0" action="EGT_TMGMT_REQTYPE_ADD" reOrderPres="TRUE"
                                 teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1" expSeqNmb ="1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.egt.egutnlmgmtcfm suId="0" teid="3" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="ADISIMM" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send gen Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGGEN"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send gen Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGGEN" action="ZEROSTS"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send usap Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGUSAP" sapId="0"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send usap Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGUSAP" sapId="0" action="ZEROSTS"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send tsap Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTSAP"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send tsap Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTSAP" action="ZEROSTS"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send IP Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGIPADDR" addrType="CM_TPTADDR_IPV4" 
                           ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send IP Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGIPADDR" action="ZEROSTS" 
                           addrType="CM_TPTADDR_IPV4" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send TPT Server Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGSRVR" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="10001" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send TPT Server Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGSRVR" action="ZEROSTS" spId="0" 
                           addrType="CM_TPTADDR_IPV4" port="2152" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send Tunnel Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTNL" teid="1" spId="0" addrType="CM_TPTADDR_IPV4"
                           ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send Tunnel Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTNL" action="ZEROSTS" teid="1" spId="0"
                           addrType="CM_TPTADDR_IPV4" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send Thread Statistics Request
      <tapa.send flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.sts.req stsType="STEGTHRD"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.stscfm/>
      </tapa.expect>

      # Send Thread Statistics Request
      <tapa.send flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.sts.req stsType="STEGTHRD" action="ZEROSTS"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.stscfm/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # Suppress Alarms
      <tapa.directive partialCfm="TRUE" flag="EGTP_U_MULTI_THREADED"/>

   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

      # Expect control Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="ROKPENDING"/>
      </tapa.expect>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

      # Suppress Alarms
      <tapa.directive partialCfm="FALSE"/>
      <!--
      <tapa.hi.deinit/>
     -->
   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.32
#
#       Desc:   Verify Negative Acceptance of General Configuration with invalid parameters
#
#    Ref:   EG_LM_CONFIG_1
#
#       Notes:  None
#
#       Module: eg.leg.conf.gen
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.32">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.gen"/>

      <tapa.desc>
         "Verify Negative Acceptance of General Configuration with invalid Parameters"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen nmbUSaps="150"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INV_NMB_USAPS"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen nmbSrvs="150"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INV_NMB_SRVS"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen timerRes="0"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen resThreshUpper="10"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen resThreshLower="10"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen echoTmrEnb="TRUE" echoTmrVal="0"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen echoTmrEnb="FALSE" eguT3TimerEnb="TRUE"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen echoTmrEnb="TRUE" eguT3TimerEnb="TRUE" eguT3TimerVal="0"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen echoTmrEnb="TRUE" echoTmrVal="10" eguT3TimerEnb="TRUE" 
                           eguT3TimerVal="10" nmbRetries="3"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen echoTmrEnb="TRUE" eguT3TimerEnb="TRUE" nmbRetries="0"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen reOrderTmrEnb="TRUE" reOrderTmrVal="0"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen pduWindSize="0" nodeArch="LEG_NODE_UMTS"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen maxNumIp="150"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

<!--
      # Send General Configuration Request
      <tapa.send flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cfg.gen nmbWorkerThread="350"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>
-->

      # Send General Configuration Request
      <tapa.send flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cfg.gen reOrderTmrEnb="FALSE" gbThrAssgnTmrEnb="TRUE"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cfg.gen gbThrAssgnTmrEnb="TRUE" gbThrAssgnTmrVal="0"/>
      </tapa.send>

      # Expect Config Confirm
      <tapa.expect flag="EGTP_U_MULTI_THREADED">
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_CAUSE_INV_PAR_VAL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
           <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
            <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.33
#
#       Desc:    Check for the negative Config Cfm for USAP configuration 
#                With invalid parameters.
#
#    Ref:   EG_LM_CONFIG_4
#
#       Notes:  None
#              
#       Module: eg.leg.conf.usap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.33">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.usap"/>

      <tapa.desc>
       "Check for the negative Config Cfm for USAP configuration with invalid
        parameters."
      </tapa.desc>
      <tapa.longdesc/>
       
   </tapa.doc>
   
   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
         
      <tapa.ifndef>
           <tapa.flag id="EGTP_C"/>
      </tapa.ifndef>
         
      <tapa.mode mode="single"/>

   </tapa.require>
     
   # Configuration subsection
   <tapa.cfg/>
   
   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.gen/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="200"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>
      
      # Send USAP Configuration Request 
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu gtpProtFlg="LEG_EGTP_C"/>  
      </tapa.send>
      
      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LEG_REASON_INV_PROTFLAG"/>
      </tapa.expect>
      
   </tapa.test>
   
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    12.34
#
#       Desc:    Check for the negative Config Cfm for TSAP configuration with
#                invalid parameters.
#
#       Notes:  None
#              
#       Module: eg.leg.conf.lsap 
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.34">
   
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
        "Check for the Negative Config Cfm when Lower SAP is configured with
         invalid parameters."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TSAP Configuration Request invalid tsap id
      <tapa.send>
         <tapa.leg.cfg.lsap suId="20"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send TSAP Configuration Request invalid transport type
      <tapa.send>
         <tapa.leg.cfg.lsap tptType="300"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_TPTTYPE"/>
      </tapa.expect>

      # Send TSAP Configuration Request invalid bind timer value.
      <tapa.send>
         <tapa.leg.cfg.lsap bndTmCfg.val="0"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_TMRVAL"/>
      </tapa.expect>

      # Send TSAP Configuration Request invalid no. of bind retries.
      <tapa.send>
         <tapa.leg.cfg.lsap maxBndRetry="5"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_NUMRETRY"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    12.35
#
#       Desc:    Check for the negative Config Cfm for TPT Server configuration with
#                invalid parameters.
#
#       Notes:  None
#
#       Module: eg.leg.conf.lsap
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.35">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
        "Check for the Negative Config Cfm when TPT Server is configured with
         invalid parameters."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TServer Configuration Request without TSAP Cfg.
      <tapa.send>
         <tapa.leg.cfg.tserver port="2155" uSapId="2"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_TSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send TSAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TServer Configuration Request without TSAP Cfg.
      <tapa.send>
         <tapa.leg.cfg.tserver tptSrvId="50" port="2155" uSapId="2"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

      # Send an TPT Server configuration request without USap Cfg
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="2" uSapId="0" port="10001"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="0" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an TPT Server configuration request Without IP Cfg
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="2" uSapId="0" port="10001"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_IP_ADDR_FAILED"/>
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" echoReqPvtExtVal="wewqewewq"
                              echoRspPvtExtVal ="ewewrewrerwr" errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an TPT Server configuration request without default port cfg
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="2" uSapId="0" port="10001"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LEG_REASON_DFLT_PORT_NOT_OPEANED"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="0" port="2152"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send an TPT Server configuration request with invalid address type
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="2" uSapId="0" port="10001"
                               type="CM_TPTADDR_NOTPRSNT" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LEG_REASON_INVALID_IP_TYPE"/>
      </tapa.expect>

      # Send an TPT Server configuration request with GTPV1 port
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="2" uSapId="0" port="3386"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LEG_REASON_INVALID_PORT"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="2" uSapId="0" port="10001"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="2" uSapId="0" port="10001"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_TPTSRV_CFGD"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="3" uSapId="0" port="10001"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_TPTSRV_CFGD"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.36
#
#       Desc:    Check for the negative Config Cfm for IP Address configuration with
#                invalid parameters.
#
#       Notes:  None
#
#       Module: eg.leg.conf.lsap
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.36">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
        "Check for the Negative Config Cfm for IP Address configuration with
         invalid parameters."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" echoReqPvtExtVal="wewqewewq"
                              echoRspPvtExtVal ="ewewrewrerwr" errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LCM_REASON_GENCFG_NOT_DONE"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send an IP configuration request without USAP Cfg
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" echoReqPvtExtVal="wewqewewq"
                              echoRspPvtExtVal ="ewewrewrerwr" errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LEG_REASON_USAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="0" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" echoReqPvtExtVal="wewqewewq"
                              echoRspPvtExtVal ="ewewrewrerwr" errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm 
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" echoReqPvtExtVal="wewqewewq"
                              echoRspPvtExtVal ="ewewrewrerwr" errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm
      <tapa.expect>
         <tapa.leg.cfgcfm status="LCM_PRIM_NOK" reason="LEG_REASON_IP_EXISTS"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.37
#
#       Desc:    Check for the negative Status Cfm for status request
#                invalid parameters.
#
#       Notes:  None
#
#       Module: eg.leg.conf.lsap
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.37">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
        "Check for the Negative Status Cfm for status request with
         invalid parameters."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
     # Configure TUCL
     <!--
     <tapa.hi.init/>
     -->
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send general status request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGGEN"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LCM_REASON_GENCFG_NOT_DONE"/>
      </tapa.expect>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP status request with invalid sapId
      <tapa.send>
         <tapa.leg.sta.req staType="STEGUSAP" sapId="200"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send USAP status request with sapId not configured
      <tapa.send>
         <tapa.leg.sta.req staType="STEGUSAP" sapId="1"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send TSAP status request with TSAP not configured
      <tapa.send>
         <tapa.leg.sta.req staType="STEGTSAP"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LCM_REASON_TSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send TPT Server status request with TSAP not configured
      <tapa.send>
         <tapa.leg.sta.req staType="STEGSRVR"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LCM_REASON_TSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
         <!--<tapa.leg.cfg.lsap suId="0" spId="0"/> -->
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TPT Server status request with invalid TPT server Id
      <tapa.send>
         <tapa.leg.sta.req staType="STEGSRVR"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

      # Send Tunnel status request with USAP not configured
      <tapa.send>
         <tapa.leg.sta.req staType="STEGTNL"/>
      </tapa.send>

      # Expect Status Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="0" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send Tunnel status Request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGTNL" teid="1" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="0" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_IP_ADDR_FAILED"/>
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" echoReqPvtExtVal="wewqewewq"
                              echoRspPvtExtVal ="ewewrewrerwr" errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send Tunnel status Request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGTNL" teid="1" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="0" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_DEST_ADDR_FAILED"/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="0" port="2152"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="1" uSapId="0" port="10000"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      # Bind TSAP (lSapId = 0) with TUCL
      <tapa.send>
         <tapa.leg.cntrl.lsap action="ABND_ENA" lSapId="0" flag="LEG_EGTP_U"/>
      </tapa.send>
      <!-- 
      <tapa.delay delay="10"/>
        <tapa.expect guardTmr="1000000">
        -->
         # Stack needs to change to send OK_NDONE in 1st CntrlCfm
         <tapa.expset>
         <tapa.leg.cntrlcfm  status="LCM_PRIM_OK"/>
         <tapa.hit.servopenreq suConId="0"  />
         <tapa.hit.servopenreq suConId="1"  />
         </tapa.expset>

      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq  suId="0" spId="0"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.bndcfm suId="0"/>
      </tapa.expect>

      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" action="EGT_TMGMT_REQTYPE_ADD"
                                 lclPort="10000" reOrderPres="FALSE" teid="1" lclAddr="127.0.0.1"
                                 rmtAddr="127.0.0.1" expSeqNmb = "1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="0" teid="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>

      # Send Tunnel status Request
      <tapa.send>
         <tapa.leg.sta.req staType="STEGTNL" teid="2" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="0" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.stacfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_TEID_FAILED"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.38
#
#       Desc:    Check for the negative statistics Cfm for statistics request with
#                invalid parameters.
#
#       Notes:  None
#
#       Module: eg.leg.conf.lsap
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.38">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
        "Check for the Negative statistics Cfm for statistics request with
         invalid parameters."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure TUCL
      <!--
     <tapa.hi.init/>
     -->
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send gen Statistics Request without GenCfg
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGGEN"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_GENCFG_NOT_DONE"/>
      </tapa.expect>

      # Send gen Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send USAP statistics request with invalid sapId
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGUSAP" sapId="200"/>
      </tapa.send>

      # Expect statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send USAP statistics request with sapId not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGUSAP" sapId="1"/>
      </tapa.send>

      # Expect statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send TSAP statistics request with invalid sapId
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTSAP" sapId="200"/>
      </tapa.send>

      # Expect statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send TSAP statistics request with sapId not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTSAP" sapId="0"/>
      </tapa.send>

      # Expect statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_TSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send TPT Server Statistics Request with invalid SAP Id
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGSRVR" spId="5" addrType="CM_TPTADDR_IPV4"
                           port="10001" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send Tunnel Statistics Request with SAPId not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTNL" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="10001" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send IPAddress statistics request with sapId not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGIPADDR" sapId="0"/>
      </tapa.send>

      # Expect statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="0" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send TPT Server Statistics Request with TSAP not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGSRVR" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="10001" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LCM_REASON_TSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send TPT Server Statistics Request with IPAddress not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGSRVR" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="10001" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_IP_ADDR_FAILED"/>
      </tapa.expect>

      # Send IPAddress statistics request with IPAddress not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGIPADDR" sapId="0"/>
      </tapa.send>

      # Expect statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_IP_ADDR_FAILED"/>
      </tapa.expect>

      # Send Tunnel Statistics Request with IPAddress not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTNL" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="10001" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_IP_ADDR_FAILED"/>
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="0" nodeType="TRUE" echoReqPvtExtVal="wewqewewq"
                              echoRspPvtExtVal ="ewewrewrerwr" errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send TPT Server Statistics Request with TPT server not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGSRVR" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="1000" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_TPT_ADDR_FAILED"/>
      </tapa.expect>

      # Send IP Statistics Request with TPT server not configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGIPADDR" addrType="CM_TPTADDR_IPV4"
                           ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_TPT_ADDR_FAILED"/>
      </tapa.expect>

      # Send Tunnel Statistics Request without Tunnel configured
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTNL" spId="0" addrType="CM_TPTADDR_IPV4"
                           port="10001" ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_DEST_ADDR_FAILED"/>
      </tapa.expect>
      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="0" port="2152"
                               type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>
      # Receive the confirm for the TPT Server request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm/>
      </tapa.expect>
      # Send Control request for SSAP
      <tapa.send>
         <tapa.egt.bndreq  suId="0" spId="0"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.bndcfm suId="0"/>
      </tapa.expect>
      # Send tunnel Management Request
      <tapa.send>
         <tapa.egt.egutnlmgmtreq suId="0" spId="0" action="EGT_TMGMT_REQTYPE_ADD" lclPort="2152" 
                                 reOrderPres="FALSE" teid="1" lclAddr="127.0.0.1"
                                 rmtAddr="127.0.0.1" expSeqNmb = "1"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect guardTmr="1000">
         <tapa.egt.egutnlmgmtcfm suId="0" teid="1" lclAddr="127.0.0.1" rmtAddr="127.0.0.1"/>
      </tapa.expect>
      # Send Tunnel Statistics Request
      <tapa.send>
         <tapa.leg.sts.req stsType="STEGTNL" teid="4" spId="0" addrType="CM_TPTADDR_IPV4"
                           ipAddr="127.0.0.1"/>
      </tapa.send>

      # Expect Statistics Confirm
      <tapa.expect>
         <tapa.leg.stscfm status="LCM_PRIM_NOK" reason="LEG_REASON_FOUND_TEID_FAILED"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.39
#
#       Desc:    Check for the negative Control Cfm for general control.
#
#       Notes:  None
#
#       Module: eg.leg.conf.lsap
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.39">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.conf.lsap"/>

      <tapa.desc>
       "Check for the negative Config Cfm for gen cpntrol"
      </tapa.desc>
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #send shutdown control request without doind general cfg
      <tapa.send>
         <tapa.leg.cntrl.gen flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect -ve Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status ="LCM_PRIM_NOK" reason ="LCM_REASON_GENCFG_NOT_DONE" />
      </tapa.expect>

      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send  gen control req to enable trace for non configured TSAP
      <tapa.send>
         <tapa.leg.cntrl.gen  action="AENA" subaction ="SATRC" uSapId="3" flag="LEG_EGTP_U"/>
      </tapa.send>


     # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status ="LCM_PRIM_NOK" reason ="LCM_REASON_TSAPCFG_NOT_DONE" />
      </tapa.expect>

       # Send  gen control req to disable trace for non configured TSAP
      <tapa.send>
         <tapa.leg.cntrl.gen  action="ADISIMM" subaction ="SATRC" uSapId="3" flag="LEG_EGTP_U"/>
      </tapa.send>


     # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status ="LCM_PRIM_NOK" reason ="LCM_REASON_TSAPCFG_NOT_DONE" />
      </tapa.expect>

      # Send  gen control req  with invalid sub action with action AENA
      <tapa.send>
         <tapa.leg.cntrl.gen  action="AENA" subaction ="LEG_INV_GEN_CNTRL_SUBACTION" uSapId="3" flag="LEG_EGTP_U"/>
      </tapa.send>


     # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status ="LCM_PRIM_NOK" reason ="LCM_REASON_INVALID_SUBACTION" />
      </tapa.expect>

      # Send  gen control req  with invalid sub action with action ADISIMM
      <tapa.send>
         <tapa.leg.cntrl.gen  action="ADISIMM" subaction ="LEG_INV_GEN_CNTRL_SUBACTION" uSapId="3" flag="LEG_EGTP_U"/>
      </tapa.send>


     # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status ="LCM_PRIM_NOK" reason ="LCM_REASON_INVALID_SUBACTION" />
      </tapa.expect>

      <tapa.delay delay="10"/>

     # Send  gen control req  with invalid action and subaction
      <tapa.send>
         <tapa.leg.cntrl.gen  action="LEG_INV_GEN_CNTRL_ACTION" subaction ="LEG_INV_GEN_CNTRL_SUBACTION" uSapId="3" flag="LEG_EGTP_U"/>
      </tapa.send>


     # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status ="LCM_PRIM_NOK" reason ="LCM_REASON_INVALID_ACTION" />
      </tapa.expect>

     # Send control req with invalid Element
      <tapa.send>
         <tapa.leg.cntrl.gen elmnt="20"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status ="LCM_PRIM_NOK" reason ="LCM_REASON_INVALID_ELMNT"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
       <tapa.leg.cntrl.shutdown flag="LEG_EGTP_U"/>
   </tapa.send>

          # Expect Control Confirm
         <tapa.expect>
           <tapa.leg.cntrlcfm/>
         </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    12.40
#
#       Desc:    Check for the negative Control Cfm for for USAP control requests.
#
#       Notes:  None
#
#       Module: eg.leg.conf.lsap
#
#       File:   xx_tc12.xml
#


<tapa.testcase id="12.40">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.usap"/>

      <tapa.desc>
           "Check for the Negative Control Cfm for USAP control requests."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen nmbUSaps="3"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

     # Send control request with -ve sapId
      <tapa.send>
         <tapa.leg.cntrl.usap uSapId="-1" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>


      # Send control request with invalid sapId
      <tapa.send>
         <tapa.leg.cntrl.usap uSapId="1" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

      # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu usapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm uSapId="1"/>
      </tapa.expect>

      # Send control request with invalid action.
      <tapa.send>
         <tapa.leg.cntrl.usap action="LEG_INV_USAP_CNTRL_ACTION"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>

      # Send control request with valid action.
      <tapa.send>
         <tapa.leg.cntrl.usap action="AUBND_DIS"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      # Send control request with valid action
      <tapa.send>
         <tapa.leg.cntrl.usap  uSapId="2"  action="ADEL"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm uSapId="2" status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_SAP"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown/>
   </tapa.send>

   # Expect Control Confirm
   <tapa.expect>
      <tapa.leg.cntrlcfm/>
   </tapa.expect>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    12.41
#
#       Desc:   Check for the Negative Control Cfm for TSAP control requests.
#
#       Notes:  None
#
#       Module: eg.leg.cntrl.lsap
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.41">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.lsap"/>

      <tapa.desc>
           "Check for the Negative Control Cfm for TSAP control requests."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send control request with TSAP not configured
      <tapa.send>
         <tapa.leg.cntrl.lsap flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_TSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send TSAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send control request with invalid action.
      <tapa.send>
         <tapa.leg.cntrl.lsap flag="LEG_EGTP_U" action="LEG_INV_LSAP_CNTRL_ACTION"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown/>
   </tapa.send>

   # Expect Control Confirm
   <tapa.expect>
      <tapa.leg.cntrlcfm/>
   </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.42
#
#       Desc:   Check for the Negative Control Cfm for IP address control requests.
#
#       Notes:  None
#
#       Module: eg.leg.cntrl.lsap
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.42">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.lsap"/>

      <tapa.desc>
           "Check for the Negative Control Cfm for  IP address control requests."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
           <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

     # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>


      # Send control request with TSAP not configured
      <tapa.send>
         <tapa.leg.cntrl.ipAddr flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LEG_REASON_USAPCFG_NOT_DONE"/>
      </tapa.expect>

     # Send USAP Configuration Request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send control request with TSAP not configured
      <tapa.send>
         <tapa.leg.cntrl.ipAddr fromSpId="1" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_ENTITY"/>
      </tapa.expect>

     # Send IP address CFG for u SAP 1
      <tapa.send>
         <tapa.leg.cfg.ipAddr nmbIpAddr="1" ipAddress="127.0.0.2" ipAddrtype="CM_TPTADDR_IPV4"
                              uSapId="1" nodeType="TRUE" errIndPvtExtVal="abcdefghij"
                              echoReqPvtExtVal="zxyvuts" echoRspPvtExtVal="jihgfedcba"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>


      # Send control request with invalid action
      <tapa.send>
         <tapa.leg.cntrl.ipAddr fromSpId="1"  address="127.0.0.2"
         flag="LEG_EGTP_U" action="LEG_INV_LSAP_CNTRL_ACTION"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_ACTION" />
      </tapa.expect>

      # Send control request with destination USAP not configured
      <tapa.send>
         <tapa.leg.cntrl.ipAddr action="LEG_MOVE_IP" fromSpId="1" toSpId="0" flag="LEG_EGTP_U" 
                                address="127.0.0.2"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LEG_REASON_USAPCFG_NOT_DONE"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown/>
   </tapa.send>

   # Expect Control Confirm
   <tapa.expect>
      <tapa.leg.cntrlcfm/>
   </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    12.43
#
#       Desc:   Check for the Negative Control Cfm for TPT Server control requests.
#
#       Notes:  None
#
#       Module: eg.leg.cntrl.lsap
#
#       File:   xx_tc12.xml
#
<tapa.testcase id="12.43">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.leg.cntrl.lsap"/>

      <tapa.desc>
           "Check for the Negative Control Cfm for TPT Server control requests."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

     # Send General Configuration Request
      <tapa.send>
         <tapa.leg.cfg.gen/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send deleting for TPT Server without TSAP configuration
      <tapa.send>
         <tapa.leg.cntrl.tptsrv action="ADEL" tptSrvId="0" type="1" address="127.0.0.1" port="10000"
                                flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_TSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send Configuration Request
      <tapa.send>
         <tapa.leg.cfg.lsap/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cfgcfm/>
      </tapa.expect>

      # Send deleting for TPT Server without TSAP configuration
      <tapa.send>
         <tapa.leg.cntrl.tptsrv action="ADEL" tptSrvId="0" type="1" address="127.0.0.1" port="10000"
                                flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Cfg Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_SRVINIT_FAIL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>
   # Send Shutdown Control Request to eGTP layer
   <tapa.send>
      <tapa.leg.cntrl.shutdown/>
   </tapa.send>

   # Expect Control Confirm
   <tapa.expect>
      <tapa.leg.cntrlcfm/>
   </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************30**
#
#         End of file:     
#
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#    $SID$      ---     ad           1. Created for EGTP 1.1 Rel
#*********************************************************************91*/

