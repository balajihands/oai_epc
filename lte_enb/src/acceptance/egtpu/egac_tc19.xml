
#/********************************************************************20**
#
#     Name:    EGTP 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Group 
#
#     File:    egac_tc19.xml
#
#     Sid:   
#
#     Prg:     kc
#
#*********************************************************************21*/

#
#       Test:    19.1
#
#       Desc:  Receivie a G-PDU before general configuration
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.1">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receivie a G-PDU before general configuration"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.echo.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" genCfgDone="FALSE" passIpAddr="TRUE" suConId="2" />
      </tapa.send>

      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>
     #fix for ccpu00132398
      <tapa.expect>
         <tapa.hit.udatreq save="FALSE" suId="0" suConId="1"/>
      </tapa.expect>
      
     <tapa.send>
	<tapa.egt.ControlParameter egCbCfgDone="TRUE"/>
     </tapa.send>

     <tapa.delay delay="20" />
-->
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    19.2
#
#       Desc:   Receive G-PDU on wrong suConId(suConId > genCfg.nmbSrvs)
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.2">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive G-PDU on wrong suConId(suConId > genCfg.nmbSrvs)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="0" suConId="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" passIpAddr="TRUE" suConId="20" />
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    19.3
#
#       Desc:   Receive G-PDU on a non configured suConId
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.3">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive G-PDU on a non configured suConId"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   <!-- 
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="0" suConId="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" passIpAddr="TRUE" suConId="3" />
      </tapa.send>

      # Expect Message at DTUCL
      <tapa.expect>
         <tapa.hit.discreq spId="0" choice="1" suConId="3"/>
      </tapa.expect>

      <tapa.delay delay="20" />
-->
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.4
#
#       Desc:  Receivie a G-PDU before TSAP configuration
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.4">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receivie a G-PDU before TSAP configuration"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen  />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug    />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  />
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.100" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"  save="FALSE"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      <tapa.send>
         <tapa.egt.egudatreq suId="0" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" />
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.5
#
#       Desc:  Receivie a G-PDU on a Disabled TServer 
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.5">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receivie a G-PDU on a Disabled TServer"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="0" suConId="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" invalTServerState="TRUE" passIpAddr="TRUE" suConId="2" />
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.6
#
#       Desc:   Receive G-PDU on wrong TSap Id(suId > genCfg.maxNmbTSaps)
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.6">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive G-PDU on wrong TSap Id(suId > genCfg.maxNmbTSaps)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="0" suConId="1"/>
      </tapa.expect>
     
      <tapa.send> 
         <tapa.hit.egudatind suId="10" spId="0" passIpAddr="TRUE" suConId="2" />
      </tapa.send>
      <tapa.delay delay="20" />
-->
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.7
#
#       Desc:  Receivie a G-PDU before TSAP binding
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.7">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receivie a G-PDU before TSAP binding"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen  />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug    />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  />
      </tapa.expect>

      # Send an egt sap configuration request
      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect>
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.100" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect>
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      <tapa.send>
         <tapa.egt.egudatreq suId="0" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" /> 
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.8
#
#       Desc:  Receive Disconnection indication from TUCL
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.8">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Disconnection indication from TUCL"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.discind suId="0" suconId="1" choice="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.servopenreq suConId="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.concfm  suConId="1" />
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    19.9
#
#       Desc:   Verify the successful sending and receiving of G-PDU 
                (All Debug prints and Trace indication are enabled)
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.9">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Verify the successful sending and receiving of G-PDU"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send enable trace Control Request
      <tapa.send>
         <tapa.leg.cntrl.lsapTrc action="AENA" trcMask="2" trcLen="500" />
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm />
      </tapa.expect>

      # Send enable Debug Control Request
      <tapa.send>
         <tapa.leg.cntrl.debug action="AENA" dbgMask="524032" flag="LEG_EGTP_U"/>
      </tapa.send>

      # Expect Control Confirm
      <tapa.expect>
         <tapa.leg.cntrlcfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="2" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="0" spId="0" suConId="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" passData="TRUE" passIpAddr="TRUE" suConId="2" />
      </tapa.send>

      <tapa.directive trace="TRUE"/>

      <tapa.expset>
         <tapa.leg.trcInd eventType="2"/>

         <tapa.egt.egudatind lclTeid="20" suId="1" spId="1" msgType="EGT_GTPU_MSG_GPDU" 
            lclAddr="127.0.0.100" rmtAddr="127.0.0.1"/>
      </tapa.expset>

      <tapa.directive trace="FALSE"/>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.10
#
#       Desc:  Receive Disconnection indication from TUCL with invalied choice
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.10">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Disconnection indication from TUCL with invalied choice"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.discind suId="0" suconId="1" choice="2"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.11
#
#       Desc:  Receive Disconnection indication from TUCL for non-configured
               transport server
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.11">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Disconnection indication from TUCL for non-configured
         transport server"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.egtpu.dtucl.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.discind suId="0" suconId="5" choice="1"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.12
#
#       Desc:  Receive Bnd Cfm from TUCL before general configuration
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.12">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Bnd Cfm from TUCL before general configuration"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" />
      </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.13
#
#       Desc:  Receive Bnd Cfm from TUCL on invalied TSap(suId > genCfg.maxNmbTSaps)
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.13">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Bnd Cfm from TUCL on invalied TSap(suId > genCfg.maxNmbTSaps)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeArch="LEG_NODE_UMTS"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug    />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="20" status="LCM_PRIM_OK" />
      </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.14
#
#       Desc:  Receive Bnd Cfm from TUCL on non configured TSAP
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.14">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Bnd Cfm from TUCL on non configured TSAP"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeArch="LEG_NODE_UMTS"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug    />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  />
      </tapa.expect>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK" />
      </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.15
#
#       Desc:   Receive Disconnection Confirm from TUCL
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.15">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Disconnection Confirm from TUCL"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.disccfm spId="0" choice="1" suConId="1"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.16
#
#       Desc:   Receive Disconnection Confirm from TUCL with wrong choice
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.16">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Disconnection Confirm from TUCL with wrong choice"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.disccfm spId="0" choice="2" suConId="1"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.17
#
#       Desc:   Receive Bnd Cfm from TUCL for already bound SAP
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.17">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Bnd Cfm from TUCL for already bound SAP"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.bndcfm suId="0" status="LCM_PRIM_OK"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.18
#
#       Desc:   Receive Connection Cfm for non configured transport server
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.18">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Connection Cfm for non configured transport server"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.concfm  suConId="5"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.19
#
#       Desc:   Receive Connection Cfm for already enabled transport server
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.19">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Connection Cfm for already enabled transport server"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.concfm  suConId="0"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.20
#
#       Desc:   Receive Connection Cfm for invalied transport server (suConnId > egCb.genCfg.nmbSrvs)
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.20">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Connection Cfm for invalied transport server (suConnId > egCb.genCfg.nmbSrvs)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.concfm  suConId="30"/>
      </tapa.send>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.21
#
#       Desc:  Receive Disconnection Ind from TUCL before general configuration
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.21">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Disconnection Ind from TUCL before general configuration"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.discind suId="0" suconId="1" choice="1"/>
      </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.22
#
#       Desc:  Receive Disconnection Cfm  from TUCL before general configuration
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.22">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Disconnection Cfm  from TUCL before general configuration"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.disccfm spId="0" choice="1" suConId="1"/>
      </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.23
#
#       Desc:  Receive Connection Cfm from TUCL before general configuration
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.23">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive Connection Cfm from TUCL before general configuration"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.hit.concfm  suConId="3"/>
      </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.24
#
#       Desc:  Send TServer enable request for already enabled TServer
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.24">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Send TServer enable request for already enabled TServer"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.send>
         <tapa.leg.cntrl.tptsrv action="AENA" tptSrvId="2" flag="LEG_EGTP_U" 
            type="1" address="127.0.0.100" port="2152"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_SRVINIT_FAIL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      <tapa.delay delay="50" />
      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    19.25
#
#       Desc:   Send TServer enable request before TSap Bind
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc19.xml
#
<tapa.testcase id="19.25">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Send TServer enable request before TSap Bind"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an General configuration request
      <tapa.send>
         <tapa.leg.cfg.gen nodeArch="LEG_NODE_UMTS"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="EG_DEBUGP" >
         <tapa.leg.cntrl.debug    />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="EG_DEBUGP" >
         <tapa.leg.cntrlcfm  />
      </tapa.expect>

      # Send an egt sap configuration request

      <tapa.send>
         <tapa.leg.cfg.usap.egtpu sapId="1" gtpProtFlg="LEG_EGTP_U"/>
      </tapa.send>

      # Receive the confirm for the egt sap request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm  />
      </tapa.expect>

      # Send an IP configuration request
      <tapa.send>
         <tapa.leg.cfg.ipAddr ipAddress="127.0.0.1" ipAddrtype="CM_TPTADDR_IPV4" uSapId="1" nmbIpAddr="1"
            nodeType="TRUE" echoReqPvtExtVal="wewqewewq" echoRspPvtExtVal="ewewrewrerwr" 
            errIndPvtExtVal="sewqreqewrw"/>
      </tapa.send>

      # Receive the confirm for the IP request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm />
      </tapa.expect>

      # Configure TSAP (tSapId = 0) 
      <tapa.send>
         <tapa.leg.cfg.lsap suId="0" spId="0" type="LEG_TSAP_TYPE_DTUCL" dstEntId="ENTHI"  
            dstInstId="5" selector="2"/>
      </tapa.send>

      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm suId="0" />
      </tapa.expect>

      # Send an TPT Server configuration request
      <tapa.send>
         <tapa.leg.cfg.tserver tSapId="0" tptSrvId="0" uSapId="1" port="2152" 
            type="CM_TPTADDR_IPV4" address="127.0.0.1" protType="LEG_EGTP_U" />
      </tapa.send>

      # Receive the confirm for the TPT Server request.
      <tapa.expect guardTmr="1000">
         <tapa.leg.cfgcfm   />
      </tapa.expect>

      <tapa.send>
         <tapa.leg.cntrl.tptsrv action="AENA" tptSrvId="0" flag="LEG_EGTP_U" 
            type="1" address="127.0.0.1" port="2152"/>
      </tapa.send>

      <tapa.expect>
         <tapa.leg.cntrlcfm status="LCM_PRIM_NOK" reason="LCM_REASON_SRVINIT_FAIL"/>
      </tapa.expect>

      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>



#
#       Test:    19.27
#
#       Desc:   Send G-PDU on a non configured tunnel 0
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc16.xml
#
<tapa.testcase id="19.27">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive G-PDU on a non configured tunnel"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Configure Dummy TUCL
      <tapa.egtpu.dtucl.init/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   <!--
      <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="0" remTeid="20" lclAddr="127.0.0.1" 
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
      </tapa.send>
     #fix for ccpu00132398
      <tapa.expect>
         <tapa.hit.udatreq save="FALSE" suId="0" suConId="1"/>
      </tapa.expect>
      -->
<!--
      <tapa.send>
         <tapa.hit.egudatind suId="0" spId="0" remTeid="30" passData="FALSE" suConId="2" 
            passIpAddr="TRUE" msgType="EGT_GTPU_MSG_GPDU" />
      </tapa.send>

      <tapa.expect>
         <tapa.hit.udatreq suId="0" suConId="2" save="FALSE"/>
      </tapa.expect>

      <tapa.expect>
         <tapa.egt.eguerrind suId="1" lclTeid="30" errCause="EGT_ERR_INV_TEID_RCVD" 
            lclAddr="127.0.0.100" rmtAddr="127.0.0.1" />
      </tapa.expect>
-->
      <tapa.delay delay="20" />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>







#
#       Test:    19.26
#
#       Desc:   Send G-PDU on a non configured tunnel
#
#       Ref:   None
#
#       Notes:  None
#              
#       Module: 
#
#       File:   egac_tc16.xml
#
<tapa.testcase id="19.26">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="eg.dtucl"/>

      <tapa.desc>
         "Receive G-PDU on a non configured tunnel"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
      <tapa.ifdef>
         <tapa.flag id="EGTP_U"/>
      </tapa.ifdef>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>
	</tapa.require>
	
	<tapa.cfg>
     <tapa.egtpu.dtucl.init/>
   </tapa.cfg>

   <tapa.test>
   <!--
    <tapa.send>
         <tapa.egt.egudatreq suId="1" spId="1" lclTeid="30" remTeid="20" lclAddr="127.0.0.1"
            rmtAddr="127.0.0.100" msgType="EGT_GTPU_MSG_GPDU" lclPort="10000"/>
     </tapa.send>
    #fix for ccpu00132398
     <tapa.expect>
         <tapa.hit.udatreq save="FALSE" suId="0" suConId="1"/>
     </tapa.expect>

     <tapa.delay delay="20" />
-->
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection

   <tapa.shutdown>

      # De-Init EGTP 
      <tapa.egtpu.dtucl.deinit/>

   </tapa.shutdown>

</tapa.testcase>



