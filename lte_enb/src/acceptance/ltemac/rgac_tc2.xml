#
#/********************************************************************20**
#
#     Name:    LTEMAC
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Group 
#
#     File:    rgac_tc2.xml
#
#     Sid:     $SID$ 
#
#     Prg:     nsadar 
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=1:hn:rga_tc2.xml

#
#       Test:    2.1
#
#       Desc:    To test successful CRG Cell Configuration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.1">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Cell Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL configuration request to LTEMAC from Dummy RRC and expect a
         positive configuration confirmation from LTE MAC"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq instId="5"/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>
      
      #Expect NOK_DONE Control Confirm from LTE MAC
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType=
            "STTFUSAP" />
      </tapa.send>
      # Ecpect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason=
            "LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      <tapa.expect>
         <tapa.tfu.bndreq instId="0"/>
      </tapa.expect>
      #<tapa.rg.dbgDeInitAll/>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0" instId="0"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
      
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" 
            elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason=
            "LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Ecpect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>
      
      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Get Statistics request to valide num cell configured
      <tapa.send>
         <tapa.lrg.stsreq elmntType="STGEN"/>
      </tapa.send>
      #expect STS Cfm from MAC
      <tapa.expect>
         <tapa.lrg.stscfm validateSts="TRUE" numCellCfg="1"/>
      </tapa.expect>

      #Send Same Cell Config again to get negative confirm
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      #Expect Negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      # Send UnBind Request to RGU SAP
      <tapa.send>
         <tapa.rgu.ubndreq/>
      </tapa.send>
      # Send UnBind Request to CRG SAP
      <tapa.send>
         <tapa.crg.ubndreq/>
      </tapa.send>

      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" instId="5" />
      </tapa.expect>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>

      # Ecpect Dummy TFU UnBind Request
      <tapa.expect>
         <tapa.tfu.ubndreq/>
      </tapa.expect>

      # Ecpect Cntrl Confirm
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    2.2
#
#       Desc:    To test successful UE Configuration at CRG 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.2">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG UE Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELl, Common Logical channel configurations at CRG and RGR
         and also finish RACH and then send UE configuration request to 
         LTEMAC from Dummy RRC and expect a positive configuration confirmation 
         from LTE MAC"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>


      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.rach/>
      
   </tapa.cfg>
   # Test Steps subsection
   <tapa.test>
     # Send UE config request at CRG 
     <tapa.send>
        <tapa.crg.cfgreq.cfg.ue/>
     </tapa.send>
     # Expect success in cfg cfm from MAC
     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Send UE config request at RGR 
     <tapa.send>
       <tapa.rgr.cfgreq.cfg.ue instId="5" txModeEnum="RGAC_RGR_UE_TM_1"/>
     </tapa.send>

     # Send TTI to apply the config
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     # Expect success in cfg cfm from Scheduler
     <tapa.expect>
       <tapa.rgr.cfgCfm instId="5"/>
    </tapa.expect>

     # Send UE config request for same Ue again to confirm above UE config
     # If not given default ueId is 0
     <tapa.send>
       <tapa.crg.cfgreq.cfg.ue/>
     </tapa.send>
     # Expect failure in cfg cfm from MAC
     <tapa.expect>
        <tapa.crg.cfgcfm status="15"/>
     </tapa.expect>

     <tapa.send>
       <tapa.rgr.cfgreq.cfg.ue instId="5"/>
    </tapa.send>
     # Send TTI to apply the config
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>
     # Expect failure in cfg cfm from Scheduler
     <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
     </tapa.expect>
     

   </tapa.test>

   # Clean subsection
   <tapa.clean>
     #Request to ShutDown LTEMAC
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    2.3
#
#       Desc:    To test successful Logical Channel Configuration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.3">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful Logical Channel Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE and then send Dedicated Logical channel configuration 
         request to LTEMAC from Dummy RRC and expect a positive configuration 
         confirmation from LTE MAC. As part of CELL configuration Common Logical
         Channels also created"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>


      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Do RACH and UE Config
      <tapa.rg.UeInit/>
      
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      # Configure bi-directional DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="0" dir="3" lcType="4" />
      </tapa.send>
      # Expect configuration confirm 
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="1" dir="2" lcType="4"/>
      </tapa.send>
      # Expect configuration confirm
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="5" lcgId="2" dir="2" lcType="4"/>
      </tapa.send>
      # Expect configuration confirm
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="6" lcgId="3" dir="2" lcType="4"/>
      </tapa.send>
      # Expect configuration confirm
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="0" dir="3" lcType="4" ulQci="8" />
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="1" dir="2" lcType="4" ulQci="8"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="5" lcgId="2" dir="2" lcType="4" ulQci="8"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="6" lcgId="3" dir="2" lcType="4" ulQci="8" />
      </tapa.send>
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      
      # Expect configuration confirm after the TTI
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
 
   </tapa.test>

   # Clean subsection
   <tapa.clean>
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.4
#
#       Desc:    To test successful CRG Cell Re Configuration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.4">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Cell Re Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL configuration request to LTEMAC from Dummy RRC and expect a
         positive configuration confirmation from LTE MAC and then send a Re
         configuration for CELL and expect a configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP between Scheduler and PHY 
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="1" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>


      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      # Send same CELL Configuration to confirm the above CELL configuration
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      
      #Expect Negative Configuration Confirm from LTEMAC as the CELL as benn
      #created with same id above
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      <!-- 
      # Send CELL ReConfiguration for the same CELL created above 
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  cellId="3"  CellReCfgType="1" resourceSize="25"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration for the same CELL created above for pucch
      # recfg
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  CellReCfgType="2" cellId="3"  />
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC for SRS recfg
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send CELL ReConfiguration for the same CELL created above for RACH Recfg 
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  CellReCfgType="4" cellId="3" raWinSize="3" />
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>
      -->
      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" instId="5" />
      </tapa.expect>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>
      
      # Expect Cntrl Confirm
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.5
#
#       Desc:    To test successful CRG UE Re Configuration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.5">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG UE Re Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same ue and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      # Send UE ReConfiguration for the same UE created above for TXMODE Recfg
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="10"
             UeReCfgType="1"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for APRD DLCQI
      # Recfg 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="10"
             UeReCfgType="2"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for PRD DLCQI
      # recfg 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="10"
             UeReCfgType="4"/>
      </tapa.send>
      
      # Send UE ReConfiguration for the same UE created above for ULHARQ Recfg 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="10"
             UeReCfgType="8"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for QOS recfg 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="10"
             UeReCfgType="16"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for TATMR recfg 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="10"
             UeReCfgType="32"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="10"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
          <tapa.crg.cfgcfm/>
          <tapa.crg.cfgcfm/>
          <tapa.crg.cfgcfm/>
          <tapa.crg.cfgcfm/>
          <tapa.crg.cfgcfm/>
          <tapa.crg.cfgcfm/>
          <tapa.crg.cfgcfm/>
      </tapa.expset>
      -->

      <!--
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 
      # Send RaReqInd for one rapId 
      <tapa.send>
         <tapa.tfu.rareq.ind ueId="1" numRaRnti="1" raRntis="1" numRapIds="1" rapIds="1" 
            timingAdvs="3" tpcs="1" cqiPres="TRUE" cqis="4" />
         -->
         <!--
         <tapa.tfu.rareq.ind ueId="1" raRnti="1" numRaReq="1" rapIds="1" timingAdvs="3"
            tpcs="1" cqiPres="TRUE" cqis="4"/>
         -->
         <!--
      </tapa.send>

      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the 
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.rarsp.req ="1" save="3"/>
         </tapa.tfu.dat.req>
         -->
         <!--
         <tapa.tfu.raresp.req ueId="1" raRnti="1" vldtRar="TRUE" saveTo="1"/>
         -->
         <!--
         <tapa.tfu.cntrl.req numCntrlReq="1">
            <tapa.tfu.pdcch.cntrl.req/>
         </tapa.tfu.cntrl.req>
         -->
         <!--
         <tapa.tfu.pdcch.req/>
         -->
         <!--
      </tapa.expset>
      
      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We 
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>

      # At start of this step, we are at (0,7)
      # Expect Message3 reception req. Validation against the grant given in
      # raResp shall be done
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1">
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
         -->
         <!--
         <tapa.tfu.datrecp.req ueId="1"/>
         -->
         <!--
      </tapa.expect>

      # At start of this step, we are at (0,7)
      # Send (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      <tapa.send>
         <tapa.tfu.dat.ind datInds="1">
            <tapa.tfu.dat ueId="1" isCcchSdu="TRUE" sduSize="6" />
         </tapa.tfu.dat.ind>
         -->
         <!--
         <tapa.tfu.dat.ind ueId="1" isCcchSdu="TRUE" sduSize="6" />
         -->
         <!--
      </tapa.send>

      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,0)
      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send BO for Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="10"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled. 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   
      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4 
      <tapa.expect>
         <tapa.rgu.cstaind ueId="1" lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.pdsch.dat.req ueId="1" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         -->
         <!--
         <tapa.tfu.dat.req ueId="1" chkCcchSh="TRUE"/>
         -->
         <!--
         <tapa.tfu.cntrl.req numCntrlReq="1">
            <tapa.tfu.pdcch.cntrl.req/>
         </ltapa.tfu.cntrl.req>
         -->
         <!--
         <tapa.tfu.pdcch.req/>
         -->
         <!--
      </tapa.expset>
      
      # At start of this step, we are at (1,3)
      <tapa.send>
         <tapa.tfu.tti.ind numTti="0" op="RG_ACC_PLUS" numTfuDelta="1"/>
      </tapa.send>
      
      # At start of this step, we are at (1,5).
      # Expect data reception request for MSG3 re-transmission.
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1">
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
         -->
         <!--
         <tapa.tfu.datrecp.req ueId="1"/>
         -->
         <!--
      </tapa.expect>

      # At start of this step, we are at (1,5)
      # Send 2 more TTI before HARQ reception request
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>
      
      # At start of this step, we are at (1,7)
      # Expect harq ack reception request for HARQ ACK for Msg4.
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="3">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
         -->
         <!--
         <tapa.tfu.harqrecp.req ueId="1"/>
         -->
         <!--
      </tapa.expect>
      
      # At start of this step, we are at (1,7)
      # Send TTIs = (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) before sending HARQ ACK
      # to MAC
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2" />
      </tapa.send>
      
      # At start of this step, we are at (2,0)
      # Send ACK as feedback for Msg4. 
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            <tapa.tfu.hq ueId="1"/>
         </tapa.tfu.hq.ind>
         -->
         <!--
         <tapa.tfu.harqack.ind ueId="1"/>
         -->
         <!--
      </tapa.send>

      # At start of this step, we are at (2,0)
      # Send TTI to validate that there are no pending messages at MAC 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1" />
      </tapa.send>
      
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg at
      # CRG Is it needed?
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeid="1"
             UeReCfgType="64"/>
      </tapa.send>
      #Expect ue recfg cfm  from MAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue instId="5"  cellId="3" oldUeId="0" newUeid="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>
     -->
   </tapa.test>

   # Clean subsection
   <tapa.clean>
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.6
#
#       Desc:    To test successful CRG and RGR Logical Channel Re Configuration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.6">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Logical Channel Re Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL/UE configuration request to LTEMAC/Scheduler from Dummy RRC and
         from RRM respectively and expect a positive configuration confirmation 
         from LTE MAC and Scheduler respectively and then send a configuration 
         for  Dedicated Logical Channels from Dummy RRC and RRM to LTEMAC and
         Scheduler respectively and expect a configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      
      #Disable All Debugs
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Configure a dedicated logical channel for the created UE at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="2"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure a dedicated logical channel for the created UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" dir="2" dlQci="1"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Send a Tti to get the configuration applied.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcId="9" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcId="9"
             dir="2"/>
      </tapa.send>
      # Send LCG ReConfiguration for the same LCG created above at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.lcg instId="5" lcgId="0"/>
       </tapa.send>

      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      # Configure bi-directional DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="0" dir="3" lcType="4" ulQci="8" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="5" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="6" lcgId="3" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="0" dir="3" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="1" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="5" lcgId="2" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="6" lcgId="3" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcgId="2" lcId="3"
             dir="3"/>
      </tapa.send>
      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcgId="2"
            lcId="3" dir="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcgId="1" lcId="4"
             dir="2"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcgId="1"
            lcId="4" dir="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.7
#
#       Desc:    To test successful CRG/RGR Cell Delete Request
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.7">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Cell Delete Request"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL configuration request to LTEMAC and to Scheduler from 
         Dummy RRC and RRM and expect a positive configuration confirmation from
         LTE MAC and acheduler then send a Cell Delte Request for CELL to LTEMAC
         and Scheduler and expect a configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>
      
      #Send Control Request to Enable TFU SAP between Scheduler and PHY 
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="1" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send RGR Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" cellId="3" dlTotalBw="50"
            ulTotalBw="50" numCmnLc="5"
            cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Send CELL Delete Request for the same CELL created above. 
      <tapa.send>
         <tapa.crg.cfgreq.del  cellId="3" DelType="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send CELL Delete Request for the same CELL created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  cellId="3" DelType="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      #Send RGR Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" cellId="3" dlTotalBw="50"
            ulTotalBw="50" numCmnLc="5"
            cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" instId="5" />
      </tapa.expect>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>
      # Expect Cntrl Confirm
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
      
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.8
#
#       Desc:    To test successful CRG UE Delete Request
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.8">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG UE Delete Request"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call UE Delete
         Request and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send UE Delete Request for the same UE created above at CRG.
      <tapa.send>
         <tapa.crg.cfgreq.del  cellId="3" ueId="0" DelType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send UE Delete Request for the same UE created above at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  cellId="3" ueId="0" DelType="2"/>
      </tapa.send>
      # Send TTI to Scheduler
      <tapa.send>
        <tapa.tfu.tti.ind  />
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>

      
   </tapa.test>

   # Clean subsection
   <tapa.clean>
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.9
#
#       Desc:    To test successful CRG Logical Channel Delete Request
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.9">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Logical Channel Delete Request"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Logical Channel 
         Delete Request and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      # Configure a dedicated logical channel for the created UE at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC.
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure a dedicated logical channel for the created UE at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      # Send a TTI to get the configuration applied at RGR. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>
      -->
      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="1" dir="3" lcType="5" />
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="1" dir="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="1" dir="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="4"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="2" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE  at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="3" dir="2" lcType="4"  />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure bi-directional DTCH for default UE at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="1" lcgId="0" dir="3" 
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="2" lcgId="1" dir="2" 
            lcType="4" />
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="1" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="2" dir="2"
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="2" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="3" dir="2"
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="3" instId="5"/>
      </tapa.send>
      # Send TTI indication for default cell at RGR.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del DelType="3" cellId="3" ueId="0" lcId="1" dir="3"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="2" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="3" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="4" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="1" dir="3"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="0"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="2" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="1"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="3" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="2"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="4" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.tti.ind  />
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      <!--
      <tapa.rg.dbgDeInitErr/>
      <tapa.rg.dbgDeInitInfo/>
      -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.10
#
#       Desc:    To test Validation of CRG CELL Configuration parameters
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.10">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Validation of CRG CELL Configuration parameters"
      </tapa.desc>

      <tapa.longdesc>
         "This will send CRG/RGR CELL configuration to validate the different
         parameteres of CELL configuration"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration for Validation dlTotalBw and ulTotalBw
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3"  dlTotalBw="0" ulTotalBw="0"/>
      </tapa.send>

      #Expect Negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      #Send CRG Cell Configuration for Validation dlTotalBw and ulTotalBw
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3"  dlTotalBw="6" ulTotalBw="0"/>
      </tapa.send>
      #Expect Negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      #Send CRG Cell Configuration for Validation dlTotalBw and ulTotalBw
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3"  dlTotalBw="6" ulTotalBw="111"/>
      </tapa.send>
      #Expect Negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      RGR Cell Validation Starts from here 
      #Send RGR Cell configuration for invalid maxDlHqTx
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" maxDlHqTx="0" maxMsg4HqTx="0"/>
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      <!--
      #Send RGR Cell Configuration for Validation numTxAntPorts
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" numTxAntPorts="0" instId="5" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
     
      #Send RGR Cell Configuration for Validation numTxAntPorts.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" numTxAntPorts="10" instId="5" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      #Send RGR Cell Configuration for Validation for resourceSize 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3"  resourceSize="0" instId="5" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Send RGR Cell Configuration for Validation for raWinSize 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" raWinSize="1" instId="5" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Send RGR Cell Configuration for Validation of SRS Bandwidth configuration
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5"  cellId="3" srsBwEnum="RGAC_RGR_SRS_BWCFG_ERR" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      -->
      <!--
      #Send RGR Cell Configuration for Validation of Ng configuration
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" ngEnum="RGAC_RGR_NG_ERR_THREE"
            instId="5" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      #Send Valid RGR Cell Configuration
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" srsBwEnum="RGAC_RGR_SRS_BWCFG_7"
            instId="5"  numCmnLc="4" cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3" />
      </tapa.send>
      #Expect Positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      -->
      
      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" />
      </tapa.expect>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>

      # Expect Cntrl Confirm
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.11
#
#       Desc:    To test Validation of CRG UE Configuration parameters
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.11">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Validation of CRG UE Configuration parameters"
      </tapa.desc>

      <tapa.longdesc>
         " Finish Cell Initialization and RACH and send UE config request to
         test validation for each parameter seperately"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize
      <tapa.rg.cellInit/>

      #Finish RACH 
      <tapa.rg.rach/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
     
      # Send UE config request with inavlid Cell Id
      <tapa.send>
        <tapa.crg.cfgreq.cfg.ue cellId="4"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
        <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send UE config request with inavlid max Uplink Harq Tx
      <tapa.send>
        <tapa.crg.cfgreq.cfg.ue maxUlHqTx="0"/>
      </tapa.send>
      # Expect success in cfg cfm
      <tapa.expect>
        <tapa.crg.cfgcfm status="15"/>
     </tapa.expect>

     # Send UE config request with inavlid Cell Id at RGR
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue instId="5" cellId="4"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE config request with inavlid rnti at RGR
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue instId="5" ueId="5"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE config request with inavlid ackNackRepFactor at RGR
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue instId="5" ueId="0" isMesGapEnabled="FALSE" isAckNackEnabled="TRUE" ackNackRepFactor="RGAC_ACKNACK_REPFACT_N2_ERR"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>  
        <tapa.rgr.cfgreq.cfg.ue instId="5" ueId="0" isMesGapEnabled="TRUE"  gapPrd="40" gapOffst="40"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue instId="5" ueId="0"  isMesGapEnabled="TRUE"  gapPrd="80" gapOffst="80"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>



      
      # Send UE config request with inavlid max Uplink Harq Tx at RGR
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue instId="5" maxUlHqTx="0"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
     </tapa.expect>
     
     # Send UE config request with inavlid puschtpcRnti at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.ue instId="5" puschTpcRntiPres="TRUE" puschtpcRnti="19"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
     </tapa.expect>
           
      # Send UE config request with inavlid puschtpcRnti at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.ue instId="5" pucchTpcRntiPres="TRUE" pucchtpcRnti="19"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send UE config request with inavlid transmission mode at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.ue instId="5" txModeEnum ="RGAC_RGR_UE_TM_ERR"/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
     </tapa.expect>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.12
#
#       Desc:    To test Validations of Logical Channel Configuration
#       
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.12">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Validations of Logical Channel Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Logical Channel 
         Configuration request to validate each parameter of Logical Channel"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>


   # Test Steps subsection
   <tapa.test>
      # Configure a dedicated logical with invalid CellId 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="4" />
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      # Configure a dedicated logical with invalid LcType
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="3" ueId="0" lcType="7" lcId="9" dir="1"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
            
      # Configure a dedicated logical with ivalid Ue
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="3" ueId="4" lcId="9" lcType="5" dir="1"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Configure a dedicated logical with invalid lcId
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="3" ueId="0" lcId="11" lcType="5" dir="1"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      # Configure a dedicated logical with invalid lcId
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="3" ueId="0" lcId="0" lcType="5" dir="1"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Configure a dedicated logical with Directions
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="3" ueId="0" lcId="9" lcType="5" dir="4"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      # Configure a dedicated logical with Directions
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="3" ueId="0" lcId="9" lcType="5" dir="0"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
<!--      
      #Create One CELL to test Common Logical Channel
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="4" />
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      # To test Direction of Common Logical Channel
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="4" lcId="9" lcType="1" dir="4"
            dlTrchType="1"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Configure a dedicated logical with invalid Transport Channel for CMN
      # Channel (BCCH lcType = 1)
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="4" lcId="9" lcType="1" dir="1"
            dlTrchType="2"/>
      </tapa.send>
      
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # To test successfull BCCH channel with BCH transport channel
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="4" lcId="9" lcType="1" dir="1"
            dlTrchType="1"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm />
      </tapa.expect>

      #Try same BCCH with BCH transport channel again and expect failure
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="4" lcId="9" lcType="1" dir="1"
            dlTrchType="1"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # To test BCCH Logical channel with BCH transport channel
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="4" lcId="9" lcType="1" dir="1"
            dlTrchType="3"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm />
      </tapa.expect>

      # To test PCCH Channel with PCH Transport channel
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="4" lcId="9" lcType="2" dir="1"
            dlTrchType="2"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm />
      </tapa.expect>

      # Just to confirm above configuration
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch cellId="4" lcId="9" lcType="2" dir="1"
            dlTrchType="2"/>
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      # Configure bi-directional DTCH for default UE 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="0" dir="3" lcType="4" ulQci="8" />
      </tapa.send>
      
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure a dedicated logical with invalid lcId
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch cellId="3" ueId="0" lcId="11" lcType="5" />
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>

      # Configure a dedicated logical with invalid lcId
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch cellId="3" ueId="0" lcId="0" lcType="5" />
      </tapa.send>

      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>

      # Configure a dedicated logical with invalid lcType
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch cellId="3" ueId="0" lcId="3" lcType="9" />
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>
      
      # Configure a dedicated logical with invalid lcId
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch cellId="3" ueId="0" lcId="3" dlQci="1" dlMbr="0" lcType="5" />
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm />
      </tapa.expect>

      # Configure UL LCG on RGR with Invalid CellID
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5" cellId="4"/>
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>
      # Configure UL LCG on RGR with invalid Ue ID
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5" ueId="4"/>
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>
      # Configure UL LCG on RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>

      # Send LCG Delete Request for the same LCG created above with invalid
      CellId at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  cellId="6" DelType="4" lcgId="0"/>
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>

      # Send LCG Delete Request for the same LCG created above with invalid
      UeId at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  ueId="6" DelType="4" lcgId="0"/>
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>
      # Send LCG Delete Request for the same LCG created above with invalid
      UeId at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" lcgId="7"/>
      </tapa.send>
      # Expect failure in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>
      -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Send Control Request to Shutdow LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.13
#
#       Desc:    To test validation of CRG Cell Re configuration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.13">
   
   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test validation of CRG Cell Re configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL configuration request to LTEMAC from Dummy RRC and expect a
         positive configuration confirmation from LTE MAC and then send a Re
         configuration for CELL to test validation of differet parameters of re
         configuration"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>
   
   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP to Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" />
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send RGR Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  instId="5" cellId="3" numCmnLc="5"
            cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" />
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid CellId at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  cellId="4"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid CellId at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  instId="5" cellId="4"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid resource Size at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" resourceSize="0"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # commented out this portion as n1PucchAn is a valid value. 
      # This is based on 36.211 5.4
      # Send CELL ReConfiguration With Invalid n1PucchAn at RGR
      #<tapa.send>
      #   <tapa.rgr.cfgreq.recfg.cell  cellId="3" n1PucchAn="0" recfgType="64"
      #      instId="5" />
      #</tapa.send>
      # Send a Tti to get the configuration applied. 
      #<tapa.send>
      #   <tapa.tfu.tti.ind/>
      #</tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      #<tapa.expect>
      #   <tapa.rgr.cfgCfm instId="5" status="15"/>
      #</tapa.expect>

      # Send CELL ReConfiguration With Invalid deltaShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" deltaShift="0"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid deltaShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" deltaShift="4"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid cyclicShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" cyclicShift="8"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid raWinSize at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="256"  cellId="3" raWinSize="0"
            instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid SRS configuration at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell cellId="3" recfgType="2"
            srsBwEnum="RGAC_RGR_SRS_BWCFG_ERR" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid raWinSize at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell   recfgType="256" cellId="3"
            raWinSize="11" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid preambleFormat at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            preambleFormat="11" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid maxMsg3Tx at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  CellReCfgType="4" cellId="3" maxMsg3Tx="0"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      # Send CELL ReConfiguration With Invalid maxMsg3Tx at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3" maxMsg3Tx="0"
            instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid numRaPreamble at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            numRaPreamble="3" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid numRaPreamble at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            numRaPreamble="65" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid numRaPreamble and
      # sizeRaPreambleGrpA at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" numRaPreamble="60"
            sizeRaPreambleGrpA="100" recfgType="256" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="128" cellId="3" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      # Send CELL ReConfiguration 
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3" instId="5" 
            raWinSize="4" preambleFormat="0" maxMsg3Tx="2" numRaPreamble="60" sizeRaPreambleGrpA="60" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" />
      </tapa.expect>

      #Expect a Control Confirm from Scheduler
      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      # Expect Cntrl Confirm from LTEMAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
       # Clean step (MACDeInit) is not required for this testcase
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
   
</tapa.testcase>
#
#       Test:    2.14
#
#       Desc:    To test validation CRG UE Reconfiguration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.14">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test validation CRG UE Reconfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Ue
         Reconfiguration for validating different parameters"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send UE ReConfiguration for the Invalid CellId at CRG
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="4" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
          <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the Invalid CellId at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  instId="5" cellId="4" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the Invalid UeId at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="1"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      #But UE re-establish at CRG interface is dummy
      <tapa.expect>
          <tapa.crg.cfgcfm status="0"/>
       </tapa.expect>
       
       # Send UE ReConfiguration for the Invalid UeId at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="1" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm status="15" instId="5" />
       </tapa.expect>
       <!-- 
       # Send UE ReConfiguration to existing UE for PWR Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue cellId="3" oldUeId="0" UeReCfgType="256"
             instId="5" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
       </tapa.expect>
       -->
      # Send UE ReConfiguration to existing UE for TXmode Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="1"
             txModeEnum="RGAC_RGR_UE_TM_ERR" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
       </tapa.expect>
       
       # Send UE ReConfiguration to existing UE for UL HARQ Recfg at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="8"
             maxUlHqTx="0"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
          <tapa.crg.cfgcfm status="15"/>
       </tapa.expect>
       
       # Send UE ReConfiguration to existing UE for UL HARQ Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="8"
             maxUlHqTx="0" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
       </tapa.expect>
       
      <!--
      # Send UE ReConfiguration to existing UE for QOS Recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="32"
             instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      -->
      # Send UE ReConfiguration existing oldrnti as newrnti at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="0"
             UeReCfgType="2" instId="5" pucchTpcRntiPres="FALSE"
             puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send UE config request with inavlid ackNackRepFactor at RGR
      <tapa.send>
      /* Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isAckNackEnabled="TRUE" ackNackRepFactor="RGAC_ACKNACK_REPFACT_N2_ERR"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
      /* Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isMesGapEnabled="TRUE"  gapPrd="40" gapOffst="40"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
      /* Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isMesGapEnabled="TRUE"  gapPrd="80" gapOffst="80"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.15
#
#       Desc:    To Validate Logical Channel re Configuration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.15">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validate Logical Channel re Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Logical Channel 
         Configuration request to validate different parameters"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      # Configure a dedicated logical channel for the created UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      #Expect a positive cfg cfm from MAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      --> 
      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="0" dir="3" lcType="4" />
      </tapa.send>
      #Expect a positive cfg cfm from MAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <!--
      # Configure a dedicated logical channel for the created UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5"
            dir="1"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect a positive cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      -->
      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      <!--
      # Configure bi-directional DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="0" dir="3" lcType="4" 
            ulQci="8" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect a positive cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      -->
      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="3" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Send LC Recfg with Invalid Cellid at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.lch cellId="5" ueId="0" lcId="1" lcType="5" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC 
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send LC Recfg with Invalid Cellid at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5" cellId="5" ueId="0" lcId="1" 
            lcType="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect negative in cfg cfm from Scheduler 
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>

      # Send LC Recfg with Invalid ueId at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.lch cellId="3" ueId="3" lcId="1" 
            lcType="5"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send LC Recfg with Invalid ueId at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5" cellId="3" ueId="3" lcId="1" 
            lcType="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>
      
      <!-- 
      # Send LC Recfg with Invalid Direction at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5" cellId="3" ueId="0" dir="15" lcId="9"/>
      </tapa.send>
      # Send a Tti to get the configuration applied.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect negative in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>
      -->
      
      # Send LC Recfg with Invalid lcId at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.lch cellId="3" ueId="0" lcId="15" />
      </tapa.send>
      # Expect success in cfg cfm from MAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send LC Recfg with Invalid lcId at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5" cellId="3" ueId="0" lcId="15"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect negative in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>
      
      <!--
      # Send LC Recfg with Invalid lcId at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5" cellId="3" ueId="0" lcId="15" dir="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>
      -->
      
      # Send LC Recfg with Invalid lcgId at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.lch cellId="3" ueId="0" lcgId="8" lcId="1"/>
      </tapa.send>
      # Expect success in cfg cfm from MAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send LCG Recfg with Invalid lcgId at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lcg instId="5" cellId="3" ueId="0" lcgId="8"
            lcId="1"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>
      
      <!--
      # Send LC Recfg with Invalid direction at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5" cellId="3" ueId="0" lcgId="2" lcId="3"
            dir="4"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>
      -->
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.16
#
#       Desc:    To Validate Cell Delete Request 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.16">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validate CELL Delete Request" 
      </tapa.desc>

      <tapa.longdesc>
         ""         
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send Cell Delete Request for invalid Cell Id at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="1" cellId="4" />
      </tapa.send>
      #Expect negative cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send Cell Delete Request for invalid Cell Id at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="1" cellId="4"/>
      </tapa.send>
      #Expect negative cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>

      # Send Cell Delete Request at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="1" cellId="3" />
      </tapa.send>
      #Expect positive cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm />
      </tapa.expect>
      
      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send Cell Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="1" cellId="3"/>
      </tapa.send>
      #Expect positive cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Sending RGR CELL Configuration with Cmn LC Details in same cfg
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" maxDlRetxBw="100" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" />
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Send Control Request to Shutdown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.17
#
#       Desc:    To Validate UE Delete Request 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.17">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validate UE Delete Request" 
      </tapa.desc>

      <tapa.longdesc>
         ""         
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send UE Delete Request for invalid Cell Id at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="2" cellId="4" ueId="0"/>
      </tapa.send>
      #Expect negative cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send UE Delete Request for invalid Cell Id at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="2" cellId="4" ueId="0" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>
      # Send Cell Delete Request with valid cellId but Invalid UeId at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="2" cellId="3" ueId="100" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15" instId="5" />
      </tapa.expect>

      # Send Cell Delete Request with Valid cellId and Valid UeId at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="2" cellId="3" ueId="0"/>
      </tapa.send>
      #Expect positive cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      # Send Cell Delete Request with Valid cellId and Valid UeId at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="1" cellId="3" ueId="0" />
      </tapa.send>
      #Expect positive cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      #Send Control Request to Shutdow LTEMAC

   </tapa.test>
   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.18
#
#       Desc:    To Validate Logical Channel Delete Request 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.18">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validate Logical Channel Delete Request" 
      </tapa.desc>

      <tapa.longdesc>
         ""         
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      # Configure a dedicated logical channel for the created UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" />
      </tapa.send>
      # Expect success in cfg cfm from MAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="9" />
      </tapa.send>
      #Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure a dedicated logical channel for the created UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" />
      </tapa.send>
      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0" lcId="9"/>
      </tapa.send>
      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      -->

      
      # Configure bi-directional DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="0" dir="3" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="5" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="6" lcgId="3" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure bi-directional DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcType="4" />
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcType="4" />
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="1" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="5" lcgId="2" dir="2" lcType="4" ulQci="8"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="6" lcgId="3" dir="2" lcType="4" ulQci="8" />
      </tapa.send>
      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expset>
      
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="3" dir="3"/>
      </tapa.send>
      # Expect configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="4" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="5" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="6" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above with invalid CellId
      at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="5" ueId="0" lcId="3" dir="3"/>
      </tapa.send>
      # Expect -Ve configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above with invalid UeId 
      at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" ueId="6" lcId="3" dir="3"/>
      </tapa.send>
      # Expect -Ve configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above with invalid lcID 
      at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" lcId="10" dir="3"/>
      </tapa.send>
      # Expect -Ve configuration confirm from LTEMAC
      <tapa.expect> 
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>


      # Send LC Delete Request for the same LC created above at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0" lcId="3" dir="3"/>
      </tapa.send>
      # Send LCG Delete Request for the same LCG created above at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" lcgId="0"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="4" dir="2"/>
      </tapa.send>
      # Send LCG Delete Request for the same LCG created above at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" lcgId="1"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="5" dir="2"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0" lcId="6" dir="2"/>
      </tapa.send>
      # Send TTI for Applying configuration
      <tapa.send>
        <tapa.tfu.tti.ind  />
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expset>

      #Send Control Request to Shutdow LTEMAC

   </tapa.test>
   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.19
#
#       Desc:    To test successful RGR Cell Configuration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.19">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful RGR Cell Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Binding RGR and CRG SAPS, Creatting CELL in CRG Interface, creating 
         common logical channels(BCCH/BCH, BCCH/DLSCH, PCCH, CCCH) and RGR
         CELL configuration for Scheduler related information"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGU SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>
 
      #Expect NOK_DONE Control Confirm from LTE MAC
      #Send Control Request to Enable TFU SAP at MAC
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm />
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP at Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND"
            elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq spId="1" instId="5"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->BCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="1" dir="1" lcType="1" 
            dlTrchType="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->DLSCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="2" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC at CRG
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration PCCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="3" dir="1" lcType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration CCCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="4" dir="3" lcType="3"
            dlTrchType="3" ulTrchType="5"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->DLSCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="5" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC at CRG
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Sending RGR CELL Configuration with Cmn LC Details in same cfg
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" maxDlRetxBw="100" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" />
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #ShutDown the LTEMAC Layer
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>

   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.20
#
#       Desc:    To test successful RGR Cell ReConfiguration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.20">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful RGR Cell ReConfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish MacInit, CellInit then send Cell re configuration at RGR"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      #Create Cell
      <tapa.rg.cellInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="32" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="16" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="1" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="512" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="1024" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>



   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #ShutDown the LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.21
#
#       Desc:    To Validate RGR Cell Configuration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.21">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validate RGR Cell Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Binding RGR and CRG SAPS, Creatting CELL in CRG Interface, creating 
         common logical channels(BCCH/BCH, BCCH/DLSCH, PCCH, CCCH) and RGR
         CELL configuration to validate Scheduler related information"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>

 
      #<tapa.rg.dbgInitAll/>
      #Expect NOK_DONE Control Confirm from LTE MAC
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>

      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq/>
      </tapa.expect>
      
      #<tapa.rg.dbgDeInitAll/>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0"/>
      </tapa.send>

      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>

      # Ecpect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      
      #<tapa.rg.dbgDeInitAll/>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->BCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="1" dir="1" lcType="1" dlTrchType="1"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->DLSCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="2" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration PCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="3" dir="1" lcType="2"/>
      </tapa.send>
     
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration CCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="4" dir="3" lcType="3"
            dlTrchType="3" ulTrchType="5"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      <!-- 
      #Sending RGR CELL Configuration with Invalid InstId
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="8" cellId="4"/>
      </tapa.send>
      #Expect Negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      -->
      #Sending RGR CELL Configuration with Invalid Id
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" cellId="4"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      #Sending RGR CELL Configuration with Invalid Maximum MSG4 transmissions
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" maxDlHqTx="0" maxMsg4HqTx="0"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      #Sending RGR CELL Configuration with invalid CFI
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" cfi="0"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      #Sending RGR CELL Configuration with invalid trgCqi 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" trgCqi="17"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Sending RGR CELL Configuration with invalid dlCcchCqi 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" dlCcchCqi="0"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Sending RGR CELL Configuration with Invalid maxstartrnti
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" startRnti="10"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      #Sending RGR CELL Configuration with Invalid dlSchedType
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" dlSchdType="10"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Sending RGR CELL Configuration with Invalid dlSchedType
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" ulSchdType="10"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Sending RGR CELL Configuration with Invalid dlfsSchdType
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" dlfsSchdType="10"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Send RGR Cell Configuration for Validation 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" numTxAntPorts="0" instId="5" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      #Send RGR Cell Configuration for Validation 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" isDurExtend="TRUE" instId="5" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Send RGR Cell Configuration for Validation 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" isDurExtend="TRUE" dlTotalBw="9" 
            instId="5" />
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      #Send RGR Cell Configuration for Validation 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" instId="5" resourceSize="0"/>
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Send RGR Cell Configuration for Validation 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  cellId="3" instId="5" srsBwEnum="RGAC_RGR_SRS_BWCFG_ERR"/>
      </tapa.send>
      #Expect Negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>


      <!--
      # Send UnBind Request to RGU SAP
      <tapa.send>
         <tapa.rgu.ubndreq/>
      </tapa.send>
      # Send UnBind Request to CRG SAP
      <tapa.send>
         <tapa.crg.ubndreq/>
      </tapa.send>
      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU UnBind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq instId="5" spId="1"/>
      </tapa.expect>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>
      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>

      # Ecpect Dummy TFU UnBind Request
      <tapa.expect>
         <tapa.tfu.ubndreq/>
      </tapa.expect>

      # Ecpect Cntrl Confirm
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
      -->
      #ShutDown the LTEMAC Layer
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>

   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.22
#
#       Desc:    To Validate RGR Cell ReConfiguration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.22">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validate RGR Cell ReConfiguration 
      </tapa.desc>

      <tapa.longdesc>
         "Binding RGR and CRG SAPS, Creatting CELL in CRG Interface, creating 
         common logical channels(BCCH/BCH, BCCH/DLSCH, PCCH, CCCH) and RGR
         CELL configuration for Scheduler related information and then send a
         RGR Reconfiguration to validate Scheduler related values"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGU SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>

      #Expect NOK_DONE Control Confirm from LTE MAC
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP at Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>

      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->BCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="1" dir="1" lcType="1" dlTrchType="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->DLSCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="2" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration PCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="3" dir="1" lcType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration CCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="4" dir="3" lcType="3"
            dlTrchType="3" ulTrchType="5"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Sending RGR CELL Configuration
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" maxDlRetxBw="100" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" />
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

       #Sending RGR CELL Configuration again to confirm
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" maxDlRetxBw="100" numCmnLc="5"
            cmnLcInfo="1:1:1:2:0:2:1:1:1:0:3:2:1:0:0:4:3:3:1:1:5:1:1:3:0"/>
      </tapa.send>
      <!--
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      -->
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Send RGR Cell Reconfiguration for invalid cell
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" cellId="5"/>
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect a Negative Confirm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      <!-- 
      #Send RGR Cell Reconfiguration for invalid subframe
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" subframe="0" maxDlHqTx="0"
            recfgType="64"/>
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect a Negative Confirm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      -->
      #Send RGR Cell Reconfiguration for invalid maxDlHqTx
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" maxDlHqTx="0" recfgType="32"/>
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect a Negative Confirm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for invalid maxMsg4HqTx
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" maxMsg4HqTx="0" 
            recfgType="32"/>
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect a Negative Confirm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Send RGR Cell Reconfiguration for invalid cfi 
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" cfi="0" recfgType="2"/>
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect a Negative Confirm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      <!-- 
      #Send RGR Cell Reconfiguration for invalid cfi 
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" cfi="2" recfgType="2"/>
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect a Negative Confirm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      -->
      
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #ShutDown the LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.23
#
#       Desc:    To Test RGR UE Configuration Without RGR Cell Configuration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.23">
   
   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Test RGR UE Configuration Without RGR Cell Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Binding CRG SAP, Finish Scheduler configuration. Finish CRG Cell
         configuration and the send RGR UE configuration without RGR CELL
         configuration"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>
      
      #Send Control Request to Enable TFU SAP at Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>


      #Send CRG Cell Configuration
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration BCCH->BCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="1" dir="1" lcType="1" dlTrchType="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      #Send Common Logical Channel Configuration BCCH->DLSCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="2" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration PCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="3" dir="1" lcType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration CCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="4" dir="3" lcType="3"
            dlTrchType="3" ulTrchType="5"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send UE config request
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.ue instId="5"/>
      </tapa.send>
      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send UnBind Request to CRG SAP
      <tapa.send>
         <tapa.crg.ubndreq/>
      </tapa.send>
      # Send UnBind Request to RGU SAP
      <tapa.send>
         <tapa.rgu.ubndreq/>
      </tapa.send>
      # Send UnBind Request to CRG SAP
      <tapa.send>
         <tapa.rgr.ubndreq/>
      </tapa.send>
      
      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" />
      </tapa.expect>

      #Expect a Control Confirm from Scheduler
      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
        <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>

      # Ecpect Dummy TFU UnBind Request
      <tapa.expect>
         <tapa.tfu.ubndreq/>
      </tapa.expect>

      # Ecpect Cntrl Confirm
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
   </tapa.test>


   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.24
#
#       Desc:    To Test UE Configuration without CRG Cell Cnfiguration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.24">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Test UE Configuration without CRG Cell Cnfiguration"
      </tapa.desc>

      <tapa.longdesc>
         " Send a UE Configuration Without creating a CELL"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGU SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP at Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>

      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>


      # Send UE config request
     <tapa.send>
       <tapa.crg.cfgreq.cfg.ue/>
     </tapa.send>
     # Expect success in cfg cfm
     <tapa.expect>
       <tapa.crg.cfgcfm status="15"/>
     </tapa.expect>
    
     # Send UnBind Request to CRG SAP
      <tapa.send>
         <tapa.crg.ubndreq/>
      </tapa.send>
      # Send UnBind Request to RGU SAP
      <tapa.send>
         <tapa.rgu.ubndreq/>
      </tapa.send>
      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" />
      </tapa.expect>

      #Expect a Control Confirm from Scheduler
      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
        <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>

      # Ecpect Dummy TFU UnBind Request
      <tapa.expect>
         <tapa.tfu.ubndreq/>
      </tapa.expect>

      # Ecpect Cntrl Confirm
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.25
#
#       Desc:    To Validation of UE Re Configuration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.25">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validation of UE Re Configuration
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same ue and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      # Send UE ReConfiguration for the same UE created above for TXMODE Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="1" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for APRD DLCQI
      # Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="2" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for PRD DLCQI
      # recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="4" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      
      # Send UE ReConfiguration for the same UE created above for ULHARQ Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="8" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
       </tapa.send>

      # Send UE ReConfiguration for the same UE created above for QOS recfg at
      # RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="16" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for TATMR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="32" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="64" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
       </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
      </tapa.expset>
      
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 
      # Send RaReqInd for one rapId 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq ueId="1" raRnti="1" numRapId="1" rapIds="1" timingAdvs="3"
               tpcs="1" cqiPres="TRUE" cqis="4"/>
         </tapa.tfu.rareq.ind>
      </tapa.send>
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # In this TC, it shall expect raResp in the first subframe after 3 Ttis.
      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the 
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.rarsp.req ueId="1" raRnti="1" vldtRar="TRUE" saveTo="1"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We 
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1" >
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      # At start of this step, we are at (0,7)
      # Send (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      #Send CRC for Msg3
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="1" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>
   
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # Expect HARQ ACK in PHICH For MSG3
      <tapa.expect>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.phich.cntrl.req isAck="TRUE" ueId="1"/>
         </tapa.tfu.cntrl.req>
      </tapa.expect>
      
      # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      <tapa.send>
         <tapa.tfu.dat.ind datInds="1">
            <tapa.tfu.dat ueId="1" isCcchSdu="TRUE" sduSize="6" />
         </tapa.tfu.dat.ind>
      </tapa.send>
      
      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>
      #######
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>
     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     ######
      # At start of this step, we are at (1,1)
      # Send BO for Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="10"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled. 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   
      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4 
      <tapa.expect>
         <tapa.rgu.cstaind ueId="1" lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.pdsch.dat.req ueId="1" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>


      # Recv Hq Recp Req for Msg4. 
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3" />
      </tapa.send>
      
      # Send ACK as feedback for Msg4. 
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            #<tapa.tfu.hq ueId="1" isAckLst="FALSE"/>
            <tapa.tfu.hq ueId="1"/>
         </tapa.tfu.hq.ind>   
      </tapa.send>
      <!-- Start  
      # At start of this step, we are at (2,0)
      # Send TTI to validate that there are no pending messages at MAC 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     -->
     <tapa.tfu.directive ulDeltaPrsnt="TRUE"/>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1" instId="5"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the configuration applied. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm status="0" instId="5"/>
      </tapa.expect>
      
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="9" lcType="5" bo="50"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" lchTb1Data="9" saveTo="2"/>
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU. 
         <tapa.rgu.ddatreq ueId="1" lchTb1Data="9" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send 1 Tti to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId="1"  use="9" lcId="9" chkSdu="TRUE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>

      <tapa.send>
         # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
         # - TFU_DELTA Ttis to expect harqrecp req from MAC.
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req ueId="1" />
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send TFU_DELTA + TFU_UL_DELTA Ttis to send fdbk to MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>
   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.26
#
#       Desc:    To Test LC Configuration without CRG Cell Cnfiguration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.26">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Test LC Configuration without CRG Cell Cnfiguration"
      </tapa.desc>

      <tapa.longdesc>
         " Send a LC Configuration Without creating a CELL"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>

      Send Control Request to Enable TFU SAP at Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Expect NOK_DONE Control Confirm from LTE MAC
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration BCCH->BCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="1" dir="1" lcType="1" dlTrchType="1"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      #Send Common Logical Channel Configuration BCCH->DLSCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="2" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration PCCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="3" dir="1" lcType="2"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration CCCH at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="4" dir="3" lcType="3"
            dlTrchType="3" ulTrchType="5"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15" />
      </tapa.expect>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.27
#
#       Desc:    To Test LC Configuration without RGR Cell Cnfiguration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.27">
   
   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Test LC Configuration without RGR Cell Cnfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL configuration request to LTEMAC from Dummy RRC and expect a
         positive configuration confirmation from LTE MAC and create all Common
         logical channels at CRG. And then send common logical channel config
         request to Scheduler without creating RGR CELL"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgInitAll/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGU SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>
      
      #Expect NOK_DONE Control Confirm from LTE MAC
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP at Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>

      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1" />
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->BCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="1" dir="1" lcType="1" dlTrchType="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->DLSCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="2" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration PCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="3" dir="1" lcType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration CCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="4" dir="3" lcType="3"
            dlTrchType="3" ulTrchType="5"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="0" dir="3" lcType="4" ulQci="8" />
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="1" dir="2" lcType="4" ulQci="8"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="5" lcgId="2" dir="2" lcType="4" ulQci="8"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="6" lcgId="3" dir="2" lcType="4" ulQci="8" />
      </tapa.send>
      # Expect configuration confirm after the TTI
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5" status="15" />
         <tapa.rgr.cfgCfm instId="5" status="15" />
         <tapa.rgr.cfgCfm instId="5" status="15"/>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expset>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#       Test:    2.28
#
#       Desc:    To Test UE Configuration without CRG Cell Cnfiguration 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.28">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Test UE Configuration without CRG Cell Cnfiguration"
      </tapa.desc>

      <tapa.longdesc>
         " Send a UE Configuration Without creating a CELL"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>

      #Expect NOK_DONE Control Confirm from LTE MAC
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP at Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1" />
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      # Send UE config request
     <tapa.send>
       <tapa.crg.cfgreq.cfg.ue/>
     </tapa.send>

     # Expect success in cfg cfm
     <tapa.expect>
       <tapa.crg.cfgcfm status="15"/>
     </tapa.expect>
    
      #Send UnBind Request to CRG SAP
      <tapa.send>
         <tapa.crg.ubndreq/>
      </tapa.send>
      #Send UnBind Request to RGR SAP
      <tapa.send>
         <tapa.rgr.ubndreq/>
      </tapa.send>
      # Send UnBind Request to RGU SAP
      <tapa.send>
         <tapa.rgu.ubndreq/>
      </tapa.send>
      
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.29
#
#       Desc:    To test Activation Time in CRG Cell ReConfiguration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.29">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Activation Time in CRG Cell ReConfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same CELL with valid Activation time and 
         expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send CRG Cell Re Configuration with valid Activation Time
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  cellId="3" actvTimePres="TRUE"
            actvTimesfn="2" actvTimesf="9" CellReCfgType="2" />
      </tapa.send>

      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind numTti="11"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.30
#
#       Desc:    To test Activation Time in RGR Cell ReConfiguration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.30">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Activation Time in RGR Cell ReConfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same CELL with valid Activation time and 
         expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send CRG Cell Re Configuration with valid Activation Time
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5"  cellId="3" actvTimePres="TRUE"
            actvTimesfn="2" actvTimesf="9" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind numTti="11"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.31
#
#       Desc:    To test Invalid activation time in RGR Cell ReConfiguration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.31">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Invalid activation time in RGR Cell ReConfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same CELL with invalid Activation time and 
         expect configuration confirm with neagative confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      #Send RGR Cell Re Configuration with invalid Activation Time
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5"  cellId="3" actvTimePres="TRUE"
            actvTimesfn="0" actvTimesf="9" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      #Send RGR Cell Re Configuration with invalid Activation Time
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5"  cellId="3" actvTimePres="TRUE"
            actvTimesfn="1025" actvTimesf="0" dlTotalBw="50" ulTotalBw="50"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
     <tapa.rg.macDeInit/>
  </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.32
#
#       Desc:    To test cell deletion of an Active cell at RGR
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.32">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test cell deletion of an Active cell at RGR"
      </tapa.desc>

      <tapa.longdesc>
         "To test cell deletion of an Active cell at RGR"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      <tapa.rg.dbgInitAll/>
      <!-- 
      # Send CELL Delete Request for the same CELL created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del  cellId="3" />
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>
      -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.33
#
#       Desc:    To test cell deletion of an Active cell at CRG
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.33">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test cell deletion of an Active cell at CRG"
      </tapa.desc>

      <tapa.longdesc>
         "Create an active cell. Delete the cell"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.rg.dbgInitAll/>
      # Send CELL Delete Request for the same CELL created above. 
      <tapa.send>
         <tapa.crg.cfgreq.del  cellId="3" />
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.34
#
#       Desc:    To test UE reset validations at CRG Interface
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.34">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Validations of UE reset at CRG interface
      </tapa.desc>

      <tapa.longdesc>
         "Create a CELL at CRG and RGR Interface and then create UE at CRG and
         RGR interface and then Send UE Reset Request at CRG interface for
         different validations"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Initialize UE at Rgr adn Crg Interface
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send UE Reset request With Invalid CELL Id at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.UeReset  cellId="5" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      #But UE reset at CRG interface is dummy
      <tapa.expect>
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>
      
      # Send UE Reset request With Invalid Ue Id at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.UeReset  cellId="3" ueId="2" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      #But UE reset at CRG interface is dummy
      <tapa.expect>
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>
      

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.35
#
#       Desc:    To test UE reset validations at RGR Interface
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.35">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Validations of UE reset at RGR interface
      </tapa.desc>

      <tapa.longdesc>
         "Create a CELL at CRG and RGR Interface and then create UE at CRG and
         RGR interface and then Send UE Reset Request at RGR interface for
         different validations"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Initialize UE at Rgr adn Crg Interface
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.rg.dbgInitAll/>

      # Send UE Reset request With Invalid CELL Id at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.UeReset  cellId="5" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>

      # Send UE Reset request With Invalid Ue Id at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.UeReset  cellId="3" ueId="2" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm status="15"/>
      </tapa.expect>
      

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.36
#
#       Desc:    To test UE reset at both CRG and RGR Interface
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.36">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test Validations of UE reset at RGR interface
      </tapa.desc>

      <tapa.longdesc>
         "Create a CELL at CRG and RGR Interface and then create UE at CRG and
         RGR interface and then Send UE Reset Request at CRG/RGR interfaces
         without any Data Path"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Initialize UE at Rgr adn Crg Interface
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.rg.dbgInitAll/>
      # Send UE Reset request With Invalid Ue Id at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.UeReset  cellId="3" ueId="0" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm />
      </tapa.expect>

      # Send UE Reset request With Invalid Ue Id at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.UeReset  cellId="3" ueId="0" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm />
      </tapa.expect>

      

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.37
#
#       Desc:    To test UE reset at both CRG and RGR Interface with Data Path
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.37">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test UE reset at CRG/RGR interface with Data Path
      </tapa.desc>

      <tapa.longdesc>
         "Create a CELL at CRG and RGR Interface and then create UE at CRG and
         RGR interface and start Downlink Data Path and then Send UE Reset 
         Request at CRG/RGR interfaces after Status Indication from MAC"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit/>

      # UE Creation
      <tapa.rg.UeInit ueCatEnum="1"/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp lcId="1" lcType="5" bo="1024"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind lchTb1Data="1" />
      </tapa.expect>
      # Send UE Reset request With Invalid Ue Id at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.UeReset  cellId="3" ueId="0" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm />
      </tapa.expect>

      # Send UE Reset request With Invalid Ue Id at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.UeReset  cellId="3" ueId="0" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm />
      </tapa.expect>
     
      # Send RaReqInd for one rapId
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq raRnti="8" numRapId="1" rapIds="1" timingAdvs="3"
                         tpcs="1" cqiPres="FALSE" />
         </tapa.tfu.rareq.ind>
      </tapa.send>

      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

     #Added this since CRG UE Reset is dummy which is not clearing UE's HARQ
      #Proc after reset
      <tapa.expect>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId='0' validate="TRUE" />
        </tapa.tfu.dat.req>
      </tapa.expect>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.rarsp.req raRnti="8" vldtRar="TRUE" saveTo="1"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req/>
        </tapa.tfu.cntrl.req>
      </tapa.expset>

      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>

      # At start of this step, we are at (0,7)
      # Expect Message3 reception req. Validation against the grant given in
      # raResp shall be done
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1">
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      # At start of this step, we are at (0,7)
      # Send [TFU_DELTA(=2) + TFU_UL_DELTA(=1)] TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      #Send CRC for Msg3
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="1" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>

      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # Expect HARQ ACK in PHICH For MSG3
      <tapa.expect>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.phich.cntrl.req ueId="1" isAck="TRUE"/>
         </tapa.tfu.cntrl.req>
      </tapa.expect>

      # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      # rg004.201 Fixed the CCCH sdu size
      <tapa.send>
       <tapa.tfu.dat.ind datInds="1">
         <tapa.tfu.dat  isCcchSdu="TRUE" sduSize="6" ueId="1"/>
       </tapa.tfu.dat.ind>
      </tapa.send>

      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>

      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.send>
         # Send data with size less than the allocated on RGU.
         # if we can send less data from TA or to report a BO which
         # will surely result in padding
         <tapa.rgu.ddatreq lchTb1Data="1" ueId="0" lcId="0" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # Send re-configuration disabling SPS in downlink
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.ue  oldUeId="0" UeReCfgType="0"
           oldcrnti="11" newUeId="1" newcrnti="12"/>
      </tapa.send>

      # Send a Tti to get the configuration applied.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>


      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm  />
       </tapa.expect>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="100"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4
      <tapa.expect>
         <tapa.rgu.cstaind lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU.
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId='1' validate="TRUE" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req ueId='1'/>
         </tapa.tfu.cntrl.req>
      </tapa.expset>

      # At start of this step, we are at (1,5)
      # Send 2 more TTI before HARQ reception request
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      # At start of this step, we are at (1,7)
      # Expect harq ack reception request for HARQ ACK for Msg4.
      <tapa.expect>
        <tapa.tfu.recp.req numRntis="1">
           <tapa.tfu.hq.recp.req ueId='1'/>
        </tapa.tfu.recp.req>
      </tapa.expect>

      # At start of this step, we are at (1,7)
      # Send TTIs = (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) before sending HARQ ACK
      # to MAC
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3" />
      </tapa.send>

      # At start of this step, we are at (2,0)
      # Send ACK as feedback for Msg4.
      <tapa.send>
        <tapa.tfu.hq.ind hqInds="1">
          <tapa.tfu.hq ueId="1"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" lcType="5" bo="100"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" lchTb1Data="1" />
      </tapa.expect>
      
      <tapa.send>
         # Send data with size less than the allocated on RGU. 
         # if we can send less data from TA or to report a BO which
         # will surely result in padding 
         <tapa.rgu.ddatreq lchTb1Data="1" ueId="1" lcId="1" lcType="5"/>
      </tapa.send>
 
      <tapa.send>
         # Send DL_DELTA Ttis to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
         <tapa.tfu.cntrl.req numCntrlReq="1">
            <tapa.tfu.pdcch.cntrl.req ueId="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.pdsch.dat.req  ueId="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      <tapa.expset>
         <tapa.tfu.recp.req numRntis="1" spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>   
      </tapa.expset>

      <tapa.send>
         # Send a 2 TTIs to Send the HARQ ACK Indication
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
   
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            <tapa.tfu.hq ueId="0"/>
         </tapa.tfu.hq.ind>   
      </tapa.send>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    2.38
#
#       Desc:    To test UE reset at both CRG and RGR Interface with Data Path
#
#       Notes:   None
#              
#       Module:  Configuration/Reset 
#
#       File:    rgac_tc2.xml
#
#
<tapa.testcase id="2.38">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36321.830" section=""/>
      <tapa.module id="uplink.datapath"/>

      <tapa.desc>
         "To test UE reset at CRG/RGR interface with Data Path
      </tapa.desc>

      <tapa.longdesc>
         "Create a CELL at CRG and RGR Interface and then create UE at CRG and
         RGR interface and start Uplink Data Path and then Send UE Reset 
         Request at CRG/RGR interfaces after Status Indication from MAC"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit ulTotalBw="20"/>
      #Initialize UE
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
     
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 

      # Configure bi-directional DTCH for default UE 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      # Expect configuration confirm after the TTI
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # Expect configuration confirm after the TTI
      <tapa.expect> 
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Expect configuration confirm after the TTI
      <tapa.expect> 
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Send SR Indication for default UE
     <tapa.send>
        <tapa.tfu.sr.ind>
           <tapa.tfu.sr/>
        </tapa.tfu.sr.ind>
     </tapa.send>
      # Send UE Reset request for the default Ue at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.UeReset  cellId="3" ueId="0" />
      </tapa.send>
      #Expect Positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm />
      </tapa.expect>

      # Send UE Reset request With default Ue Id at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.UeReset  cellId="3" ueId="0" />
      </tapa.send>
      #Expect Positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm />
      </tapa.expect>

      # Send RaReqInd for one rapId
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq raRnti="8" numRapId="1" rapIds="1" timingAdvs="3" tpcs="1" cqiPres="FALSE" />
         </tapa.tfu.rareq.ind>
      </tapa.send>

      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.rarsp.req raRnti="8" vldtRar="TRUE" saveTo="1"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req/>
        </tapa.tfu.cntrl.req>
      </tapa.expset>

      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>

      # At start of this step, we are at (0,7)
      # Expect Message3 reception req. Validation against the grant given in
      # raResp shall be done
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1">
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      # At start of this step, we are at (0,7)
      # Send [TFU_DELTA(=2) + TFU_UL_DELTA(=1)] TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      #Send CRC for Msg3
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="1" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>

      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # Expect HARQ ACK in PHICH For MSG3
      <tapa.expect>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.phich.cntrl.req ueId="1" isAck="TRUE"/>
         </tapa.tfu.cntrl.req>
      </tapa.expect>
     # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      # rg004.201 Fixed the CCCH sdu size
      <tapa.send>
       <tapa.tfu.dat.ind datInds="1">
          <tapa.tfu.dat  isCcchSdu="TRUE" sduSize="6" ueId="1"/>
       </tapa.tfu.dat.ind>
      </tapa.send>

      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>

      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # Send re-configuration disabling SPS in downlink
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.ue  oldUeId="0" UeReCfgType="0"
           oldcrnti="11" newUeId="1" newcrnti="12"/>
      </tapa.send>
      # Send a Tti to get the configuration applied.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm  />
       </tapa.expect>

      # Send UE ReConfiguration for the same UE created above for change in RNTI
      <tapa.send>
         <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
            UeReCfgType="64"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

            <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="100"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4
      <tapa.expect>
         <tapa.rgu.cstaind lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU.
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId='1' validate="TRUE" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req ueId='1'/>
         </tapa.tfu.cntrl.req>
      </tapa.expset>

      # At start of this step, we are at (1,5)
      # Send 2 more TTI before HARQ reception request
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      # At start of this step, we are at (1,7)
      # Expect harq ack reception request for HARQ ACK for Msg4.
      <tapa.expect>
        <tapa.tfu.recp.req numRntis="1">
           <tapa.tfu.hq.recp.req ueId='1'/>
        </tapa.tfu.recp.req>
      </tapa.expect>

      # At start of this step, we are at (1,7)
      # Send TTIs = (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) before sending HARQ ACK
      # to MAC
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3" />
      </tapa.send>

      # At start of this step, we are at (2,0)
      # Send ACK as feedback for Msg4.
      <tapa.send>
        <tapa.tfu.hq.ind hqInds="1">
          <tapa.tfu.hq ueId="1"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
      
      # Send a TTI to schedule SR, As UE is reset above we should not get pdcch
      # request after this TTI
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # Yes we didn't get pdcch request so Send SR Indication for default UE
      # again for normal UL call flow
     <tapa.send>
        <tapa.tfu.sr.ind>
           <tapa.tfu.sr ueId="1"/>
        </tapa.tfu.sr.ind>
     </tapa.send>
     
     # Send a TTI to schedule SR
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # Expect DCI format 0 and do basic validations of the grant
      <tapa.expset>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="1" isUlGrant="TRUE" vldtGrant="TRUE" vldtTx="TRUE"/>
        </tapa.tfu.cntrl.req>
      </tapa.expset>
      <!--
      # Send 4 (UL_SCHED_DELTA (=2) + 4 TTIs (for Ue to transmit) - TFU_DELTA
      # (=2 in advance that we expect datRecpReq)
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
-->
      # In normal call flow we send 4 TTI's to get pusch recp req at TFU, But now
      # send 3 TTI's and then send UE Reset for default UE at RGR and CRG.
      # Send 4 (UL_SCHED_DELTA (=2) + 4 TTIs (for Ue to transmit) - TFU_DELTA
      # (=2 in advance that we expect datRecpReq)
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      # Send UE Reset request for the default Ue at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.UeReset  cellId="3" ueId="1" />
      </tapa.send>
      #Expect Positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm />
      </tapa.expect>

      # Send UE Reset request With default Ue Id at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.UeReset  cellId="3" ueId="1" />
      </tapa.send>
      #Expect Positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm />
      </tapa.expect>

      # Now send one more TTI now we shouldn't get pusch recp req at TFU as we
      # reset UE above 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # send extra TTIs to verify nothing scheduled/signalled here after 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="5"/>
      </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    2.39
#
#       Desc:    To test DL Scheduler schedules RETX as per the highest priority services. 
#
#       Notes:   None
#              
#       Module:  None
#
#       File:    rgac_tc2.xml
#
#
<tapa.testcase id="2.39">>

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test DL Scheduler schedules RETX as per the highest priority services."
      </tapa.desc>

      <tapa.longdesc>
         "To Test if DLS gives higher priority to a UE whose retx proc has been allocated
         for a higher priority service than that of another UE in a same subframe. Configure
         min retxBw such that only one UE gets honoured. Verify that it is UE1 which is scheduled
         first."
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>


      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit.dlSched dlTotalBw="100" maxDlRetxBw="10"/>

      #Do RACH and UE Config
      <tapa.rg.UeInit ueId="0"/>
      <tapa.rg.UeInit ueId="1"/>
      
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="4" dir="1" dlQci="3" dlGbr="1000" dlMbr="2000"/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="9" lcType="4" dir="1"  dlQci="2" dlGbr="1000"  dlMbr="2000"/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="4" dir="1" dlQci="3" dlGbr="1000" dlMbr="2000"/>
      </tapa.send>

      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="1" lcId="9" lcType="4" dir="1"  dlQci="2" dlGbr="1000"  dlMbr="2000"/>
      </tapa.send>

      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>


      # Send BO for the created logical channel on RGU. 
      <tapa.send>
         <tapa.rgu.dstarsp ueId="0" lcId="9" lcType="4" bo="100"/>
      </tapa.send>

      # Send BO for the created logical channel on RGU. 
      <tapa.send>
         <tapa.rgu.dstarsp ueId="1" lcId="9" lcType="4" bo="90"/>
      </tapa.send>

      # Send a Tti to get the transmission scheduled. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect staInd from MAC to RLC for UE2.
      <tapa.expset>
         <tapa.rgu.dstaind ueId="1" lchTb1Data="9" saveTo="2"/>
         <tapa.rgu.dstaind ueId="0" lchTb1Data="9" saveTo="2"/>
      </tapa.expset>
      <!-- 
      # Expect staInd from MAC to RLC for UE1.
      <tapa.expect>
         <tapa.rgu.dstaind ueId="0" lchTb1Data="9" saveTo="2"/>
      </tapa.expect>
      -->
      # Send DDatReq for UE1 with size equal to the allocated size on RGU. 
     <tapa.send>
         <tapa.rgu.ddatreq lchTb1Data="9" ueId="0" lcId="9" lcType="4"/>
      </tapa.send>

      # Send DDatReq for UE2 with size equal to the allocated size on RGU. 
     <tapa.send>
         <tapa.rgu.ddatreq lchTb1Data="9" ueId="1" lcId="9" lcType="4"/>
      </tapa.send>

      # Send 1 Tti to get the MAC PDU at PHY.
      <tapa.send>
         <tapa.tfu.tti.ind />
      </tapa.send>

      # Expect PDU from MAC to PHY for UE2. UeId to check rnti sent by MAC.
   <tapa.expset>
     <tapa.tfu.cntrl.req numCntrlReq="2">
        <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
        <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
     </tapa.tfu.cntrl.req>
   # Expect Msg4 from MAC to PHY.
     <tapa.tfu.dat.req datReqs="2">
        <tapa.tfu.pdsch.dat.req use="1" ueId="0" numSdu="1"/>
        <tapa.tfu.pdsch.dat.req use="2" ueId="1" numSdu="1"/>
     </tapa.tfu.dat.req>
   </tapa.expset>

      # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
      # 1(TFU_UL_DELTA) - TFU_DELTA Ttis to expect harqrecp req from MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

   <tapa.expset>
     <tapa.tfu.recp.req numRntis="2">
        <tapa.tfu.hq.recp.req ueId="0"/>
        <tapa.tfu.hq.recp.req ueId="1"/>
     </tapa.tfu.recp.req>   
   </tapa.expset>

      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

   # Send NACK as feedback for Msg4. 
   <tapa.send>
     <tapa.tfu.hq.ind hqInds="2">
        <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        <tapa.tfu.hq ueId="1" isAck="FALSE"/>
     </tapa.tfu.hq.ind>   
   </tapa.send>
  <!--
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      -->
      # Send UE Reset request With UeId=0 at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.UeReset  ueId="0" />
      </tapa.send>
      #Expect +ve Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send UE Reset request With UeId=0 at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.UeReset  cellId="3" ueId="0" />
      </tapa.send>
      #Expect +ve Configuration Confirm from Scheduler 
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>
      # Send UE Reset request With ueId=1 at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.UeReset  ueId="1" />
      </tapa.send>
      #Expect +ve Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send UE Reset request With UeId=1 at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.UeReset  cellId="3" ueId="1" />
      </tapa.send>
      #Expect +ve Configuration Confirm from Scheduler 
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      <!--
   # Expect Retransmission only for ueId=1, as the it has the highest prio svc 
   # previously scheduled for this proc against ueId=0, and also the retxBw is 
   # configured such that only one UE gets satisfied.
   <tapa.expset>
     <tapa.tfu.cntrl.req numCntrlReq="1">
        <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2" vldtRetx="TRUE"/>
     </tapa.tfu.cntrl.req>
   # Expect Msg4 from MAC to PHY.
     <tapa.tfu.dat.req datReqs="1">
        <tapa.tfu.pdsch.dat.req use="2" ueId="1" numSdu="1"/>
     </tapa.tfu.dat.req>
   </tapa.expset>

      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

   # Expect Retransmission only for ueId=0.
   <tapa.expset>
     <tapa.tfu.cntrl.req numCntrlReq="1">
        <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2" vldtRetx="TRUE"/>
     </tapa.tfu.cntrl.req>
   # Expect Msg4 from MAC to PHY.
     <tapa.tfu.dat.req datReqs="1">
        <tapa.tfu.pdsch.dat.req use="2" ueId="0" numSdu="1"/>
     </tapa.tfu.dat.req>
   </tapa.expset>

      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

   <tapa.expset>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req ueId="1"/>
     </tapa.tfu.recp.req>   
   </tapa.expset>

      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

   <tapa.expset>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req ueId="0"/>
     </tapa.tfu.recp.req>   
   </tapa.expset>

   <tapa.send>
      <tapa.tfu.tti.ind numTti="2"/>
   </tapa.send>

   # Send ACK as feedback for Msg4. 
   <tapa.send>
     <tapa.tfu.hq.ind hqInds="1">
        <tapa.tfu.hq ueId="1"/>
     </tapa.tfu.hq.ind>   
   </tapa.send>

   <tapa.send>
      <tapa.tfu.tti.ind numTti="1"/>
   </tapa.send>

   # Send ACK as feedback for Msg4. 
   <tapa.send>
     <tapa.tfu.hq.ind hqInds="2">
        <tapa.tfu.hq ueId="0"/>
     </tapa.tfu.hq.ind>   
   </tapa.send>
   -->
   #verify Nothing sent after wards.
   <tapa.send>
      <tapa.tfu.tti.ind numTti="3"/>
   </tapa.send>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    2.40
#
#       Desc:   "To test the successful creation of MAC PDU with subheaders,
#                padding subheaders, control elements, SDUs and padding
#
#       Notes:   None
#              
#       Module:  "MUX Module"
#
#       File:    rgac_tc2.xml
#
#
<tapa.testcase id="2.40">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Successful multiplexing of MAC PDU" 
      </tapa.desc>

      <tapa.longdesc>
         "Testing that the MAC PDU contains subheaders for SDU, CE and padding
         along with the CE, SDU and padding bytes"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit/>

      # UE Creation
      <tapa.rg.UeInit ueCatEnum="1"/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp lcId="1" lcType="5" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind lchTb1Data="1" />
      </tapa.expect>

      # Send UE Delete Request for the same UE created above at CRG.
      <tapa.send>
         <tapa.crg.cfgreq.del  cellId="3" ueId="0" DelType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send UE Delete Request for the same UE created above at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del  cellId="3" ueId="0" DelType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instdId="1"/>
      </tapa.expect>

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.timeout/>
      <!--
      <tapa.send>
         # Send data with size less than the allocated on RGU. 
         # if we can send less data from TA or to report a BO which
         # will surely result in padding 
         <tapa.rgu.ddatreq lchTb1Data="1" ueId="0" lcId="1" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send DL_DELTA Ttis to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

   <tapa.expset>
     <tapa.tfu.cntrl.req numCntrlReq="1">
        <tapa.tfu.pdcch.cntrl.req/>
     </tapa.tfu.cntrl.req>
     <tapa.tfu.dat.req datReqs="1">
        <tapa.tfu.pdsch.dat.req  validate="TRUE"/>
     </tapa.tfu.dat.req>
   </tapa.expset>

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

   <tapa.expset>
     <tapa.tfu.recp.req numRntis="1" spId="1">
        <tapa.tfu.hq.recp.req ueId="0"/>
     </tapa.tfu.recp.req>   
   </tapa.expset>

      <tapa.send>
         # Send a 2 TTIs to Send the HARQ ACK Indication
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

   <tapa.send>
     <tapa.tfu.hq.ind hqInds="1">
        <tapa.tfu.hq ueId="0"/>
     </tapa.tfu.hq.ind>   
   </tapa.send>
  -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    2.41
#
#       Desc:   "To test the successful creation of MAC PDU with subheaders,
#                padding subheaders, control elements, SDUs and padding
#
#       Notes:   None
#              
#       Module:  "MUX Module"
#
#       File:    rgac_tc2.xml
#
#
<tapa.testcase id="2.41">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Successful multiplexing of MAC PDU" 
      </tapa.desc>

      <tapa.longdesc>
         "Testing that the MAC PDU contains subheaders for SDU, CE and padding
         along with the CE, SDU and padding bytes"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit/>

      # UE Creation
      <tapa.rg.UeInit ueCatEnum="1"/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp lcId="1" lcType="5" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind lchTb1Data="1" />
      </tapa.expect>

      <!-- 
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      -->
      <tapa.send>
         # Send data with size less than the allocated on RGU. 
         # if we can send less data from TA or to report a BO which
         # will surely result in padding 
         <tapa.rgu.ddatreq lchTb1Data="1" ueId="0" lcId="1" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send DL_DELTA Ttis to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

   <tapa.expset>
     <tapa.tfu.cntrl.req numCntrlReq="1">
        <tapa.tfu.pdcch.cntrl.req/>
     </tapa.tfu.cntrl.req>
     <tapa.tfu.dat.req datReqs="1">
        <tapa.tfu.pdsch.dat.req  validate="TRUE"/>
     </tapa.tfu.dat.req>
   </tapa.expset>

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # Send UE Delete Request for the same UE created above at CRG.
      <tapa.send>
         <tapa.crg.cfgreq.del  cellId="3" ueId="0" DelType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send UE Delete Request for the same UE created above at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del  cellId="3" ueId="0" DelType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instdId="1"/>
      </tapa.expect>

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      <tapa.timeout/>
         <!--
      <tapa.expset>
     <tapa.tfu.recp.req numRntis="1" spId="1">
        <tapa.tfu.hq.recp.req ueId="0"/>
     </tapa.tfu.recp.req>   
   </tapa.expset>

      <tapa.send>
         # Send a 2 TTIs to Send the HARQ ACK Indication
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

   <tapa.send>
     <tapa.tfu.hq.ind hqInds="1">
        <tapa.tfu.hq ueId="0"/>
     </tapa.tfu.hq.ind>   
   </tapa.send>
  -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    2.42 
#
#       Desc:    To validate UL HARQ processing for 1 MAC SDU without MAC CEs.
#
#       Notes:   None
#              
#       Module:  uplink.datapath
#
#       File:    rgac_tc8.xml
#
#
<tapa.testcase id="2.42">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36321.830" section=""/>
      <tapa.module id="uplink.datapath"/>

      <tapa.desc>
         "To validate UL HARQ processing for 1 MAC SDU without MAC CEs."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit ulTotalBw="20"/>
      #Initialize UE
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
     
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 

      # Configure bi-directional DTCH for default UE 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      # Expect configuration confirm after the TTI
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      # Expect configuration confirm after the TTI
      <tapa.expect> 
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Expect configuration confirm after the TTI
      <tapa.expect> 
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Send SR Indication for default UE
     <tapa.send>
        <tapa.tfu.sr.ind>
           <tapa.tfu.sr/>
        </tapa.tfu.sr.ind>
     </tapa.send>

      # Send a TTI to schedule SR
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # Expect DCI format 0 and do basic validations of the grant
      <tapa.expset>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="1" isUlGrant="TRUE" vldtGrant="TRUE" vldtTx="TRUE"/>
        </tapa.tfu.cntrl.req>
      </tapa.expset>

      # Send 4 (UL_SCHED_DELTA (=2) + 4 TTIs (for Ue to transmit) - TFU_DELTA
      # (=2 in advance that we expect datRecpReq)
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      # Expect data reception request
      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.pusch.recp.req use="1" vldtDatRecp="TRUE" saveTo="2"/>
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send 3 TTIs (TFU_DELTA(=2) for UE to transmit + 1 (TFU_UL_DELTA))
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      #Send CRC for Msg
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="0" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>

      # Send UE Delete Request for the same UE created above at CRG.
      <tapa.send>
         <tapa.crg.cfgreq.del  cellId="3" ueId="0" DelType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send UE Delete Request for the same UE created above at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.del  cellId="3" ueId="0" DelType="2"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instdId="1"/>
      </tapa.expect>

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      <tapa.timeout/>

     
      <!--
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # Expect HARQ ACK in PHICH
      <tapa.expect>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.phich.cntrl.req isAck="TRUE"/>
        </tapa.tfu.cntrl.req>
      </tapa.expect>
 
      # Send Data Indication using TB size recieved in the grant
      <tapa.send>
       <tapa.tfu.dat.ind datInds="1">
          <tapa.tfu.dat use="2" lcId="1"/>
       </tapa.tfu.dat.ind>
      </tapa.send>

      # Expect Data Indication at RLC
      <tapa.expect>
         <tapa.rgu.ddatind lchTb1Data="1,1" vldtBuf="TRUE"/>
      </tapa.expect>
      -->
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.43
#
#       Desc:    To Validation of UE Re Configuration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.43">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validation of UE Re Configuration
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same ue and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send UE ReConfiguration for the same UE created above for TXMODE Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="1" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for APRD DLCQI
      # Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="2" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for PRD DLCQI
      # recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="4" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      
      # Send UE ReConfiguration for the same UE created above for ULHARQ Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="8" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
       </tapa.send>

      # Send UE ReConfiguration for the same UE created above for QOS recfg at
      # RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="16" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for TATMR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="32" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="64" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
       </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
      </tapa.expset>
      
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 
      # Send RaReqInd for one rapId 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq ueId="1" raRnti="1" numRapId="1" rapIds="1" timingAdvs="3"
               tpcs="1" cqiPres="TRUE" cqis="4"/>
         </tapa.tfu.rareq.ind>
      </tapa.send>
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # In this TC, it shall expect raResp in the first subframe after 3 Ttis.
      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the 
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.rarsp.req ueId="1" raRnti="1" vldtRar="TRUE" saveTo="1"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We 
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1" >
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      # At start of this step, we are at (0,7)
      # Send (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      #Send CRC for Msg3
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="1" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>
   
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # Expect HARQ ACK in PHICH For MSG3
      <tapa.expect>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.phich.cntrl.req isAck="TRUE" ueId="1"/>
         </tapa.tfu.cntrl.req>
      </tapa.expect>
      
      # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      <tapa.send>
         <tapa.tfu.dat.ind datInds="1">
            <tapa.tfu.dat ueId="1" isCcchSdu="TRUE" sduSize="6" />
         </tapa.tfu.dat.ind>
      </tapa.send>
      
      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>
      <!-- Start  
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>
     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     -->
      # At start of this step, we are at (1,1)
      # Send BO for Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="10"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled. 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   
      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4 
      <tapa.expect>
         <tapa.rgu.cstaind ueId="1" lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.pdsch.dat.req ueId="1" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      # Recv Hq Recp Req for Msg4. 
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3" />
      </tapa.send>
      
      # Send ACK as feedback for Msg4. 
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            #<tapa.tfu.hq ueId="1" isAckLst="FALSE"/>
            <tapa.tfu.hq ueId="1"/>
         </tapa.tfu.hq.ind>   
      </tapa.send>
      
      <!-- Start --> 
      # At start of this step, we are at (2,0)
      # Send TTI to validate that there are no pending messages at MAC 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     <!-- End-->
     <tapa.tfu.directive ulDeltaPrsnt="TRUE"/>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1" instId="5"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the configuration applied. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm status="0" instId="5"/>
      </tapa.expect>
      
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="9" lcType="5" bo="50"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" lchTb1Data="9" saveTo="2"/>
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU. 
         <tapa.rgu.ddatreq ueId="1" lchTb1Data="9" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send 1 Tti to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId="1"  use="9" lcId="9" chkSdu="TRUE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>

      <tapa.send>
         # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
         # - TFU_DELTA Ttis to expect harqrecp req from MAC.
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req ueId="1" />
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send TFU_DELTA + TFU_UL_DELTA Ttis to send fdbk to MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>
   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#       Test:    2.44
#
#       Desc:    To Validation of UE Re Configuration
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.44">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validation of UE Re Configuration
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same ue and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send UE ReConfiguration for the same UE created above for TXMODE Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="1" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for APRD DLCQI
      # Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="2" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for PRD DLCQI
      # recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="4" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      
      # Send UE ReConfiguration for the same UE created above for ULHARQ Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="8" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
       </tapa.send>

      # Send UE ReConfiguration for the same UE created above for QOS recfg at
      # RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="16" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for TATMR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="32" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="64" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
       </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
      </tapa.expset>
      
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 
      # Send RaReqInd for one rapId 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq ueId="1" raRnti="1" numRapId="1" rapIds="1" timingAdvs="3"
               tpcs="1" cqiPres="TRUE" cqis="4"/>
         </tapa.tfu.rareq.ind>
      </tapa.send>
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # In this TC, it shall expect raResp in the first subframe after 3 Ttis.
      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the 
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.rarsp.req ueId="1" raRnti="1" vldtRar="TRUE" saveTo="1"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We 
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1" >
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      # At start of this step, we are at (0,7)
      # Send (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      #Send CRC for Msg3
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="1" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>
   
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # Expect HARQ ACK in PHICH For MSG3
      <tapa.expect>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.phich.cntrl.req isAck="TRUE" ueId="1"/>
         </tapa.tfu.cntrl.req>
      </tapa.expect>
      
      # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      <tapa.send>
         <tapa.tfu.dat.ind datInds="1">
            <tapa.tfu.dat ueId="1" isCcchSdu="TRUE" sduSize="6" />
         </tapa.tfu.dat.ind>
      </tapa.send>
      
      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>
      <!-- Start  
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>
     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     -->
      # At start of this step, we are at (1,1)
      # Send BO for Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="10"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled. 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   
      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4 
      <tapa.expect>
         <tapa.rgu.cstaind ueId="1" lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.pdsch.dat.req ueId="1" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      <!-- Start   -->
      # At start of this step, we are at (2,0)
      # Send TTI to validate that there are no pending messages at MAC 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     <!-- End -->
     <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # Recv Hq Recp Req for Msg4. 
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3" />
      </tapa.send>
      
      # Send ACK as feedback for Msg4. 
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            #<tapa.tfu.hq ueId="1" isAckLst="FALSE"/>
            <tapa.tfu.hq ueId="1"/>
         </tapa.tfu.hq.ind>   
      </tapa.send>
      
      <!-- Start  
      # At start of this step, we are at (2,0)
      # Send TTI to validate that there are no pending messages at MAC 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     -->
     <tapa.tfu.directive ulDeltaPrsnt="TRUE"/>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1" instId="5"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the configuration applied. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm status="0" instId="5"/>
      </tapa.expect>
      
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="9" lcType="5" bo="50"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" lchTb1Data="9" saveTo="2"/>
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU. 
         <tapa.rgu.ddatreq ueId="1" lchTb1Data="9" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send 1 Tti to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId="1"  use="9" lcId="9" chkSdu="TRUE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>

      <tapa.send>
         # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
         # - TFU_DELTA Ttis to expect harqrecp req from MAC.
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req ueId="1" />
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send TFU_DELTA + TFU_UL_DELTA Ttis to send fdbk to MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>
   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    2.45
#
#       Desc:    To test calculation of PHICH regions. 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.45">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test calculation of PHICH regions for lower bandwidths"
      </tapa.desc>

      <tapa.longdesc>
         "To test calculation of PHICH regions for lower bandwidths"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq instId="5"/>
      </tapa.send>
      
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgu.bndreq/>
      </tapa.send>
      
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgu.bndcfm/>
      </tapa.expect>

 
      #<tapa.rg.dbgInitAll/>
      #Expect NOK_DONE Control Confirm from LTE MAC
      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.cntrlreq suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.lrg.cntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expect>


      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.bndreq instId="0"/>
      </tapa.expect>
      
      #<tapa.rg.dbgDeInitAll/>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.bndcfm suId="0" instId="0"/>
      </tapa.send>

      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>

      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>

      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      
      #<tapa.rg.dbgDeInitAll/>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>

      
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell dlTotalBw="6" ulTotalBw="6"/>
      </tapa.send>
      

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #<tapa.rg.dbgDeInitAll/>

      #Send Common Logical Channel Configuration BCCH->BCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="1" dir="1" lcType="1" dlTrchType="1"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->DLSCH1
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="2" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send Common Logical Channel Configuration PCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="3" dir="1" lcType="2"/>
      </tapa.send>
     
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration CCCH
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch  crnti="1234" lcId="4" dir="3" lcType="3"
            dlTrchType="3" ulTrchType="5"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Send Common Logical Channel Configuration BCCH->DLSCH2
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch crnti="1234" lcId="5" dir="1" lcType="1"
            dlTrchType="3"/>
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5" dlTotalBw="6"
         ulTotalBw="25"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" />
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.46
#
#       Desc:    Validating the QCI for DCCH and DTCH
#
#       Notes:   None
#              
#       Module:  
#
#       File:    rgac_tc2.xml
#
#
<tapa.testcase id="2.46">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Validating the QCI for DCCH and DTCH" 
      </tapa.desc>

      <tapa.longdesc>
         "Validating the highest priority for DTCH and DCCH successfully"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
   
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit dlTotalBw="25"/>

      # UE configuration
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1" instId="5"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the configuration applied. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm status="0" instId="5"/>
      </tapa.expect>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp lcId="9" lcType="5" bo="209"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind lchTb1Data="9" saveTo="2"/>
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU. 
         <tapa.rgu.ddatreq ueId="0" lchTb1Data="9" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send 1 Tti to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId="0"  use="9" lcId="9" chkSdu="TRUE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>

      <tapa.send>
         # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
         # - TFU_DELTA Ttis to expect harqrecp req from MAC.
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req/>
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send TFU_DELTA + TFU_UL_DELTA Ttis to send fdbk to MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      # Send ACK for the received PDU
   <tapa.send>
     <tapa.tfu.hq.ind hqInds="1">
        <tapa.tfu.hq/>
     </tapa.tfu.hq.ind>   
   </tapa.send>

      # Send multiple TTIs to validate that nothing else is rcvd
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

        #######Dedicated Transport channel#################################

       <tapa.send>
         # Configure a dedicated Transport channel for the created UE  
         # lcType=5 for DTCH (cm_lte.h)
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="7" lcType="4" dir="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated Transport channel for the created UE  
         # lcType=5 for DTCH (cm_lte.h)
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="7" lcType="4" dir="1" instId="5" dlQci="3"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the configuration applied. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm status="0" instId="5"/>
      </tapa.expect>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp lcId="7" lcType="4" bo="50"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind lchTb1Data="7" saveTo="2"/>
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU. 
         <tapa.rgu.ddatreq ueId="0" lchTb1Data="7" lcType="4"/>
      </tapa.send>

      <tapa.send>
         # Send 1 Tti to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId="0"  use="9" lcId="7" chkSdu="TRUE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>

      <tapa.send>
         # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
         # - TFU_DELTA Ttis to expect harqrecp req from MAC.
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req/>
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send TFU_DELTA + TFU_UL_DELTA Ttis to send fdbk to MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      # Send ACK for the received PDU
   <tapa.send>
     <tapa.tfu.hq.ind hqInds="1">
        <tapa.tfu.hq/>
     </tapa.tfu.hq.ind>   
   </tapa.send>

      # Send multiple TTIs to validate that nothing else is rcvd
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
   <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

      # Layer Manager ShutDown

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.47
#
#       Desc:    To test validation of CRG Cell Re configuration 
#                 for scheduler type 1
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.47">
   
   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test validation of CRG Cell Re configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL configuration request to LTEMAC from Dummy RRC and expect a
         positive configuration confirmation from LTE MAC and then send a Re
         configuration for CELL to test validation of differet parameters of re
         configuration"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>
   
   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      # Cell Configuration

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP to Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" />
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send RGR Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  instId="5" cellId="3" numCmnLc="5"
            cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" 
            dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid CellId at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  cellId="4"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid CellId at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  instId="5" cellId="4" dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid resource Size at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" resourceSize="0"
            recfgType="64" instId="5" dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      #rg003.301 [ccpu00120644]-MOD-commented out this portion
      #as n1PucchAn is a valid value. This is based on 36.211 5.4
      # Send CELL ReConfiguration With Invalid n1PucchAn at RGR
      #<tapa.send>
      #   <tapa.rgr.cfgreq.recfg.cell  cellId="3" n1PucchAn="0" recfgType="64"
      #      instId="5" />
      #</tapa.send>
      # Send a Tti to get the configuration applied. 
      #<tapa.send>
      #   <tapa.tfu.tti.ind/>
      #</tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      #<tapa.expect>
      #   <tapa.rgr.cfgCfm instId="5" status="15"/>
      #</tapa.expect>

      # Send CELL ReConfiguration With Invalid deltaShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" deltaShift="0"
            recfgType="64" instId="5" dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid deltaShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" deltaShift="4"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid cyclicShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" cyclicShift="8"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid raWinSize at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="256"  cellId="3" raWinSize="0"
            instId="5" dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid SRS configuration at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell cellId="3" recfgType="2"
            srsBwEnum="RGAC_RGR_SRS_BWCFG_ERR" instId="5" 
            dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid raWinSize at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell   recfgType="256" cellId="3"
            raWinSize="11" instId="5" dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid preambleFormat at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            preambleFormat="11" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid maxMsg3Tx at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  CellReCfgType="4" cellId="3" maxMsg3Tx="0"
         dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      # Send CELL ReConfiguration With Invalid maxMsg3Tx at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3" maxMsg3Tx="0"
            instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid numRaPreamble at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            numRaPreamble="3" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid numRaPreamble at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            numRaPreamble="65" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid numRaPreamble and
      # sizeRaPreambleGrpA at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" numRaPreamble="60"
            sizeRaPreambleGrpA="100" recfgType="256" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="128" cellId="3" instId="5" dlSchdType="1" ulSchdType="1"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      # Send CELL ReConfiguration 
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3" instId="5" 
            raWinSize="4" preambleFormat="0" maxMsg3Tx="2" numRaPreamble="60" sizeRaPreambleGrpA="60" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" />
      </tapa.expect>

      #Expect a Control Confirm from Scheduler
      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>
      # Expect Cntrl Confirm from LTEMAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    2.48
#
#       Desc:    To test validation of CRG Cell Re configuration for 
#                 scheduler type 2
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.48">
   
   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test validation of CRG Cell Re configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL configuration request to LTEMAC from Dummy RRC and expect a
         positive configuration confirmation from LTE MAC and then send a Re
         configuration for CELL to test validation of differet parameters of re
         configuration"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>
   
   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP to Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" />
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send RGR Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  instId="5" cellId="3" numCmnLc="5" 
            dlSchdType="2" ulSchdType="2"
            cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" />
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid CellId at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  cellId="4"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid CellId at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  instId="5" cellId="4"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid resource Size at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" resourceSize="0"
            recfgType="64" instId="5" dlSchdType="2" ulSchdType="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      #rg003.301 [ccpu00120644]-MOD-commented out this portion
      #as n1PucchAn is a valid value. This is based on 36.211 5.4
      # Send CELL ReConfiguration With Invalid n1PucchAn at RGR
      #<tapa.send>
      #   <tapa.rgr.cfgreq.recfg.cell  cellId="3" n1PucchAn="0" recfgType="64"
      #      instId="5" />
      #</tapa.send>
      # Send a Tti to get the configuration applied. 
      #<tapa.send>
      #   <tapa.tfu.tti.ind/>
      #</tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      #<tapa.expect>
      #   <tapa.rgr.cfgCfm instId="5" status="15"/>
      #</tapa.expect>

      # Send CELL ReConfiguration With Invalid deltaShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" deltaShift="0"
            recfgType="64" instId="5" dlSchdType="2" ulSchdType="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid deltaShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" deltaShift="4"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid cyclicShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" cyclicShift="8"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid raWinSize at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="256"  cellId="3" raWinSize="0"
            instId="5" dlSchdType="2" ulSchdType="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid SRS configuration at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell cellId="3" recfgType="2"
            srsBwEnum="RGAC_RGR_SRS_BWCFG_ERR" instId="5" 
            dlSchdType="2" ulSchdType="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid raWinSize at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell   recfgType="256" cellId="3"
            raWinSize="11" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid preambleFormat at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            preambleFormat="11" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid maxMsg3Tx at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  CellReCfgType="4" cellId="3" maxMsg3Tx="0"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      # Send CELL ReConfiguration With Invalid maxMsg3Tx at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3" maxMsg3Tx="0"
            instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid numRaPreamble at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            numRaPreamble="3" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid numRaPreamble at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            numRaPreamble="65" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid numRaPreamble and
      # sizeRaPreambleGrpA at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" numRaPreamble="60"
            sizeRaPreambleGrpA="100" recfgType="256" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="128" cellId="3" instId="5" 
         dlSchdType="2" ulSchdType="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      # Send CELL ReConfiguration 
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3" instId="5" 
            raWinSize="4" preambleFormat="0" maxMsg3Tx="2" numRaPreamble="60" sizeRaPreambleGrpA="60" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" />
      </tapa.expect>

      #Expect a Control Confirm from Scheduler
      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>
      # Expect Cntrl Confirm from LTEMAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    2.49
#
#       Desc:    To test validation of CRG Cell Re configuration for scheduler type - 3
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.49">
   
   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test validation of CRG Cell Re configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL configuration request to LTEMAC from Dummy RRC and expect a
         positive configuration confirmation from LTE MAC and then send a Re
         configuration for CELL to test validation of differet parameters of re
         configuration"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>
   
   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      #Send Bind Request for CRG SAP 
      <tapa.send>
         <tapa.crg.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.crg.bndcfm/>
      </tapa.expect>
      
      #Send Bind Request for RGR SAP 
      <tapa.send>
         <tapa.rgr.bndreq/>
      </tapa.send>
      # Expect positive Configuration Confirm from MAC
      <tapa.expect>
         <tapa.rgr.bndcfm/>
      </tapa.expect>

      #Send Control Request to Enable TFU SAP to Scheduler
      <tapa.send>
         <tapa.lrg.schcntrlreq instId="5" suId="0" spId="0" action="ABND" elmntType="STTFUSAP" />
      </tapa.send>
      <tapa.expect>
         <tapa.lrg.schcntrlcfm status="LCM_PRIM_OK_NDONE" reason="LCM_REASON_NOT_APPL" instId="5"/>
      </tapa.expect>
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.bndreq instId="5" spId="1"/>
      </tapa.expect>
      #Send Dummy TFU Bind Confirm
      <tapa.send>
         <tapa.tfu.sch.bndcfm suId="0" instId="5" spId="1"/>
      </tapa.send>
      #Expect positive Control Confirm from LTE MAC
      <tapa.expect>
         <tapa.lrg.schcntrlcfm instId="5"/>
      </tapa.expect>

      #Send CRG Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.crg.cfgreq.cfg.cell  cellId="3" />
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      #Send RGR Cell Configuration If cellId not given it will take default as
      # 3.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell  instId="5" cellId="3" numCmnLc="5" 
            dlSchdType="3" ulSchdType="3"
            cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:3:5:1:1:3:0" />
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid CellId at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  cellId="4"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid CellId at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  instId="5" cellId="4" dlSchdType="3" ulSchdType="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid resource Size at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" resourceSize="0"
            recfgType="64" instId="5" dlSchdType="3" ulSchdType="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      #rg003.301 [ccpu00120644]-MOD-commented out this portion
      #as n1PucchAn is a valid value. This is based on 36.211 5.4
      # Send CELL ReConfiguration With Invalid n1PucchAn at RGR
      #<tapa.send>
      #   <tapa.rgr.cfgreq.recfg.cell  cellId="3" n1PucchAn="0" recfgType="64"
      #      instId="5" />
      #</tapa.send>
      # Send a Tti to get the configuration applied. 
      #<tapa.send>
      #   <tapa.tfu.tti.ind/>
      #</tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      #<tapa.expect>
      #   <tapa.rgr.cfgCfm instId="5" status="15"/>
      #</tapa.expect>

      # Send CELL ReConfiguration With Invalid deltaShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" deltaShift="0"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid deltaShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" deltaShift="4"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid cyclicShift at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" cyclicShift="8"
            recfgType="64" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid raWinSize at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="256"  cellId="3" raWinSize="0"
            instId="5" dlSchdType="3" ulSchdType="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid SRS configuration at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell cellId="3" recfgType="2"
            srsBwEnum="RGAC_RGR_SRS_BWCFG_ERR" instId="5" 
            dlSchdType="3" ulSchdType="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid raWinSize at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell   recfgType="256" cellId="3"
            raWinSize="11" instId="5" dlSchdType="3" ulSchdType="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid preambleFormat at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            preambleFormat="11" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid maxMsg3Tx at CRG
      <tapa.send>
         <tapa.crg.cfgreq.recfg.cell  CellReCfgType="4" cellId="3" maxMsg3Tx="0"
             dlSchdType="3" ulSchdType="3"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      # Send CELL ReConfiguration With Invalid maxMsg3Tx at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3" maxMsg3Tx="0"
            instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid numRaPreamble at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            numRaPreamble="3" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration With Invalid numRaPreamble at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3"
            numRaPreamble="65" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send CELL ReConfiguration With Invalid numRaPreamble and
      # sizeRaPreambleGrpA at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  cellId="3" numRaPreamble="60"
            sizeRaPreambleGrpA="100" recfgType="256" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send CELL ReConfiguration
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="128" cellId="3" instId="5" 
            dlSchdType="3" ulSchdType="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      # Send CELL ReConfiguration 
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell  recfgType="256" cellId="3" instId="5" 
            raWinSize="4" preambleFormat="0" maxMsg3Tx="2" numRaPreamble="60" sizeRaPreambleGrpA="60" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send UnBind Request to SCH SAP
      <tapa.send>
         <tapa.lrg.schcntrlreq elmntType="STGEN" action="ASHUTDOWN"/>
      </tapa.send>
      
      # Expect Dummy TFU Bind Request
      <tapa.expect>
         <tapa.tfu.sch.ubndreq spId="1" />
      </tapa.expect>

      #Expect a Control Confirm from Scheduler
      <tapa.expect>
         <tapa.lrg.schcntrlcfm/>
      </tapa.expect>

      #Send Control Request to LTEMAC for ShutDown 
      <tapa.send>
         <tapa.lrg.cntrlreq action="ASHUTDOWN" elmntType="STGEN" />
      </tapa.send>
      # Expect Cntrl Confirm from LTEMAC
      <tapa.expect>
         <tapa.lrg.cntrlcfm/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
   
</tapa.testcase>

#
#       Test:    2.50
#
#       Desc:    To test successful RGR Cell ReConfiguration 
#                 for others (refresh) for scheduler type 1
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.50">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful RGR Cell ReConfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish MacInit, CellInit then send Cell re configuration at RGR"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      #Create Cell
      <tapa.rg.cellInit dlSchdType="1" ulSchdType="1"/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="32" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5"  />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="16" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="1" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="512" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="1024" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>



   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #ShutDown the LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.51
#
#       Desc:    To test successful RGR Cell ReConfiguration 
#                 for others (refresh) for scheduler type 2
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.51">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful RGR Cell ReConfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish MacInit, CellInit then send Cell re configuration at RGR"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      #Create Cell
      <tapa.rg.cellInit dlSchdType="2" ulSchdType="2"/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="32" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5"  />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="16" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="1" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="512" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="1024" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>



   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #ShutDown the LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.52
#
#       Desc:    To test successful RGR Cell ReConfiguration 
#                 for others (refresh) for scheduler type 3
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.52">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful RGR Cell ReConfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish MacInit, CellInit then send Cell re configuration at RGR"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      #Create Cell
      <tapa.rg.cellInit dlSchdType="3" ulSchdType="3"/>

      <tapa.rg.dbgDeInitAll/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="32" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5"  />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="16" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="1" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      #Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="512" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      
      Send RGR Cell Reconfiguration for the same cell created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.cell recfgType="1024" maxDlHqTx="3"
            maxMsg4HqTx="3" instId="5" />
      </tapa.send>
      #Send a tti for configuration to apply
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>



   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #ShutDown the LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.53
#
#       Desc:    To test validation CRG UE Reconfiguration Sched type =1
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.53">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test validation CRG UE Reconfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Ue
         Reconfiguration for validating different parameters"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="1" ulSchdType="1"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send UE ReConfiguration for the Invalid CellId at CRG
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="4" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
          <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the Invalid CellId at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  instId="5" cellId="4" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the Invalid UeId at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="1"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      #But UE reestabliching at CRG interface is dummy
      <tapa.expect>
          <tapa.crg.cfgcfm status="0"/>
       </tapa.expect>
       
       # Send UE ReConfiguration for the Invalid UeId at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="1" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm status="15" instId="5" />
       </tapa.expect>
       <!-- 
       # Send UE ReConfiguration to existing UE for PWR Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue cellId="3" oldUeId="0" UeReCfgType="256"
             instId="5" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
       </tapa.expect>
       -->
      # Send UE ReConfiguration to existing UE for TXmode Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="1"
             txModeEnum="RGAC_RGR_UE_TM_ERR" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
       </tapa.expect>
       
       # Send UE ReConfiguration to existing UE for UL HARQ Recfg at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="8"
             maxUlHqTx="0"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
          <tapa.crg.cfgcfm status="15"/>
       </tapa.expect>
       
       # Send UE ReConfiguration to existing UE for UL HARQ Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="8"
             maxUlHqTx="0" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
       </tapa.expect>
       
      <!--
      # Send UE ReConfiguration to existing UE for QOS Recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="32"
             instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      -->
      # Send UE ReConfiguration existing oldrnti as newrnti at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="0"
             UeReCfgType="2" instId="5" pucchTpcRntiPres="FALSE"
             puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send UE config request with inavlid ackNackRepFactor at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isAckNackEnabled="TRUE" ackNackRepFactor="RGAC_ACKNACK_REPFACT_N2_ERR"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isMesGapEnabled="TRUE"  gapPrd="40" gapOffst="40"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isMesGapEnabled="TRUE"  gapPrd="80" gapOffst="80"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.54
#
#       Desc:    To test validation CRG UE Reconfiguration Sched type =2
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.54">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test validation CRG UE Reconfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Ue
         Reconfiguration for validating different parameters"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="2" ulSchdType="2"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send UE ReConfiguration for the Invalid CellId at CRG
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="4" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
          <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the Invalid CellId at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  instId="5" cellId="4" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the Invalid UeId at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="1"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      #But UE reestablishing at CRG interface is dummy
      <tapa.expect>
          <tapa.crg.cfgcfm status="0"/>
       </tapa.expect>
       
       # Send UE ReConfiguration for the Invalid UeId at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="1" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm status="15" instId="5" />
       </tapa.expect>
       <!-- 
       # Send UE ReConfiguration to existing UE for PWR Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue cellId="3" oldUeId="0" UeReCfgType="256"
             instId="5" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
       </tapa.expect>
       -->
      # Send UE ReConfiguration to existing UE for TXmode Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="1"
             txModeEnum="RGAC_RGR_UE_TM_ERR" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
       </tapa.expect>
       
       # Send UE ReConfiguration to existing UE for UL HARQ Recfg at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="8"
             maxUlHqTx="0"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
          <tapa.crg.cfgcfm status="15"/>
       </tapa.expect>
       
       # Send UE ReConfiguration to existing UE for UL HARQ Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="8"
             maxUlHqTx="0" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
       </tapa.expect>
       
      <!--
      # Send UE ReConfiguration to existing UE for QOS Recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="32"
             instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      -->
      # Send UE ReConfiguration existing oldrnti as newrnti at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="0"
             UeReCfgType="2" instId="5" pucchTpcRntiPres="FALSE"
             puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send UE config request with inavlid ackNackRepFactor at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isAckNackEnabled="TRUE" ackNackRepFactor="RGAC_ACKNACK_REPFACT_N2_ERR"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isMesGapEnabled="TRUE"  gapPrd="40" gapOffst="40"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isMesGapEnabled="TRUE"  gapPrd="80" gapOffst="80"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.55
#
#       Desc:    To test validation CRG UE Reconfiguration Sched type =3
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.55">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test validation CRG UE Reconfiguration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Ue
         Reconfiguration for validating different parameters"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="3" ulSchdType="3"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      
      # Send UE ReConfiguration for the Invalid CellId at CRG
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="4" />
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      <tapa.expect>
          <tapa.crg.cfgcfm status="15"/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the Invalid CellId at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  instId="5" cellId="4" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE ReConfiguration for the Invalid UeId at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="1"/>
      </tapa.send>
      #Expect negative Configuration Confirm from LTEMAC
      #But UE reestablishing at CRG interface is dummy
      <tapa.expect>
          <tapa.crg.cfgcfm status="0"/>
       </tapa.expect>
       
       # Send UE ReConfiguration for the Invalid UeId at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="1" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect negative Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm status="15" instId="5" />
       </tapa.expect>
       <!-- 
       # Send UE ReConfiguration to existing UE for PWR Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue cellId="3" oldUeId="0" UeReCfgType="256"
             instId="5" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
       </tapa.expect>
       -->
      # Send UE ReConfiguration to existing UE for TXmode Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="1"
             txModeEnum="RGAC_RGR_UE_TM_ERR" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
       </tapa.expect>
       
       # Send UE ReConfiguration to existing UE for UL HARQ Recfg at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="8"
             maxUlHqTx="0"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
          <tapa.crg.cfgcfm status="15"/>
       </tapa.expect>
       
       # Send UE ReConfiguration to existing UE for UL HARQ Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="8"
             maxUlHqTx="0" instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" status="15"/>
       </tapa.expect>
       
      <!--
      # Send UE ReConfiguration to existing UE for QOS Recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" UeReCfgType="32"
             instId="5" />
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>
      -->
      # Send UE ReConfiguration existing oldrnti as newrnti at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="0"
             UeReCfgType="2" instId="5" pucchTpcRntiPres="FALSE"
             puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
          <tapa.rgr.cfgCfm instId="5" />
      </tapa.expect>

      # Send UE config request with inavlid ackNackRepFactor at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isAckNackEnabled="TRUE" ackNackRepFactor="RGAC_ACKNACK_REPFACT_N2_ERR"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>
      
      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isMesGapEnabled="TRUE"  gapPrd="40" gapOffst="40"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

      # Send UE config request with inavlid gapOffst at RGR
      <tapa.send>
      /*rg003.301[ccpu00121749] -ADD-Validating ACK/NACK is Enabled */ 
        <tapa.rgr.cfgreq.recfg.ue instId="5" ueId="0" UeReCfgType="256" isMesGapEnabled="TRUE"  gapPrd="80" gapOffst="80"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.56
#
#       Desc:    To test successful CRG and RGR Logical Channel Re Configuration
#                            for SchedType=1
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.56">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Logical Channel Re Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL/UE configuration request to LTEMAC/Scheduler from Dummy RRC and
         from RRM respectively and expect a positive configuration confirmation 
         from LTE MAC and Scheduler respectively and then send a configuration 
         for  Dedicated Logical Channels from Dummy RRC and RRM to LTEMAC and
         Scheduler respectively and expect a configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      
      #Disable All Debugs
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="1" ulSchdType="1"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Configure a dedicated logical channel for the created UE at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="2"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure a dedicated logical channel for the created UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" dir="2" dlQci="1"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Send a Tti to get the configuration applied.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcId="9" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcId="9"
             dir="2"/>
      </tapa.send>
      # Send LCG ReConfiguration for the same LCG created above at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.lcg instId="5" lcgId="0"/>
       </tapa.send>

      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      # Configure bi-directional DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="0" dir="3" lcType="4" ulQci="8" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="5" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="6" lcgId="3" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="0" dir="3" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="1" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="5" lcgId="2" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="6" lcgId="3" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcgId="2" lcId="3"
             dir="3"/>
      </tapa.send>
      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcgId="2"
            lcId="3" dir="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcgId="1" lcId="4"
             dir="2"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcgId="1"
            lcId="4" dir="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.57
#
#       Desc:    To test successful CRG and RGR Logical Channel Re Configuration
#                            for SchedType=2
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.57">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Logical Channel Re Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL/UE configuration request to LTEMAC/Scheduler from Dummy RRC and
         from RRM respectively and expect a positive configuration confirmation 
         from LTE MAC and Scheduler respectively and then send a configuration 
         for  Dedicated Logical Channels from Dummy RRC and RRM to LTEMAC and
         Scheduler respectively and expect a configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      
      #Disable All Debugs
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="2" ulSchdType="2"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Configure a dedicated logical channel for the created UE at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="2"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure a dedicated logical channel for the created UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" dir="2" dlQci="1"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Send a Tti to get the configuration applied.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcId="9" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcId="9"
             dir="2"/>
      </tapa.send>
      # Send LCG ReConfiguration for the same LCG created above at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.lcg instId="5" lcgId="0"/>
       </tapa.send>

      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      # Configure bi-directional DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="0" dir="3" lcType="4" ulQci="8" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="5" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="6" lcgId="3" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="0" dir="3" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="1" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="5" lcgId="2" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="6" lcgId="3" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcgId="2" lcId="3"
             dir="3"/>
      </tapa.send>
      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcgId="2"
            lcId="3" dir="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcgId="1" lcId="4"
             dir="2"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcgId="1"
            lcId="4" dir="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.58
#
#       Desc:    To test successful CRG and RGR Logical Channel Re Configuration
#                            for SchedType=3
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.58">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Logical Channel Re Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Send CELL/UE configuration request to LTEMAC/Scheduler from Dummy RRC and
         from RRM respectively and expect a positive configuration confirmation 
         from LTE MAC and Scheduler respectively and then send a configuration 
         for  Dedicated Logical Channels from Dummy RRC and RRM to LTEMAC and
         Scheduler respectively and expect a configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      
      #Disable All Debugs
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="3" ulSchdType="3"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Configure a dedicated logical channel for the created UE at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="2"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure a dedicated logical channel for the created UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" dir="2" dlQci="1"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Send a Tti to get the configuration applied.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcId="9" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcId="9"
             dir="2"/>
      </tapa.send>
      # Send LCG ReConfiguration for the same LCG created above at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.lcg instId="5" lcgId="0"/>
       </tapa.send>

      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      # Configure bi-directional DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="0" dir="3" lcType="4" ulQci="8" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="5" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="6" lcgId="3" dir="2" lcType="4" />
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="0" dir="3" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="1" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="5" lcgId="2" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="6" lcgId="3" dir="2" 
            lcType="4"/>
      </tapa.send>
      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcgId="2" lcId="3"
             dir="3"/>
      </tapa.send>
      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcgId="2"
            lcId="3" dir="3"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Send LC ReConfiguration for the same LC created above at CRG 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.lch  cellId="3" ueId="0" lcgId="1" lcId="4"
             dir="2"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC ReConfiguration for the same LC created above at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.recfg.lch instId="5"  cellId="3" ueId="0" lcgId="1"
            lcId="4" dir="2"/>
      </tapa.send>
      # Send a Tti to get the configuration applied. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
     <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.59
#
#       Desc:    To test successful CRG Logical Channel Delete Request 
#                  for schedType=1
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.59">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Logical Channel Delete Request"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Logical Channel 
         Delete Request and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="1" ulSchdType="1"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      # Configure a dedicated logical channel for the created UE at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC.
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure a dedicated logical channel for the created UE at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      # Send a TTI to get the configuration applied at RGR. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>
      -->
      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="1" dir="3" lcType="5" />
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="1" dir="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="1" dir="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="4"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="2" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE  at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="3" dir="2" lcType="4"  />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure bi-directional DTCH for default UE at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="1" lcgId="0" dir="3" 
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="2" lcgId="1" dir="2" 
            lcType="4" />
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="1" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="2" dir="2"
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="2" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="3" dir="2"
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="3" instId="5"/>
      </tapa.send>
      # Send TTI indication for default cell at RGR.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del DelType="3" cellId="3" ueId="0" lcId="1" dir="3"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="2" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="3" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="4" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="1" dir="3"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="0"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="2" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="1"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="3" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="2"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="4" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.tti.ind  />
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      <!--
      <tapa.rg.dbgDeInitErr/>
      <tapa.rg.dbgDeInitInfo/>
      -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.60
#
#       Desc:    To test successful CRG Logical Channel Delete Request 
#                  for schedType=2
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.60">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Logical Channel Delete Request"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Logical Channel 
         Delete Request and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="2" ulSchdType="2"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      # Configure a dedicated logical channel for the created UE at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC.
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure a dedicated logical channel for the created UE at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      # Send a TTI to get the configuration applied at RGR. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>
      -->
      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="1" dir="3" lcType="5" />
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="1" dir="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="1" dir="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="4"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="2" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE  at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="3" dir="2" lcType="4"  />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure bi-directional DTCH for default UE at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="1" lcgId="0" dir="3" 
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="2" lcgId="1" dir="2" 
            lcType="4" />
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="1" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="2" dir="2"
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="2" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="3" dir="2"
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="3" instId="5"/>
      </tapa.send>
      # Send TTI indication for default cell at RGR.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del DelType="3" cellId="3" ueId="0" lcId="1" dir="3"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="2" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="3" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="4" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="1" dir="3"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="0"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="2" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="1"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="3" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="2"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="4" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.tti.ind  />
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      <!--
      <tapa.rg.dbgDeInitErr/>
      <tapa.rg.dbgDeInitInfo/>
      -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.61
#
#       Desc:    To test successful CRG Logical Channel Delete Request 
#                  for schedType=3
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.61">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG Logical Channel Delete Request"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, RACH and UE configurations and then call Logical Channel 
         Delete Request and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>
      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="3" ulSchdType="3"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <!--
      # Configure a dedicated logical channel for the created UE at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      # Expect success in cfg cfm from LTEMAC.
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure a dedicated logical channel for the created UE at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" ueId="0" lcId="9" lcType="5" dir="1"/>
      </tapa.send>
      # Send a TTI to get the configuration applied at RGR. 
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect success in cfg cfm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm/>
      </tapa.expect>
      -->
      # Configure a dedicated logical channel for the created UE  
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="1" dir="3" lcType="5" />
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="1" dir="3"/>
      </tapa.send>
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="1" dir="1"/>
      </tapa.send>
      #Expect positive Configuration Confirm from Scheduler
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      # Configure bi-directional DTCH for default UE at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="1" lcgId="0" dir="3" lcType="4"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure uplink DTCH for default UE at CRG 
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="2" lcgId="1" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE  at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="3" lcgId="2" dir="2" lcType="4" />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Configure uplink DTCH for default UE at CRG
      <tapa.send>
         <tapa.crg.cfgreq.cfg.lch lcId="4" lcgId="3" dir="2" lcType="4"  />
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure bi-directional DTCH for default UE at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="1" lcgId="0" dir="3" 
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="0" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="2" lcgId="1" dir="2" 
            lcType="4" />
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="1" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="3" lcgId="2" dir="2"
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="2" instId="5"/>
      </tapa.send>
      # Configure uplink DTCH for default UE at RGR.
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch instId="5" lcId="4" lcgId="3" dir="2"
            lcType="4"/>
      </tapa.send>
      # Configure UL LCG on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lcg lcgId="3" instId="5"/>
      </tapa.send>
      # Send TTI indication for default cell at RGR.
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>
      # Expect configuration confirm after the TTI from Scheduler
      <tapa.expset> 
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del DelType="3" cellId="3" ueId="0" lcId="1" dir="3"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>
      
      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="2" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="3" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at CRG. 
      <tapa.send>
         <tapa.crg.cfgreq.del  DelType="3" cellId="3" ueId="0" lcId="4" dir="2"/>
      </tapa.send>
      # Expect configuration confirm from MAC
      <tapa.expect> 
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="1" dir="3"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="0"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="2" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="1"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="3" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="2"/>
      </tapa.send>
      # Send LC Delete Request for the same LC created above at RGR. 
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="3" cellId="3" ueId="0"
            lcId="4" dir="2"/>
      </tapa.send>
      # Sebd LCG Delete Request at RGR
      <tapa.send>
         <tapa.rgr.cfgreq.del instId="5"  DelType="4" cellId="3" lcgId="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.tti.ind  />
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      <!--
      <tapa.rg.dbgDeInitErr/>
      <tapa.rg.dbgDeInitInfo/>
      -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.62
#
#       Desc:    To Validation of UE Re Configuration for PFS
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.62">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validation of UE Re Configuration
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same ue and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="1" ulSchdType="1"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      # Send UE ReConfiguration for the same UE created above for TXMODE Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="1" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for APRD DLCQI
      # Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="2" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for PRD DLCQI
      # recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="4" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      
      # Send UE ReConfiguration for the same UE created above for ULHARQ Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="8" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
       </tapa.send>

      # Send UE ReConfiguration for the same UE created above for QOS recfg at
      # RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="16" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for TATMR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="32" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="64" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
       </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
      </tapa.expset>
      
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 
      # Send RaReqInd for one rapId 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq ueId="1" raRnti="1" numRapId="1" rapIds="1" timingAdvs="3"
               tpcs="1" cqiPres="TRUE" cqis="4"/>
         </tapa.tfu.rareq.ind>
      </tapa.send>
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # In this TC, it shall expect raResp in the first subframe after 3 Ttis.
      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the 
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.rarsp.req ueId="1" raRnti="1" vldtRar="TRUE" saveTo="1"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We 
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1" >
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      # At start of this step, we are at (0,7)
      # Send (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      #Send CRC for Msg3
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="1" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>
   
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # Expect HARQ ACK in PHICH For MSG3
      <tapa.expect>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.phich.cntrl.req isAck="TRUE" ueId="1"/>
         </tapa.tfu.cntrl.req>
      </tapa.expect>
      
      # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      # rg004.201 Fixed the CCCH sdu size 
      <tapa.send>
         <tapa.tfu.dat.ind datInds="1">
            <tapa.tfu.dat ueId="1" isCcchSdu="TRUE" sduSize="6" />
         </tapa.tfu.dat.ind>
      </tapa.send>
      
      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>
      #######
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>
     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     ######
      # At start of this step, we are at (1,1)
      # Send BO for Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="10"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled. 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   
      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4 
      <tapa.expect>
         <tapa.rgu.cstaind ueId="1" lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.pdsch.dat.req ueId="1" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>


      # Recv Hq Recp Req for Msg4. 
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3" />
      </tapa.send>
      
      # Send ACK as feedback for Msg4. 
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            #<tapa.tfu.hq ueId="1" isAckLst="FALSE"/>
            <tapa.tfu.hq ueId="1"/>
         </tapa.tfu.hq.ind>   
      </tapa.send>
      <!-- Start  
      # At start of this step, we are at (2,0)
      # Send TTI to validate that there are no pending messages at MAC 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     -->
     <tapa.tfu.directive ulDeltaPrsnt="TRUE"/>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1" instId="5"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the configuration applied. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm status="0" instId="5"/>
      </tapa.expect>
      
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="9" lcType="5" bo="50"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" lchTb1Data="9" saveTo="2"/>
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU. 
         <tapa.rgu.ddatreq ueId="1" lchTb1Data="9" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send 1 Tti to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId="1"  use="9" lcId="9" chkSdu="TRUE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>

      <tapa.send>
         # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
         # - TFU_DELTA Ttis to expect harqrecp req from MAC.
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req ueId="1" />
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send TFU_DELTA + TFU_UL_DELTA Ttis to send fdbk to MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>
   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    2.63
#
#       Desc:    To Validation of UE Re Configuration for RR
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.63">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validation of UE Re Configuration
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same ue and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="2" ulSchdType="2" isDlFreqSel="1"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      # Send UE ReConfiguration for the same UE created above for TXMODE Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="1" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for APRD DLCQI
      # Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="2" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for PRD DLCQI
      # recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="4" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"
             prdCqiCfg.type ="TRUE" prdModeEnum= "RGAC_RGR_PRD_CQI_MOD20"/>
      </tapa.send>
      
      # Send UE ReConfiguration for the same UE created above for ULHARQ Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="8" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
       </tapa.send>

      # Send UE ReConfiguration for the same UE created above for QOS recfg at
      # RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="16" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for TATMR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="32" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="64" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
       </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
      </tapa.expset>
      
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 
      # Send RaReqInd for one rapId 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq ueId="1" raRnti="1" numRapId="1" rapIds="1" timingAdvs="3"
               tpcs="1" cqiPres="TRUE" cqis="4"/>
         </tapa.tfu.rareq.ind>
      </tapa.send>
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # In this TC, it shall expect raResp in the first subframe after 3 Ttis.
      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the 
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.rarsp.req ueId="1" raRnti="1" vldtRar="TRUE" saveTo="1"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We 
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1" >
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      # At start of this step, we are at (0,7)
      # Send (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      #Send CRC for Msg3
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="1" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>
   
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # Expect HARQ ACK in PHICH For MSG3
      <tapa.expect>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.phich.cntrl.req isAck="TRUE" ueId="1"/>
         </tapa.tfu.cntrl.req>
      </tapa.expect>
      
      # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      # rg004.201 Fixed the CCCH sdu size 
      <tapa.send>
         <tapa.tfu.dat.ind datInds="1">
            <tapa.tfu.dat ueId="1" isCcchSdu="TRUE" sduSize="6" />
         </tapa.tfu.dat.ind>
      </tapa.send>
      
      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>
      #######
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>
     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     ######
      # At start of this step, we are at (1,1)
      # Send BO for Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="10"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled. 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   
      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4 
      <tapa.expect>
         <tapa.rgu.cstaind ueId="1" lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.pdsch.dat.req ueId="1" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>


      # Recv Hq Recp Req for Msg4. 
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3" />
      </tapa.send>
      
      # Send ACK as feedback for Msg4. 
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            #<tapa.tfu.hq ueId="1" isAckLst="FALSE"/>
            <tapa.tfu.hq ueId="1"/>
         </tapa.tfu.hq.ind>   
      </tapa.send>
      <!-- Start  
      # At start of this step, we are at (2,0)
      # Send TTI to validate that there are no pending messages at MAC 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     -->
     <tapa.tfu.directive ulDeltaPrsnt="TRUE"/>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1" instId="5"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the configuration applied. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm status="0" instId="5"/>
      </tapa.expect>
      
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="9" lcType="5" bo="50"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" lchTb1Data="9" saveTo="2"/>
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU. 
         <tapa.rgu.ddatreq ueId="1" lchTb1Data="9" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send 1 Tti to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId="1"  use="9" lcId="9" chkSdu="TRUE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>

      <tapa.send>
         # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
         # - TFU_DELTA Ttis to expect harqrecp req from MAC.
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req ueId="1" />
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send TFU_DELTA + TFU_UL_DELTA Ttis to send fdbk to MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>
   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    2.64
#
#       Desc:    To Validation of UE Re Configuration for RR Non-DLFS
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.64">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To Validation of UE Re Configuration
      </tapa.desc>

      <tapa.longdesc>
         "Finish CRG CELL, UE configurations successfuly and then send
         reconfiguration request to same ue and expect configuration confirm"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef/>
      <tapa.ifndef/>
      
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>
      #Initialize CELL
      <tapa.rg.cellInit dlSchdType="2" ulSchdType="2" isDlFreqSel="0"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.UeInit/>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      # Send UE ReConfiguration for the same UE created above for TXMODE Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="1" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for APRD DLCQI
      # Recfg at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="2" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>

      # Send UE ReConfiguration for the same UE created above for PRD DLCQI
      # recfg at RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="4" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      
      # Send UE ReConfiguration for the same UE created above for ULHARQ Recfg
      # at RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="8" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
       </tapa.send>

      # Send UE ReConfiguration for the same UE created above for QOS recfg at
      # RGR 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="16" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE"/>
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for TATMR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="32" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg at
      # RGR
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newcrnti="11"
             UeReCfgType="64" pucchTpcRntiPres="FALSE" puschTpcRntiPres="FALSE" />
       </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expset>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
         <tapa.rgr.cfgCfm/>
      </tapa.expset>
      
      <tapa.tfu.directive ulDeltaPrsnt="TRUE"/> 
      # Send RaReqInd for one rapId 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq ueId="1" raRnti="1" numRapId="1" rapIds="1" timingAdvs="3"
               tpcs="1" cqiPres="TRUE" cqis="4"/>
         </tapa.tfu.rareq.ind>
      </tapa.send>
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # In this TC, it shall expect raResp in the first subframe after 3 Ttis.
      # Assuming start of this step we are at (0,0)
      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # The number of subframes to wait for receiving the RA RSP is maximum of
      # RA RSP window and the scheduling delta RG_DL_DELTA (=3) minus the 
      # TFU_DELTA (=2) from the next TTI. This makes the number of TTIs 2 (3 - 2
      # + 1).
      <tapa.send>
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      # At start of this step, we are at (0,1)
      # Expect RaResp for the rapId sent in RaReq. Validate the RAR Pdu
      # creation as well
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.rarsp.req ueId="1" raRnti="1" vldtRar="TRUE" saveTo="1"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      # At start of this step, we are at (0,1)
      # Counting the TTIs, RA RSP was received by PHY at sf = (0,2). PHY tranmits
      # the RA RSP in sf = (0, 4). UE will transmit the MSG3 at sf = (1, 0). We 
      # must receive data reception request at sf = (0, 8). Current TTI = (0, 2)
      # and hence we must send 6 TTIs.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="6"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1" >
            <tapa.tfu.msg3.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      # At start of this step, we are at (0,7)
      # Send (TFU_DELTA(=2) + TFU_UL_DELTA(=1)) TTIs
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      #Send CRC for Msg3
      <tapa.send>
         <tapa.tfu.crc.ind>
            <tapa.tfu.crc ueId="1" isFailure="FALSE"/>
         </tapa.tfu.crc.ind>
      </tapa.send>
   
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # Expect HARQ ACK in PHICH For MSG3
      <tapa.expect>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.phich.cntrl.req isAck="TRUE" ueId="1"/>
         </tapa.tfu.cntrl.req>
      </tapa.expect>
      
      # At start of this step, we are at (1,0)
      # Send Message3 after receiving Message3 reception req.
      # rg004.201 Fixed the CCCH sdu size 
      <tapa.send>
         <tapa.tfu.dat.ind datInds="1">
            <tapa.tfu.dat ueId="1" isCcchSdu="TRUE" sduSize="6" />
         </tapa.tfu.dat.ind>
      </tapa.send>
      
      # At start of this step, we are at (1,0)
      # Expect Message3 datInd on CCCH at RGU.
      <tapa.expect>
         <tapa.rgu.cdatind ueId="1" lcId="4"/>
      </tapa.expect>
      #######
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>
     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     ######
      # At start of this step, we are at (1,1)
      # Send BO for Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cstarsp ueId="1" lcId="4" lcType="3" bo="10"/>
      </tapa.send>

      # At start of this step, we are at (1,1)
      # Send a Tti to get Msg4 transmission scheduled. 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   
      # At start of this step, we are at (1,2)
      # Expect staInd from MAC to RLC for Msg4 
      <tapa.expect>
         <tapa.rgu.cstaind ueId="1" lcId="4"/>
      </tapa.expect>

      # At start of this step, we are at (1,2)
      # Send Msg4 on RGU. 
      <tapa.send>
         <tapa.rgu.cdatreq ueId="1" lcId="4" lcType="3" />
      </tapa.send>

      # At start of this step, we are at (1,2)
      # Send 1 TTI to get MSG4 at PHY
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      # At start of this step, we are at (1,3)
      # Expect Msg4 from MAC to PHY
      <tapa.expset>
         <tapa.tfu.dat.req datReqs="1">
            <tapa.tfu.pdsch.dat.req ueId="1" chkCcchSh="TRUE"/>
         </tapa.tfu.dat.req>
         <tapa.tfu.cntrl.req numCntrlReq="1" spId="1">
            <tapa.tfu.pdcch.cntrl.req />
         </tapa.tfu.cntrl.req>
      </tapa.expset>
      <tapa.send>
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>


      # Recv Hq Recp Req for Msg4. 
      <tapa.expect>
         <tapa.tfu.recp.req numRntis="1" spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>   
      </tapa.expect>
      
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3" />
      </tapa.send>
      
      # Send ACK as feedback for Msg4. 
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            #<tapa.tfu.hq ueId="1" isAckLst="FALSE"/>
            <tapa.tfu.hq ueId="1"/>
         </tapa.tfu.hq.ind>   
      </tapa.send>
      <!-- Start  
      # At start of this step, we are at (2,0)
      # Send TTI to validate that there are no pending messages at MAC 
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1" />
      </tapa.send>
      # Send UE ReConfiguration for the same UE created above for ULPWR recfg 
      <tapa.send>
          <tapa.rgr.cfgreq.recfg.ue  cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.rgr.cfgCfm/>
     </tapa.expect>
      # Send UE ReConfiguration for the same UE created above for change in RNTI 
      <tapa.send>
          <tapa.crg.cfgreq.recfg.ue cellId="3" oldUeId="0" newUeId="1"
             UeReCfgType="64"/>
      </tapa.send>
      # Send TTI to apply the reconfig
      <tapa.send>
        <tapa.tfu.tti.ind/>
      </tapa.send>

     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>
     -->
     <tapa.tfu.directive ulDeltaPrsnt="TRUE"/>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm status="0"/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         # lcType=5 for DCCH (cm_lte.h)
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="9" lcType="5" dir="1" instId="5"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the configuration applied. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm status="0" instId="5"/>
      </tapa.expect>
      
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="9" lcType="5" bo="50"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" lchTb1Data="9" saveTo="2"/>
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU. 
         <tapa.rgu.ddatreq ueId="1" lchTb1Data="9" lcType="5"/>
      </tapa.send>

      <tapa.send>
         # Send 1 Tti to get the MAC PDU at PHY.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req ueId="1"  use="9" lcId="9" chkSdu="TRUE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req numCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>

      <tapa.send>
         # Send TFU_DELTA(for transmission) + 4 (for fdbk to PHY)+
         # - TFU_DELTA Ttis to expect harqrecp req from MAC.
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>

      <tapa.expect>
     <tapa.tfu.recp.req numRntis="1">
        <tapa.tfu.hq.recp.req ueId="1" />
     </tapa.tfu.recp.req>   
      </tapa.expect>

      # Send TFU_DELTA + TFU_UL_DELTA Ttis to send fdbk to MAC.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Request to ShutDown LTEMAC
      <tapa.rg.macDeInit/>
   </tapa.clean>
   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    2.65
#
#       Desc:   To validate DLFS RB allocation when 
#               periodic cqi reporting mode 21 is reported 
#
#       Notes:   None
#              
#       Module:  Configuration 
#
#       File:    rgac_tc2.xml
#
<tapa.testcase id="2.65">

   # Document subsection
   <tapa.doc>
      <tapa.rfc id="" section=""/>
      <tapa.module/>

      <tapa.desc>
         "To test successful CRG and RGR UE Configuration"
      </tapa.desc>

      <tapa.longdesc>
         "Finish CELL, Common Logical channel configurations at CRG and RGR
         and also finish RACH and then send UE configuration request to 
         LTEMAC from Dummy RRC and configure a PCQI mode 2-1.
         Give BO and validate the RB allocation received in the cntrl msg"
      </tapa.longdesc>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>
      <tapa.ifdef>
      <tapa.flag id="TFU_UPGRADE"/>
      <tapa.flag id="LTEMAC_MIMO"/>
      </tapa.ifdef>
      <tapa.ifndef>
         <tapa.flag id="TFU_TDD"/>
      </tapa.ifndef>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>


      # Initialize LTEMAC
      <tapa.rg.macInit/>

      <tapa.rg.dbgDeInitAll/>

      #Initialize CELL
      <tapa.rg.cellInit isDlFreqSel="1" numTxAntPorts ="2" dlTotalBw="100" maxDlBwPerUe="100"/>

      #Finish RACH and then do UE Configuratrion
      <tapa.rg.rach/>
      
   </tapa.cfg>
   # Test Steps subsection
   <tapa.test>
     # Send UE config request at CRG 
     <tapa.send>
        <tapa.crg.cfgreq.cfg.ue/>
     </tapa.send>
     # Expect success in cfg cfm from MAC
     <tapa.expect>
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Send UE config request at RGR 
     # At start of this step, we are at (2,1) and Reception Request Info time is (2,3)
     # Periodicity yielded from below step will be 5. 
     # Hence, the PCQI will arrive on Reception Request Info time (2,5)
     # But RI collides with PCQI in terms of Periodicity, hence RI will be received at (2,5) 
     # H = J*K+1 hence will be 5 in the test case
     <tapa.send>
       <tapa.rgr.cfgreq.cfg.ue instId="5" ueId="0" txModeEnum="RGR_UE_TM_4"
       prdModeEnum="RGAC_RGR_PRD_CQI_MOD21" prdCqiCfg.type="TRUE" cqiPCfgIdx = "3" 
       cqiRepType="2" K="1"  riEna = "TRUE"  riCfgIdx = "1" UeReCfgType="4096" ueCatEnum="CM_LTE_UE_CAT_5" maxDlBwPerUe="100" cfi="1"/>
     </tapa.send>

   # Send TTI to apply the config
   <tapa.send>
      <tapa.tfu.tti.ind numTti="1"/>
   </tapa.send>

   # Expect success in cfg cfm
   <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
   </tapa.expect>

   <tapa.send>
         # Configure a dedicated logical channel for the created UE
         # lcType=5 for DCCH
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1"/>
    </tapa.send>

    <tapa.expect>
       # Expect success in cfg cfm
       <tapa.crg.cfgcfm status="0"/>
    </tapa.expect>

    <tapa.send>
         # Configure a dedicated logical channel for the created UE
         # lcType=5 for DCCH
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="9" lcType="5" dir="1" instId="5"/>
      </tapa.send>

     # Send TTI to apply the config
    <tapa.send>
    <tapa.tfu.tti.ind numTti="1"/>
    </tapa.send>

    <tapa.expect>
         # Expect success in cfg cfm
       <tapa.rgr.cfgCfm status="0" instId="5"/>
    </tapa.expect>

   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>

    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="TRUE" cqiIdx="15" pmiIdx="1" 
             diffCqiPres="1" diffCqiVal="0"/>
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
    <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
    </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE"
             cqiMode="3" type="TFU_RPT_RI" riIdx="2"/>
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="5"/>
     </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="15" 
             diffCqiPres="1" diffCqiVal="0" label="1" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="3"/>
     </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="15" 
             diffCqiPres="1" diffCqiVal="0" label="2" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="3"/>
     </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="13" 
             diffCqiPres="1" diffCqiVal="6" label="3" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="3"/>
     </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="13" 
             diffCqiPres="1" diffCqiVal="6" label="4" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
     </tapa.send>
     <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp lcId="9" lcType="5" bo="10000"/>
     </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

   <tapa.expect>
         # Expect staInd from MAC to RLC
         <tapa.rgu.dstaind lchTb1Data="9" saveTo="2" numLchTb1="1" numLchTb2="1" lchTb2Data="9" />
      </tapa.expect>
   
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE"
             cqiMode="3" type="TFU_RPT_RI" riIdx="2"/>
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
      

      <tapa.send>
         # Send data with size equal to the allocated size on RGU.
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" numLchTb2="1" lchTb1Data="9"
                           lchTb2Data="9"  lcType="5"/>
      </tapa.send>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
 # Expect Format2, mode=4, pmi = 2 and PUSCHMODE = MODE31 in pusch
      # SpaMux as TX Scheme
      <tapa.expset>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req use="9" lcId="9" chkSdu="TRUE"
              transMode="TFU_UE_TM_4" isTb1="TRUE" isTb2="TRUE"
              vldPuschPmiInfo="TRUE" puschMode="TFU_PUSCH_CQI_MODE_21"
              vldPuschRptUsd="TRUE" puschRptUsd="FALSE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req expCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9" vldDciFrmt="TRUE" isFormat2="TRUE"
              isTb1Pres="TRUE" isTb2Pres="TRUE" vldCWSwapFlag="FALSE" vldtGrant="TRUE"
              vldtResAllocMap="TRUE" resAllocMap="255:252:0:0"
              imcsTb0="28" imcsTb1="28"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="TRUE" cqiIdx="15" pmiIdx="1" 
             diffCqiPres="1" diffCqiVal="0"/>
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>
      <tapa.expect>
         <tapa.tfu.recp.req expRecpReq="1" spId="1">
            <tapa.tfu.hq.recp.req/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            <tapa.tfu.hq ueId="0" isTb2="TRUE" isAckTb2="TRUE"/>
         </tapa.tfu.hq.ind>   
    </tapa.send>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
       <tapa.tfu.tti.ind numTti="1"/>
   </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE"
             cqiMode="3" type="TFU_RPT_RI" riIdx="2"/>
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
				 <tapa.tfu.tti.ind numTti="2"/>
		 </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
       <tapa.tfu.tti.ind numTti="2"/>
   </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="13" 
             diffCqiPres="1" diffCqiVal="0" label="1" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
				 <tapa.tfu.tti.ind numTti="3"/>
		 </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
       <tapa.tfu.tti.ind numTti="2"/>
   </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="13" 
             diffCqiPres="1" diffCqiVal="0" label="2" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
				 <tapa.tfu.tti.ind numTti="3"/>
		 </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
       <tapa.tfu.tti.ind numTti="2"/>
   </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="13" 
             diffCqiPres="1" diffCqiVal="2" label="3" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
				 <tapa.tfu.tti.ind numTti="2"/>
		 </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
       <tapa.tfu.tti.ind numTti="1"/>
   </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
   <tapa.send>
       # Send a Tti to get the transmission scheduled.
       <tapa.tfu.tti.ind numTti="1"/>
   </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="13" 
             diffCqiPres="1" diffCqiVal="2" label="4" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
     </tapa.send>
     <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp lcId="9" lcType="5" bo="10000"/>
     </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC
         <tapa.rgu.dstaind lchTb1Data="9" saveTo="2" numLchTb1="1" numLchTb2="1" lchTb2Data="9" />
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU.
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" numLchTb2="1" lchTb1Data="9"
                           lchTb2Data="9"  lcType="5"/>
      </tapa.send>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
 # Expect Format2, mode=4, pmi = 2 and PUSCHMODE = MODE31 in pusch
      # SpaMux as TX Scheme
      <tapa.expset>
      <tapa.rgu.dstaind lchTb1Data="9" saveTo="2" numLchTb1="1" numLchTb2="1" lchTb2Data="9" />
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req use="9" lcId="9" chkSdu="TRUE"
              transMode="TFU_UE_TM_4" isTb1="TRUE" isTb2="TRUE"
              vldPuschPmiInfo="TRUE" puschMode="TFU_PUSCH_CQI_MODE_21"
              vldPuschRptUsd="TRUE" puschRptUsd="FALSE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req expCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9" vldDciFrmt="TRUE" isFormat2="TRUE"
              isTb1Pres="TRUE" isTb2Pres="TRUE" vldCWSwapFlag="FALSE" vldtGrant="TRUE"
              vldtResAllocMap="TRUE" resAllocMap="255:207:0:0"
              imcsTb0="27" imcsTb1="27"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>
<!--      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="TRUE" cqiIdx="15" pmiIdx="1" 
             diffCqiPres="1" diffCqiVal="15"/>
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
    <tapa.send>
         <tapa.tfu.tti.ind numTti="3"/>
    </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.hq.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE"
             cqiMode="3" type="TFU_RPT_RI" riIdx="2"/>
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
    <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
    </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
    <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
    </tapa.send>
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            <tapa.tfu.hq ueId="0" isAckLst="TRUE:TRUE:TRUE:TRUE"/>
         </tapa.tfu.hq.ind>   
    </tapa.send>
    <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="15" 
             diffCqiPres="1" diffCqiVal="15" label="1" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
     </tapa.send>
      <tapa.expset>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req use="9" lcId="9" chkSdu="TRUE"
              transMode="TFU_UE_TM_4" isTb1="TRUE" isTb2="TRUE"
              vldPuschPmiInfo="TRUE" puschMode="TFU_PUSCH_CQI_MODE_21"
              vldPuschRptUsd="TRUE" puschRptUsd="FALSE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req expCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9" vldDciFrmt="TRUE" isFormat2="TRUE"
              isTb1Pres="TRUE" isTb2Pres="TRUE" vldCWSwapFlag="FALSE" vldtGrant="TRUE"
              vldtResAllocMap="TRUE" resAllocMap="255:255:224:0"
              imcsTb0="28" imcsTb1="19"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="15" 
             diffCqiPres="1" diffCqiVal="15" label="2" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.hq.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
     </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
      <tapa.send>
         <tapa.tfu.hq.ind hqInds="1">
            <tapa.tfu.hq ueId="0" isAckLst="TRUE:TRUE:TRUE:TRUE"/>
         </tapa.tfu.hq.ind>   
    </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="13" 
             diffCqiPres="1" diffCqiVal="13" label="3" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="3"/>
     </tapa.send>
   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="2"/>
     </tapa.send>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE" isRiPres="FALSE"
             cqiMode="3" type="TFU_RPT_CQI" isWideband="FALSE" cqiIdx="13" 
             diffCqiPres="1" diffCqiVal="13" label="4" />
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
     <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
     </tapa.send>
     <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp lcId="9" lcType="5" bo="10000"/>
     </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

   <tapa.expect>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
   </tapa.expect>
    <tapa.send>
      <tapa.tfu.dlcqi.ind>
          <tapa.tfu.dlcqi ueId="0" isPucchInfo="TRUE"
             cqiMode="3" type="TFU_RPT_RI" riIdx="2"/>
      </tapa.tfu.dlcqi.ind>
    </tapa.send>
      <tapa.expect>
         # Expect staInd from MAC to RLC
         <tapa.rgu.dstaind lchTb1Data="9" saveTo="2" numLchTb1="1" numLchTb2="1" lchTb2Data="9" />
      </tapa.expect>

      <tapa.send>
         # Send data with size equal to the allocated size on RGU.
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" numLchTb2="1" lchTb1Data="9"
                           lchTb2Data="9"  lcType="5"/>
      </tapa.send>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
 # Expect Format2, mode=4, pmi = 2 and PUSCHMODE = MODE31 in pusch
      # SpaMux as TX Scheme
      <tapa.expset>
      <tapa.tfu.recp.req expRecpReq="1" spId="1">
         <tapa.tfu.dlcqi.recp.req/>
      </tapa.tfu.recp.req>
        <tapa.tfu.dat.req datReqs="1">
           <tapa.tfu.pdsch.dat.req use="9" lcId="9" chkSdu="TRUE"
              transMode="TFU_UE_TM_4" isTb1="TRUE" isTb2="TRUE"
              vldPuschPmiInfo="TRUE" puschMode="TFU_PUSCH_CQI_MODE_21"
              vldPuschRptUsd="TRUE" puschRptUsd="FALSE"/>
        </tapa.tfu.dat.req>
        <tapa.tfu.cntrl.req expCntrlReq="1">
           <tapa.tfu.pdcch.cntrl.req saveTo="9" vldDciFrmt="TRUE" isFormat2="TRUE"
              isTb1Pres="TRUE" isTb2Pres="TRUE" vldCWSwapFlag="FALSE" vldtGrant="TRUE"
              vldtResAllocMap="TRUE" resAllocMap="255:255:224:0"
              imcsTb0="28" imcsTb1="19"/>
        </tapa.tfu.cntrl.req>
         # Expect PDU from MAC to PHY. UeId to check rnti sent by MAC.
      </tapa.expset>
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
-->
   </tapa.test>
   # Clean subsection
   <tapa.clean>
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#/********************************************************************30**
#
#         End of file:
#
#*********************************************************************31*/
#/**********************************************************************
#        Revision History:
#
#**********************************************************************/
#/********************************************************************90**
# 
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#$SID$         ---     ns   1. Initial Release.
#$SID$         rg009.201 rsharon   1. Initial Release.
#$SID$        ---     gvj  1. LTE MAC 3.1 Release
               rg003.301 draju 1.Added testcase for the CR ccpu00121749
                               2.Changes done for the CR ccpu00121749
#$SID$      ---        rt  1. LTE MAC 4.1 Release
#*********************************************************************91*/
