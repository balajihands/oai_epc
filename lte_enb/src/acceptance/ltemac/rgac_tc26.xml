#
#/********************************************************************20**
#
#     Name:    LTE-MAC 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Cases For LTE Advanced features with RR scheduler 
#
#     File:    rgac_tc26.xml
#
#     Sid:     rgac_tc26.xml@@/main/1 - Wed Dec 05 10:53:03 2012
#
#     Prg:     vmahanka
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=5:hn:rgac_tc26.xml
#
#
#       Test:    26.1
#
#       Desc:    To verify the configuration of Pico cell with the ABS
#                information.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.1">
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify the configuration of Pico cell with the ABS
         information." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
    
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    26.2
#
#       Desc:    To verify the re-configuration of Pico cell with the ABS
#                information.   
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.2">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify the re-configuration of Pico cell with the ABS
         information." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue instId="5" isAbsUe="1"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
 
  #Sending RGR CELL Configuration
  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(4096)
  <tapa.send>
	 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
	 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
	 rgrFeatureAbs="1" isAbsEnabled="0" dlSchdType="2" ulSchdType="2"/>
  </tapa.send>

  <tapa.send>
	 # Send TTI
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>  

   <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
   </tapa.expect>     
 
  #Expect positive Configuration Confirm from LTEMAC
  <tapa.expect>
	 <tapa.rgr.cfgCfm instId="5"/>
  </tapa.expect>

  <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
  </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    26.3
#
#       Desc:    To verify the configuration of Macro cell with the ABS
#                information. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.3">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify the configuration of Macro cell with the ABS
          information."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="0:0:0:0:0:0:0:0:0:0"
         absPattern4="0:0:0:0:0:0:0:0:0:0"/>
                 
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

        </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    26.4
#
#       Desc:    To verify the re-configuration of Macro cell with the ABS
#                information. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.4">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify the re-configuration of Macro cell with the ABS
          information."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="0:0:0:0:0:0:0:0:0:0"
         absPattern4="0:0:0:0:0:0:0:0:0:0"/>
     </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue instId="5"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

  #Sending RGR CELL Configuration
  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(4096)
  <tapa.send>
	 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
	 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
	 rgrFeatureAbs="1" isAbsEnabled="0" dlSchdType="2" ulSchdType="2"/>
  </tapa.send>

  <tapa.send>
	 # Send TTI
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>  

   <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
   </tapa.expect>     
 
  #Expect positive Configuration Confirm from LTEMAC
  <tapa.expect>
	 <tapa.rgr.cfgCfm instId="5"/>
  </tapa.expect>

  <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
  </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#       Test:    26.5
#
#       Desc:    To verify that an ABS UE could be marked as non-ABS UE using UE
#                Reconfiguration.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.5">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that an ABS UE could be marked as non-ABS UE using UE
          Reconfiguration."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
     </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
         </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1"
      newUeId="1" pres="1" isAbsUe="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
     
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>
      
      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
        
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
      
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="0"/>
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
    
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

 
#
#       Test:    26.6
#
#       Desc:    To verify that a non-ABS UE could be marked as an ABS UE using
#                UE Reconfiguration.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.6">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that a non-ABS UE could be marked as an ABS UE using
          UE Reconfiguration."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
       </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
         </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1"
      newUeId="1" pres="1" isAbsUe="0" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
     
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>
      
      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
       
        <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
        
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="0"/>
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
    
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>


#
#       Test:    26.7
#
#       Desc:    To verify that cell configuration fails if the pattern type
#                provided is other than the RGR_ABS_MUTE or RGR_ABS_TRANSMIT. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.7">
 # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
      "To verify that cell configuration fails if the pattern type
       provided is other than the RGR_ABS_MUTE or RGR_ABS_TRANSMIT"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="13" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
    
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    26.8
#
#       Desc:    To verify that cell re-configuration fails if the pattern type
#                provided is other than the RGR_ABS_MUTE or RGR_ABS_TRANSMIT. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.8">
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
        "To verify that cell re-configuration fails if the pattern type
         provided is other than the RGR_ABS_MUTE or RGR_ABS_TRANSMIT."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="0:0:0:0:0:0:0:0:0:0"
         absPattern4="0:0:0:0:0:0:0:0:0:0"/>
     </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue instId="5"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

  #Sending RGR CELL Configuration
  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(4096)
  <tapa.send>
	 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
	 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
	 rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="15" dlSchdType="2" ulSchdType="2"
	 
	 absPattern1="1:1:1:1:1:1:1:1:1:1"
	 absPattern2="1:1:1:1:1:1:1:1:1:1"
	 absPattern3="1:1:1:1:1:1:1:1:1:1"
	 absPattern4="1:1:1:1:1:1:1:1:1:1"/>
  </tapa.send>

  <tapa.send>
	 # Send TTI
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>  

  <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
   </tapa.expect>     
 
  #Expect positive Configuration Confirm from LTEMAC
  <tapa.expect>
	 <tapa.rgr.cfgCfm instId="5" status="15"/>
  </tapa.expect>

  <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
  </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    26.9
#
#       Desc:    To verify that cell configuration fails if the ABS Pattern is
#                provided with invalid values, other than 0 and 1: Pico Cell.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.9">

# Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
      "To verify that cell configuration fails if the ABS Pattern is
       provided with invalid values, other than 0 and 1: Pico Cell."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
     #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="2:3:0:5:9:9:6:8:3:1"
         absPattern2="2:4:7:7:4:3"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
    
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    26.10
#
#       Desc:    To verify that cell re-configuration fails if the ABS Pattern is
#                provided with invalid values, other than 0 and 1: Pico Cell.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.10">

# Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that cell re-configuration fails if the ABS Pattern is provided
          with invalid values, other than 0 and 1: Pico Cell."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="0:0:0:0:0:0:0:0:0:0"
         absPattern4="0:0:0:0:0:0:0:0:0:0"/>
     </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue instId="5"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

  #Sending RGR CELL Configuration
  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(4096)
  <tapa.send>
	 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
	 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
	 rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
	 
	 absPattern1="2:3:0:5:9:9:6:8:3:1"
	 absPattern2="2:4:7:7:4:3"/>
  </tapa.send>

  <tapa.send>
	 # Send TTI
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>  
  <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
   </tapa.expect>     
 
  #Expect positive Configuration Confirm from LTEMAC
  <tapa.expect>
	 <tapa.rgr.cfgCfm instId="5" status="15"/>
  </tapa.expect>

  <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
  </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    26.11
#
#       Desc:    To verify that cell configuration fails if the ABS Pattern is
#                provided with invalid values, other than 0 and 1 : Macro Cell. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.11">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that cell configuration fails if the ABS Pattern is
#         provided with invalid values, other than 0 and 1 : Macro Cell." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>
   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
     #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="2:3:0:5:9:9:6:8:3:1"
         absPattern2="2:4:7:7:4:3"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expect>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
    
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    26.12
#
#       Desc:    To verify that cell re-configuration fails if the ABS Pattern is
#                provided with invalid values, other than 0 and 1: Macro Cell.  
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.12">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that cell re-configuration fails if the ABS Pattern is
          provided with invalid values, other than 0 and 1: Macro Cell." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>
  # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="0:0:0:0:0:0:0:0:0:0"
         absPattern4="0:0:0:0:0:0:0:0:0:0"/>
     </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue instId="5"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

  #Sending RGR CELL Configuration
  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(4096)
  <tapa.send>
	 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
	 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
	 rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
	 
	 absPattern1="2:3:0:5:9:9:6:8:3:1"
	 absPattern2="2:4:7:7:4:3"/>
  </tapa.send>

  <tapa.send>
	 # Send TTI
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>  
  <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
   </tapa.expect>     
 
  #Expect positive Configuration Confirm from LTEMAC
  <tapa.expect>
	 <tapa.rgr.cfgCfm instId="5" status="15"/>
  </tapa.expect>

  <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
  </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    26.13
#
#       Desc:    To verify that a UE is a cell centre UE by default.  
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.13">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that a UE is a cell centre UE by default."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue instId="5"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
        
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    26.14
#
#       Desc:    To verify that MAC sends Load Info Indication to application
#                after the configured Load Periodicity in a pico cell.   
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.14">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that MAC sends Load Info Indication to application after the
          configured Load Periodicity in a pico cell." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2"
         ulSchdType="2" absLoadPeriodicity="23"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>

# Load Periodicity should be a non zero value for the Load Info to be triggered.

      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue instId="5" isAbsUe="1"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
# Load Info Indication is received in this TTI after Load Periodicity expires.
     <tapa.expect>
         <tapa.rgr.loadInfInd instId="5"/>
      </tapa.expect>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
 
  </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.15
#
#       Desc:    To verify the scheduling priority among 2 UEs in a Pico cell. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.15">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify the scheduling priority among 2 UEs in a Pico cell." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
		 
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
	  
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.16
#
#       Desc:    To verify the scheduling priority among 3 UEs in a Pico cell. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.16">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "   To verify the scheduling priority among 3 UEs in a Pico cell." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
        
         </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isAbsUe="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="5" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="6" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="5" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="6" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="5" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="6" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="5" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="6" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="5" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="6" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="5" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="6" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="5" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="6" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="5" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="6" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>
      
      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="5" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="6" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
    
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="3:4:5:6" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="3:4:5:6" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="4" lchTb1Data="3:4:5:6" />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.17
#
#       Desc:    To verify the scheduling priority among 4 UEs in a Pico cell. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.17">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify the scheduling priority among 4 UEs in a Pico cell." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         -->
     </tapa.send>
      
     #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

	  # UE Creation
      <tapa.rg.4UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isAbsUe="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="3" instId="5" isAbsUe="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
         <tapa.rgr.cfgCfm ueId="3" instId="5"/>
      </tapa.expset>
	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>
      
      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE4 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="20"/>
      </tapa.send>
      
      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="2" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="3" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="4" bo="20"/>
      </tapa.send>
      
      #Send BO for UE4
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="3" lcId="1" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="3" lcId="2" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="3" lcId="3" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="3" lcId="4" bo="20"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   <!-- 
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="3" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      -->
      <tapa.expset>
         <tapa.rgu.dstaind ueId="0" numLchTb1="3" lchTb1Data="1:2:3" />
         <tapa.rgu.dstaind ueId="2" numLchTb1="4" lchTb1Data="1:2:3:4" />
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
         <tapa.rgu.dstaind ueId="3" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    26.18
#
#       Desc:    To verify retransmission of a non ABS UE gets priority over new
#                transmission of a ABS UE: ABS Pattern 1.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.18">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify retransmission of a non ABS UE gets priority over new
          transmission of a ABS UE: ABS Pattern 1."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
     </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
	# Expect staInd from MAC to RLC for Msg4 for UE1
      	<tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
      	<tapa.tfu.cntrl.req>
      		<tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
     	 </tapa.tfu.cntrl.req>
      	<tapa.tfu.dat.req>
      		<tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
      	</tapa.tfu.dat.req>
      </tapa.expset>         

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>

    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.19
#
#       Desc:    To verify retransmission of a non ABS UE gets priority over new
#                transmission of a ABS UE: ABS Pattern 2.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.19">

# Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify retransmission of a non ABS UE gets priority over new
          transmission of a ABS UE: ABS Pattern 2."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:1:0:1:0:1:0:1:0:1"
         absPattern2="0:1:0:1:0:1:0:1:0:1"
         absPattern3="0:1:0:1:0:1:0:1:0:1"
         absPattern4="0:1:0:1:0:1:0:1:0:1"/>
         
         </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
	# Expect staInd from MAC to RLC for Msg4 for UE1
      	<tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
      	<tapa.tfu.cntrl.req>
      		<tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
     	 </tapa.tfu.cntrl.req>
      	<tapa.tfu.dat.req>
      		<tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
      	</tapa.tfu.dat.req>
      </tapa.expset>         

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>

    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

   
#
#
#       Test:    26.20
#
#       Desc:    To verify retransmission of a ABS UE gets priority over
#                retransmission of a non ABS UE: ABS Pattern 1.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.20">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify retransmission of a ABS UE gets priority over
          retransmission of a non ABS UE: ABS Pattern 1."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
         </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1"
      newUeId="1" pres="1" isAbsUe="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
     
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>
      
      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
        <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="0"/>
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
       
      #Expect Buffer status Indication of cell edge Ue first(UE1 is cell edge UE since
      #it is reconfigured)
      #<tapa.expect>
       # <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
     # </tapa.expect>
      
     # <tapa.expect>
     #   <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
     # </tapa.expect>
        
      #<tapa.expset>
      #  <tapa.tfu.dat.req>   
      #     <tapa.tfu.pdsch.dat.req ueId="0"/>
      #     <tapa.tfu.pdsch.dat.req ueId="1"/>
      #  </tapa.tfu.dat.req>
      ##</tapa.expset>
    
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.21
#
#       Desc:    To verify retransmission of a ABS UE gets priority over
#                retransmission of a non ABS UE: ABS Pattern 2.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.21">

# Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify retransmission of a ABS UE gets priority over
          retransmission of a non ABS UE: ABS Pattern 2."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:0:1:0:1:0:1:0:1:0"
         absPattern2="1:0:1:0:1:0:1:0:1:0"
         absPattern3="1:0:1:0:1:0:1:0:1:0"
         absPattern4="1:0:1:0:1:0:1:0:1:0"/>
                  
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
         </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1"
      newUeId="1" pres="1" isAbsUe="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
     
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>
      
      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
        <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="0"/>
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
       
      #Expect Buffer status Indication of cell edge Ue first(UE1 is cell edge UE since
      #it is reconfigured)
      #<tapa.expect>
      #  <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      #</tapa.expect>
      
      #<tapa.expect>
      #  <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      #</tapa.expect>
        
      #<tapa.expset>
      #  <tapa.tfu.dat.req>   
      #     <tapa.tfu.pdsch.dat.req ueId="0"/>
      #     <tapa.tfu.pdsch.dat.req ueId="1"/>
      #  </tapa.tfu.dat.req>
      #</tapa.expset>
    
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    26.22
#
#       Desc:    To verify retransmission of a non ABS UE reconfigured as ABS UE
#                gets priority over retransmission of an ABS UE reconfigured as non ABS:
#                ABS Pattern 1.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.22">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
      "To verify retransmission of a non ABS UE reconfigured as ABS UE
       gets priority over retransmission of an ABS UE reconfigured as
       non ABS:ABS Pattern 1."

      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
     </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
         </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1"
      newUeId="1" pres="1" isAbsUe="0" UeReCfgType="2097152"/>
      </tapa.send>

	  <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="11" newcrnti="11" oldUeId="0"
      newUeId="0" pres="1" isAbsUe="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expset>
      <tapa.rgr.cfgCfm instId="5"/>
	  <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

	  
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
        <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="0"/>
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
       
      #Expect Buffer status Indication of cell edge Ue first(UE1 is cell edge UE since
      #it is reconfigured)
      #<tapa.expect>
      ##  <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      #</tapa.expect>
      
      #<tapa.expect>
      #  <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      #</tapa.expect>
        
      #<tapa.expset>
      #  <tapa.tfu.dat.req>   
      #     <tapa.tfu.pdsch.dat.req ueId="0"/>
      #     <tapa.tfu.pdsch.dat.req ueId="1"/>
      #  </tapa.tfu.dat.req>
      #</tapa.expset>
    
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.23
#
#       Desc:    To verify retransmission of a non ABS UE reconfigured as ABS UE
#                gets priority over retransmission of an ABS UE reconfigured as non ABS:
#                ABS Pattern 2.
#       
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.23">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify retransmission of a non ABS UE reconfigured as ABS UE
          gets priority over retransmission of an ABS UE reconfigured as
          non ABS:ABS Pattern 2."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="0:1:0:1:0:1:0:1:0:1"
         absPattern2="0:1:0:1:0:1:0:1:0:1"
         absPattern3="0:1:0:1:0:1:0:1:0:1"
         absPattern4="0:1:0:1:0:1:0:1:0:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>
      
      #tick(2,1) = 21 ms
      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     #tick(2,2) = 22 ms
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     #tick(2,3) = 23 ms
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
#Anshika - Sending a TTI here such that ABS Ue gets scheduled first 
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
         </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      #tick(2,4) = 24 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      #tick(2,4) = 25 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
     
      #tick(2,9) = 29th ms
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      #tick(3,1) = 31th ms
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1"
      newUeId="1" pres="1" isAbsUe="0" UeReCfgType="2097152"/>
      </tapa.send>

	  <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="11" newcrnti="11" oldUeId="0"
      newUeId="0" pres="1" isAbsUe="1" UeReCfgType="2097152"/>
      </tapa.send>

      #tick(3,2) = 32nd ms
      # Send TTI to apply the config
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expset>
      <tapa.rgr.cfgCfm instId="5"/>
	   <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>
    
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      #tick(3,3) = 33rd ms
      # send TTI to schedule retx data
      #33rd ms is ABS so need to give priority to celledge UE.
      #UE2 is reconfigured as cell center UE
      #UE1 is reconfigured as cell edge UE
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      #tick(3,4) = 34th ms
      #34th ms is non ABS so no need to give priority to celledge UE.
	  #Process the UEs in the order they have reported BO.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
        <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="0"/>
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
       
      #Expect Buffer status Indication of cell edge Ue first(UE1 is cell edge UE since
      #it is reconfigured)
      ##<tapa.expect>
      #  <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      #</tapa.expect>
      
      #<tapa.expect>
      #  <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      #</tapa.expect>
        
      #<tapa.expset>
      #  <tapa.tfu.dat.req>   
      #     <tapa.tfu.pdsch.dat.req ueId="0"/>
      #     <tapa.tfu.pdsch.dat.req ueId="1"/>
      #  </tapa.tfu.dat.req>
      #</tapa.expset>
    
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.24
#
#       Desc:    To verify that Macro does not schedules its UEs in ABS
#                subframes.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.24">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that Macro does not schedules its UEs in ABS subframes."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
		 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
	  
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.25
#
#       Desc:    To verify that Macro schedules its UEs in non ABS subframes.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.25">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that Macro schedules its UEs in non ABS subframes." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
		 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:1:0:1:0:1:0:1:0:1"
         absPattern2="0:1:0:1:0:1:0:1:0:1"
         absPattern3="0:1:0:1:0:1:0:1:0:1"
         absPattern4="0:1:0:1:0:1:0:1:0:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
	  
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.26
#
#       Desc:    To verify that Macro schedules BCCH/PBCH/SIB1 data in both ABS
#                and non ABS subframes.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.26">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that Macro schedules BCCH/PBCH/SIB1 data in both ABS
         and non ABS subframes."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
	      absPattern1="0:1:0:1:0:1:0:1:0:1"
         absPattern2="0:1:0:1:0:1:0:1:0:1"
         absPattern3="0:1:0:1:0:1:0:1:0:1"
         absPattern4="0:1:0:1:0:1:0:1:0:1"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5"/>
      </tapa.send>

	  #tick(2,1) = 21 ms
      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     #tick(2,2) = 22 ms
	 # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     #tick(2,3) = 23 ms
	 # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>
	  
      #tick(2,4) = 24 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
	  #tick(2,5) = 25 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      #tick(2,9) = 29th ms
	  <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      #tick(3,2) = 32nd ms
	  <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

	  #tick(3,3) = 33rd ms(ABS subframe)
	  #ABS pattern = {0,1......20 times}
	  #cell = Macro cell
	  #current subframe is ABS subframe so Macro should not schedule ReTx + New Tx data in this subframe
	  <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
	  #tick(3,4) = 34th ms(Non ABS subframe)
	  <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  
      <tapa.expect>
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
	  #tick(3,5) = 35th ms(ABS subframe)
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/> 
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/> 
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>

    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.27
#
#       Desc:    To verify if the pattern type is RGR_ABS_MUTE, then even though
#                there is a DL CCCH data, the schedular does not schedule any.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.27">

# Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify if the pattern type is RGR_ABS_MUTE, then even though
          there is a DL CCCH data, the schedular does not schedule any."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
		 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
	  
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    26.28
#
#       Desc:    To verify if the pattern type is RGR_ABS_MUTE,even if there is
#                a pending RACH response, the schedular doesnot schedule any.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.28">

# Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
        "To verify if the pattern type is RGR_ABS_MUTE,even if there is
         a pending RACH response, the schedular doesnot schedule any."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
		 
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>

                 
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
	   <tapa.tfu.directive ulDeltaPrsnt="TRUE"/>
         # Send RaReqInd for one rapId 
      <!--tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send-->
      <tapa.send>
         <tapa.tfu.rareq.ind numRaRnti="1" suId="0">
            <tapa.tfu.rareq  numRapId="1" rapIds="1" timingAdvs="3"
               tpcs="1" cqiPres="TRUE" cqis="4"/>
         </tapa.tfu.rareq.ind>
      </tapa.send>

      # Ue starts expecting raResp after 3 subframes within the raResp window.
      # In this TC, it shall expect raResp in the first subframe after 3 Ttis.
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
# Since it is a Macro with all subframes muted in the above pattern, after
# sending a RACH request followed by 2TTIs, no RACH response is received.    
      </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

 

#
#
#       Test:    26.29
#
#       Desc:    To verify that Macro schedules retransmission data for its UE
#                in non ABS subframes.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.29">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To verify that Macro schedules retransmission data for its UE
          in non ABS subframes."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
	      absPattern1="0:1:0:1:0:1:0:1:0:1"
         absPattern2="0:1:0:1:0:1:0:1:0:1"
         absPattern3="0:1:0:1:0:1:0:1:0:1"
         absPattern4="0:1:0:1:0:1:0:1:0:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5"/>
      </tapa.send>

	  #tick(2,1) = 21 ms
      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     #tick(2,2) = 22 ms
	 # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     #tick(2,3) = 23 ms
	 # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>
	  
      #tick(2,4) = 24 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
	  #tick(2,5) = 25 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      #tick(2,9) = 29th ms
	  <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      #tick(3,2) = 32nd ms
	  <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

	  #tick(3,3) = 33rd ms(ABS subframe)
	  #ABS pattern = {0,1......20 times}
	  #cell = Macro cell
	  #current subframe is ABS subframe so Macro should not schedule ReTx + New Tx data in this subframe
	  <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
	  #tick(3,4) = 34th ms(Non ABS subframe)
	  <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  
      <tapa.expect>
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
	  #tick(3,5) = 35th ms(ABS subframe)
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/> 
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/> 
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>

    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.30
#
#       Desc:    To verify multi TTI scheduling in a pico cell.
#       
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.30">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
      "To verify multi TTI scheduling in a pico cell."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
         </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
		 # lcType = 5 it is DCCH
		 # lcType = 4 it is DTCH
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

	 <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>
	 
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

	 <tapa.repeat.start repeatCount="20"/>
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>
      
	  #Initial TTI=(2,3)=23ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
		 # Expect staInd from MAC to RLC for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" />
      </tapa.expect>
      
	  
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
	  
	  #TTI=(2,4) = 24ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req> 
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
	  #TTI=(2,8)
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
	  
	  #TTI=(3,1)
      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="TRUE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
	  <tapa.repeat.end/>
	  
    # Load Info Indication is received in this TTI after Load Periodicity of
    # 200ms expires.
     <tapa.expect>
         <tapa.rgr.loadInfInd instId="5"/>
      </tapa.expect>
 
	</tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.31
#
#       Desc:    To verify multi TTI scheduling in a macro cell.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.31">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
      "To verify multi TTI scheduling in a macro cell."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="1" dlSchdType="2" ulSchdType="2"
         
         absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="0:0:0:0:0:0:0:0:0:0"
         absPattern4="0:0:0:0:0:0:0:0:0:0"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
		 # lcType = 5 it is DCCH
		 # lcType = 4 it is DTCH
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

	 <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>
	 
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

	 <tapa.repeat.start repeatCount="20"/>
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>
      
	  #Initial TTI=(2,3)=23ms,(3,2) = 32ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
		 # Expect staInd from MAC to RLC for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" />
      </tapa.expect>
      
	  
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
	  
	  #TTI=(2,4) = 24ms = 33ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req> 
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
	  #TTI=(2,8)
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
	  
	  #TTI=(3,1)
      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="TRUE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
	  <tapa.repeat.end/>
	  
    # Load Info Indication is received in this TTI after Load Periodicity of
    # 200ms expires.
     <tapa.expect>
         <tapa.rgr.loadInfInd instId="5"/>
      </tapa.expect>
    
	</tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.32
#
#       Desc:    To verify non ABS UE's max retransmission collision with BCCH.
#       
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.32">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
      "To verify non ABS UE's max retransmission collision with BCCH."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
		 # lcType = 5 it is DCCH
		 # lcType = 4 it is DTCH
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="350"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
		 # Expect staInd from MAC to RLC for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" />
      </tapa.expect>
      
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
	  
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req> 
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #TTI(3,2)
      #In this TTI it will not allocate reTx data because it will collide with BCH/PSS/SSS (3,2+RG_SCH_CMN_DL_DELTA)
	  #check rgSCHCmnRetxAllocAvoid
	  #It can schedule new Tx Data if present	  
	  <tapa.send>
        # Send a Tti to make allocation for retransmission
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      #TTI(3,3)
      <tapa.send>
        # Send a Tti to get ReTx data
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      #TTI(3,4)
      <tapa.send>
        # Send a Tti to get ReTx data
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	 <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>	  

	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>	  
      
	  #TTI(4,2)
      #In this TTI it will not allocate reTx data because it will collide with BCH/PSS/SSS (3,2+RG_SCH_CMN_DL_DELTA)
	  #check rgSCHCmnRetxAllocAvoid
	  #It can schedule new Tx Data if present	  
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
     </tapa.expect>
	 <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
    </tapa.expect>

     <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>	

	  #TTI(5,2)
      #In this TTI it will not allocate reTx data because it will collide with BCH/PSS/SSS (3,2+RG_SCH_CMN_DL_DELTA)
	  #check rgSCHCmnRetxAllocAvoid
	  #It can schedule new Tx Data if present	 	
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>		
      </tapa.send>
	 # Maximum retransmission reached here
	 <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
     	 
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.33
#
#       Desc:    To verify ABS UE's max retransmission collision with BCCH.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.33">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
        "To verify ABS UE's max retransmission collision with BCCH."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
       </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
		 # lcType = 5 it is DCCH
		 # lcType = 4 it is DTCH
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="3" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="3" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

   	  #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="3" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="3" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="350"/>
      </tapa.send>

 
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
  
     <tapa.expect>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" />
      </tapa.expect>
      
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
	  
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
	  
	<tapa.repeat.start repeatCount="2"/>
	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	 <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
		<tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1"
      newUeId="1" pres="1" isAbsUe="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
		<tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
	  
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>	  
	<tapa.repeat.end/>

	  # send BO for UE1 
	  <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>
	  
	  
	  # send BO for UE1 
	  <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>
	  
	  
	  # send BO for UE2
	  <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

	  # send BO for UE2 
	  <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>
	  
	  
      #TTI(5,2)
      In this TTI it will not allocate reTx data because it will collide with BCH/PSS/SSS (5,2+RG_SCH_CMN_DL_DELTA)
	  #It can schedule new Tx Data if present
  	  
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
      <tapa.expect>
		 # Expect staInd from MAC to RLC for Msg4 for UE2
		 <tapa.rgu.dstaind ueId="1" numLchTb1="2" lchTb1Data="1:3" />
	  </tapa.expect>	  
	
	  
	  <tapa.expect>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="2" lchTb1Data="1:3" />
	  </tapa.expect>	  
	  

	  #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="2" lchTb1Data="1,0,1:3,0,1"/>
      </tapa.send>

	  #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE2
         <tapa.rgu.ddatreq ueId="0" numLchTb1="2" lchTb1Data="1,0,1:3,0,1"/>
      </tapa.send>

  
	  # send TTI(5,3)
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.here reTx allocation done
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

   <tapa.expset>
     <tapa.tfu.cntrl.req>
        <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
        <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
     </tapa.tfu.cntrl.req>
     <tapa.tfu.dat.req>
        <tapa.tfu.pdsch.dat.req ueId="0" use="2" validate="TRUE"/>
        <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
     </tapa.tfu.dat.req>
   </tapa.expset>

	  # send TTI(5,4)
 	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	 #Maximum retransmission has been reached here(maximum 4 retransmission)
     <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
     </tapa.expect>
	 <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
    </tapa.expect>
##########################

     <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
			<tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
	  
	  <tapa.send>
      # Send a 4 TTIs to get the harqrecpRequest from MAC
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
			<tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
		</tapa.tfu.hq.ind>
      </tapa.send>
	  
	  #TTI(6,2)
      <tapa.send>
      # Send a TTI
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
    <tapa.expset>
      <tapa.tfu.cntrl.req>
         <tapa.tfu.pdcch.cntrl.req ueId="0" />
         <tapa.tfu.pdcch.cntrl.req ueId="1" />
      </tapa.tfu.cntrl.req>
      <tapa.tfu.dat.req>
         <tapa.tfu.pdsch.dat.req ueId="0" use="2" validate="TRUE"/>
         <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
      </tapa.tfu.dat.req>
    </tapa.expset>
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.34
#
#       Desc:    To verify the scheduling of ABS and non ABS UEs after disabling
#                ABS in cell reconfiguration. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.34">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
        "To verify the scheduling of ABS and non ABS UEs after disabling
         ABS in cell reconfiguration."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
		 
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
       <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
	  
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

#Sending RGR CELL Configuration
  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(8192)
  <tapa.send>
	 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
	 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
	 rgrFeatureAbs="1" isAbsEnabled="0" dlSchdType="2"
    ulSchdType="2"/>
	 
  </tapa.send>

  <tapa.send>
	 # Send TTI
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>  

  <tapa.expset>
      	<tapa.tfu.cntrl.req>
      		<tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
     	 </tapa.tfu.cntrl.req>
      	<tapa.tfu.dat.req>
      		<tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
      	</tapa.tfu.dat.req>
  #Expect positive Configuration Confirm from LTEMAC
	     <tapa.rgr.cfgCfm instId="5"/>
  </tapa.expset>         

  #Send BO for UE1
  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
  </tapa.send>

  #Send BO for UE2
  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send a Tti to get the transmission scheduled. 
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>

  <tapa.expect>
	 # Expect staInd from MAC to RLC for Msg4 
	 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
  </tapa.expect>
  
  <tapa.expect>
	 # Expect staInd from MAC to RLC for Msg4 
	 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
  </tapa.expect>	  

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    26.35
#
#       Desc:    To verify the scheduling of ABS and non ABS UEs after enabling
#                ABS in cell reconfiguration. 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.35">
   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
        "To verify the scheduling of ABS and non ABS UEs after enabling
         ABS in cell reconfiguration."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
		 
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
       <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         dlSchdType="2" ulSchdType="2"/>
         
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
	  
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

#Sending RGR CELL Configuration
  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(8192)
  <tapa.send>
	 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
	 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
	 rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
	 
  </tapa.send>

  <tapa.send>
	 # Send TTI
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>  

  <tapa.expset>
      	<tapa.tfu.cntrl.req>
      		<tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
     	 </tapa.tfu.cntrl.req>
      	<tapa.tfu.dat.req>
      		<tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
      	</tapa.tfu.dat.req>
  #Expect positive Configuration Confirm from LTEMAC
	     <tapa.rgr.cfgCfm instId="5"/>
  </tapa.expset>         

  <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1"
      newUeId="1" pres="1" isAbsUe="1" UeReCfgType="2097152"/>
  </tapa.send>

      # Send TTI to apply the config 
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

   #Expect success in cfg cfm
      <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>


  #Send BO for UE1
  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
  </tapa.send>

  #Send BO for UE2
  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send BO for the created logical channel on RGU. 
	 <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
  </tapa.send>

  <tapa.send>
	 # Send a Tti to get the transmission scheduled. 
	 <tapa.tfu.tti.ind numTti="1"/>
  </tapa.send>

  <tapa.expect>
	 # Expect staInd from MAC to RLC for Msg4 
	 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
  </tapa.expect>
  
  <tapa.expect>
	 # Expect staInd from MAC to RLC for Msg4 
	 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
  </tapa.expect>	  

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.36
#
#       Desc:    To verify the scheduling priority among 3 UEs in a Pico cell:
#                PFS Scheduler. 
#
#       Notes:   None
#              
#       Module:  "PFS SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.36">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
        "To verify the scheduling priority among 3 UEs in a Pico cell:
         PFS Scheduler."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="1"
         ulSchdType="1" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
        
         </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isAbsUe="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="5" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="6" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" dlQci="5" lcId="5" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" dlQci="5" lcId="6" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="5" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="6" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" dlQci="5" lcId="5" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" dlQci="5" lcId="6" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="5" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="6" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" dlQci="5" lcId="5" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" dlQci="5" lcId="6" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="5" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="6" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="5" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="6" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>
      
      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="5" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="6" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
    
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="3:4:5:6" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="3:4:5:6" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="4" lchTb1Data="3:4:5:6" />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    26.37
#
#       Desc:    To verify retransmission of a non ABS UE gets priority over new
#                transmission of a ABS UE: PFS Scheduler.
#
#       Notes:   None
#
#       Module:  "PFS SCH"
#
#       File:    rgac_tc26.xml
#
#
<tapa.testcase id="26.37">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
        "To verify retransmission of a non ABS UE gets priority over new
         transmission of a ABS UE: PFS Scheduler."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="1" isAbsEnabled="1" absPatternType="2" dlSchdType="1"
         ulSchdType="1"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"/>
         
     </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isAbsUe="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isAbsUe="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
	# Expect staInd from MAC to RLC for Msg4 for UE1
      	<tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
      	<tapa.tfu.cntrl.req>
      		<tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
     	 </tapa.tfu.cntrl.req>
      	<tapa.tfu.dat.req>
      		<tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
      	</tapa.tfu.dat.req>
      </tapa.expset>         

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>

    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>


# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend
 
#/********************************************************************30**
#
#         End of file:     rgac_tc15.xml@@/main/1 - Thu Mar 26 01:11:03 2009
#
#*********************************************************************31*/
#/**********************************************************************
#        Revision History:
#
#**********************************************************************/
#/********************************************************************90**
# 
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#/main/1      ---     sm   1. Initial Release.
#$SID$         ---     sm   1. Initial Release.
#             rg004.201 rnt  1. Modified for SI Enhancement
#$SID$        ---     gvj  1. LTE MAC 3.1 Release
#*********************************************************************91*/
