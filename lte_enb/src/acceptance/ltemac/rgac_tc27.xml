#
#/********************************************************************20**
#
#     Name:    LTE-MAC 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Cases For SFR test with RR scheduler 
#
#     File:    rgac_tc27.xml
#
#     Sid:     rgac_tc27.xml@@/main/1 - Tues Feb 26 12:53:03 2013
#
#     Prg:     vmahanka
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=5:hn:rgac_tc27.xml
#
#
#       Test:    27.1
#
#       Desc:    Verify Pool related params after cell config
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.1">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify Pool related params after cell config" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"
 
         isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1" 
 
   	 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3"  />
      
	</tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
         
         CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   
         />
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="1"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100"/>
      </tapa.expect>

  </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.2
#
#       Desc:    Verify that 4UEs are scheduled in the reported BO order 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.2">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that 4UEs are scheduled in the reported BO order with SFR enabled" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
         
         CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   
         />
      </tapa.expect>

      
	  # UE Creation
      <tapa.rg.4UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="3" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
         <tapa.rgr.cfgCfm ueId="3" instId="5"/>
      </tapa.expset>
	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE4 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="64"/>
      </tapa.send>

	  #Send BO for UE4
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="3" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
<!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="3" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      -->
      <tapa.expset>
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
         <tapa.rgu.dstaind ueId="3" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>
    </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.3
#
#       Desc:    Common Ch Allocatio:Check if the pools variables are adjusted correctly
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.3">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Common Ch Allocatio:Check if the pools variables are adjusted correctly" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
		 
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"

		 isSfrEnabled="1" cellEdgeStartRb="10" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3"/>
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="10"   
         CEPoolEndRb="99"   
         CEPoolBw="90"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="10"   
         CEPoolType2End="3"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="9"   
         CCPool1Bw="10"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="1"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.ccch.bo/>
	  
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
      </tapa.send>

      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100"/>
      </tapa.expect>
    </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.4
#
#       Desc:    CC UE takes CE BW if available
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.4">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that CC UE takes CE BW if available" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="20" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="20"   
         CEPoolEndRb="99"   
         CEPoolBw="80"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="20"   
         CEPoolType2End="5"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="19"   
         CCPool1Bw="20"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="4"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="10000"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
<!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="20"
          cellEdgeEndRb="99" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      -->
      <tapa.expset>
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="20"
          cellEdgeEndRb="99" bw="100"/>
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.5
#
#       Desc:    Verify that CE UE should not take CC BW even if available
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.5">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that CE UE should not take CC BW even if available" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="20" cellEdgeEndRb="25" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="20"   
         CEPoolEndRb="25"   
         CEPoolBw="6"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="20"   
         CEPoolType2End="5"   
         CEPoolType0End="5"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="19"   
         CCPool1Bw="20"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="4"   

         CCPool2StartRb="26"   
         CCPool2EndRb="99"   
         CCPool2Bw="74"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="26"   
         CCPool2Type2End="7"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="10000"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      #As part of 4 Ue/TTI feature 2 will be schduled first and Ue 1 will not
      #allocated as cell edge RB are consumed by Ue 2
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="20"
          cellEdgeEndRb="25" bw="100"/>
      </tapa.expect>
      <!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="20"
          cellEdgeEndRb="25" bw="100"/>
      </tapa.expect>
-->
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.6
#
#       Desc:    CC UE takes either another CC pool or CE pool whichever is more
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.6">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "CC UE takes either another CC pool or CE pool whichever is more" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="10" cellEdgeEndRb="89" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="10"   
         CEPoolEndRb="89"   
         CEPoolBw="80"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="10"   
         CEPoolType2End="3"   
         CEPoolType0End="21"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="9"   
         CCPool1Bw="10"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="1"   

         CCPool2StartRb="90"   
         CCPool2EndRb="99"   
         CCPool2Bw="10"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="90"   
         CCPool2Type2End="23"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="10000"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="2000"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

<!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="10"
          cellEdgeEndRb="89" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      -->
      <tapa.expset>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="10"
          cellEdgeEndRb="89" bw="100"/>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>


   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.7
#
#       Desc:    CC UE takes either another CC pool or CE pool whichever is more
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.7">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "CC UE takes either another CC pool or CE pool whichever is more" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="80" cellEdgeEndRb="94" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="80"   
         CEPoolEndRb="94"   
         CEPoolBw="15"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="80"   
         CEPoolType2End="20"   
         CEPoolType0End="22"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="79"   
         CCPool1Bw="80"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="19"   

         CCPool2StartRb="95"   
         CCPool2EndRb="99"   
         CCPool2Bw="5"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="95"   
         CCPool2Type2End="24"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="10000"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="2000"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

<!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="80"
          cellEdgeEndRb="94" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      -->
      <tapa.expset>
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="80"
          cellEdgeEndRb="94" bw="100"/>
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.8
#
#       Desc:    CC UE takes either another CC pool or CE pool whichever is more
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.8">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "CC UE takes either another CC pool or CE pool whichever is more" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="5" cellEdgeEndRb="20" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="0"
		
    	 CEPoolStartRb="20"   
         CEPoolEndRb="30"   
         CEPoolBw="21"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="5"   
         CEPoolType2End="2"   
         CEPoolType0End="4"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="4"   
         CCPool1Bw="5"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="0"   

         CCPool2StartRb="21"   
         CCPool2EndRb="99"   
         CCPool2Bw="79"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="21"   
         CCPool2Type2End="6"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="10000"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="2000"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

<!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="5"
          cellEdgeEndRb="20" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      -->
      #As part of 4UE/TTI grant can come in any order of UE
      <tapa.expset>
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="5"
          cellEdgeEndRb="20" bw="100"/>
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.9
#
#       Desc:    All pools are equal/Based on RIV value we can validate from which pool allocation has happened
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.9">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "All pools are equal/Based on RIV value we can validate from which pool allocation has happened" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="40" cellEdgeEndRb="79" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="40"   
         CEPoolEndRb="79"   
         CEPoolBw="40"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="40"   
         CEPoolType2End="10"   
         CEPoolType0End="19"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="39"   
         CCPool1Bw="40"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="9"   

         CCPool2StartRb="80"   
         CCPool2EndRb="99"   
         CCPool2Bw="20"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="80"   
         CCPool2Type2End="20"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="320"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="320"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="340"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="40"
          cellEdgeEndRb="79" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.10
#
#       Desc:    UE reconfig:CC to CE and CE to CC (Power changes)
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.10">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "UE reconfig:CC to CE and CE to CC (Power changes)"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      
      #tick(2,1) = 21 ms
      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     #tick(2,2) = 22 ms
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>
	       
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     #tick(2,3) = 23 ms
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      #tick(2,4) = 24 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100"/>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
      
      #tick(2,4) = 25 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
     
      #tick(2,9) = 29th ms
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      #tick(3,1) = 31th ms
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1" newUeId="1" isUeCellEdge="0" UeReCfgType="2097152"/>
      </tapa.send>

	  <tapa.send>
      # Send Reconfig request to UE1 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="11" newcrnti="11" oldUeId="0" newUeId="0" isUeCellEdge="1" UeReCfgType="2097152"/>
      </tapa.send>

      #tick(3,2) = 32nd ms
      # Send TTI to apply the config
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expset>
      <tapa.rgr.cfgCfm instId="5"/>
	  <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="TRUE"/>
            <tapa.tfu.hq ueId="1" isAck="TRUE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      #UE2 is reconfigured as cell center UE
      #UE1 is reconfigured as cell edge UE
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  #Expect Buffer status Indication of cell edge Ue first(UE1 is cell edge UE since
      #it is reconfigured)
      <tapa.expect>
        <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
        <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
      
      #tick(2,4) = 25 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>
	  
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.11
#
#       Desc:    Requesting for Max allocation(ex:more than 100RBs for 20Mhz)
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.11">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Requesting for Max allocation(ex:more than 100RBs for 20Mhz)" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" maxDlBwPerUe="100"
 
         isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1" 
 
   	 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3"  />
      
	</tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64000"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
      </tapa.expect>

  </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.12
#
#       Desc:    Verify that re-tx UEs are scheduled ahead of new-tx UEs
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.12">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that re-tx UEs are scheduled ahead of new-tx UEs"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"

		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="32"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
	# Expect staInd from MAC to RLC for Msg4 for UE1
      	<tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100" />
      </tapa.expect>

      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
      	<tapa.tfu.cntrl.req>
      		<tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
     	 </tapa.tfu.cntrl.req>
      	<tapa.tfu.dat.req>
      		<tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
      	</tapa.tfu.dat.req>
      </tapa.expset>         

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100"/>
      </tapa.expect>

      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>

    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    27.13
#
#       Desc:    Verify that re-tx UEs are scheduled ahead of new-tx UEs
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.13">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that re-tx UEs are scheduled ahead of new-tx UEs"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="2" maxUePerDlSf="2"
         rgrFeatureAbs="2"
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3"  />
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
         </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100"/>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100"/>
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1" newUeId="1" isUeCellEdge="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
     
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>
      
      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="1"/>
           <tapa.tfu.pdsch.dat.req ueId="0"/>
        </tapa.tfu.dat.req>

		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100"/>
		 <tapa.rgu.dstaind ueId="1" numLchTb1="3" lchTb1Data="1:2:3" bw="100"/>
      </tapa.expset>
     
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.14
#
#       Desc:    Verify that re-tx UEs are scheduled ahead of new-tx UEs
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.14">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that re-tx UEs are scheduled ahead of new-tx UEs"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="1" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3"  />
        
	  </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="32"/>
         </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="32"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="2" bo="32"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="3" bo="32"/>
      </tapa.send>

      <tapa.send>
        # Send BO for the created logical channel on RGU.
        <tapa.rgu.dstarsp ueId="1" lcId="4" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4"  valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100"/>
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1" newUeId="1" isUeCellEdge="0" UeReCfgType="2097152"/>
      </tapa.send>

	  <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="11" newcrnti="11" oldUeId="0" newUeId="0" isUeCellEdge="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expset>
      <tapa.rgr.cfgCfm instId="5"/>
	  <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="32"/>
      </tapa.send>

	  
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="32"/>
      </tapa.send>

      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
       
      #Expect Buffer status Indication of cell edge Ue first(UE1 is cell edge UE since
      #it is reconfigured)
        <tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4"   valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
      
        <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100"/>
        
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="0"/>
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
    
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    27.15
#
#       Desc:    Verify that CC UE can take CE BW if CC BW is allcoated fully
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.15">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that CC UE can take CE BW if CC BW is allcoated fully" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="50" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="0"
		
    	 CEPoolStartRb="50"   
         CEPoolEndRb="99"   
         CEPoolBw="50"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="50"   
         CEPoolType2End="13"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="49"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="11"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="20000"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.16
#
#       Desc:    Verify that CC UE can take CE BW if CC BW is allcoated fully
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.16">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that CC UE can take CE BW if CC BW is allcoated fully" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="30"   
         CEPoolEndRb="99"   
         CEPoolBw="70"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="500"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100" />
      </tapa.expect>

      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.17
#
#       Desc:    Verify that CC UE can take CE BW if CC BW is allcoated fully
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.17">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that CC UE can take CE BW if CC BW is allcoated fully" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="70" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" CEPoolStartRb="70"/>
      </tapa.expect>

      
	  # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="2000"/>
      </tapa.send>
	  
	  #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="200"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="70"
          cellEdgeEndRb="99" bw="100" />
      </tapa.expect>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100" />
      </tapa.expect>
	  
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
	  
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>

      <tapa.send>
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
	    # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
			<tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
			<tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>	

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.18
#
#       Desc:    Verify Pool related params after cell reconfig
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.18">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify Pool related params after cell reconfig" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
      
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"
 
         isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1" 
 
   	 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3"  />
      
	</tapa.send>

    #Expect positive Configuration Confirm from LTEMAC
    <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
         
         CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   
         />
      </tapa.expect>

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>
	
   	  # Send UE config request
	  <tapa.send>
		<tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="1"/>
	  </tapa.send>


	  # Send TTI to apply the config
	  <tapa.send>
		<tapa.tfu.tti.ind/>
	  </tapa.send>

	  # Expect success in cfg cfm
	  <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
	  </tapa.expect>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>
<!--
      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100"/>
      </tapa.expect>
-->
	  
	  #Sending RGR CELL Configuration
	  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(4096)
	  <tapa.send>
			 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
			 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
			 rgrFeatureAbs="2"

			 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
			 
			 absPattern1="0:0:0:0:0:0:0:0:0:0"
			 absPattern2="0:0:0:0:0:0:0:0:0:0"
			 absPattern3="0:0:0:0:0:0:0:0:0:0"
			 absPattern4="0:0:0:0:0:0:0:0:0:0"
			 
			 isSfrEnabled="1" cellEdgeStartRb="60" cellEdgeEndRb="89" cellCenterPower="0" cellEdgePower="3"  />
    </tapa.send>

	<tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
    </tapa.send>

    <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100"/>
    </tapa.expect>
	
	
	#Expect positive Configuration Confirm from LTEMAC
    <tapa.expect>
        <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
         
         CEPoolStartRb="60"   
         CEPoolEndRb="89"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="60"   
         CEPoolType2End="15"   
         CEPoolType0End="21"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="59"   
         CCPool1Bw="60"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="14"   

         CCPool2StartRb="90"   
         CCPool2EndRb="99"   
         CCPool2Bw="10"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="90"   
         CCPool2Type2End="23"   
         CCPool2Type0End="24"   
         />
      </tapa.expect>

 </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.19
#
#       Desc:    checking CC UE is using max BW when no CE UE is present irrespective of SFR range.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.19">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "checking CC UE is using max BW when no CE UE is present irrespective of SFR range."
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3"/>
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      
      #tick(2,1) = 21 ms
      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     #tick(2,2) = 22 ms
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>
	       
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     #tick(2,3) = 23 ms
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="2000"/>
      </tapa.send>

      #tick(2,4) = 24 ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>
	  
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.20
#
#       Desc:    one CC and  one CE - full band used .(say 50 Rbs each)
#                then request for second CC UE should be rejected.
#
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.20">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "one CC and  one CE - full band used(say 50 Rbs each) then request for second CC UE should be rejected" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"

		 isSfrEnabled="1" cellEdgeStartRb="50" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="50"   
         CEPoolEndRb="99"   
         CEPoolBw="50"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="50"   
         CEPoolType2End="13"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="49"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="11"  />
      </tapa.expect>		 
		 
      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="2000"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="2000"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

<!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="50"
          cellEdgeEndRb="99" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      -->
      #As Part of UE/TTI frature all 3 UEs will get allocation
       <tapa.expset>
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="50"
          cellEdgeEndRb="99" bw="100"/>
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>

       </tapa.expset>
      
	  <!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
	  -->

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.21
#
#       Desc:    one CC and  one CE - CC use full band(50 Rbs) and CE UE use half of CE bangs(25 Rbs)
#				 then second CC UE use rest RB(25 Rbs).
#				 request for CC UE should be rejected.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.21">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "one CC and  one CE - CC use full band(50 Rbs) and CE UE use half of CE bangs(25 Rbs)
          then second CC UE use rest RB(25 Rbs).
          request for CC UE should be rejected." 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="50" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="50"   
         CEPoolEndRb="99"   
         CEPoolBw="50"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="50"   
         CEPoolType2End="13"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="49"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="11"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.4UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="3" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
		 <tapa.rgr.cfgCfm ueId="3" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      #UE4 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="2000"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="400"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="400"/>
      </tapa.send>

      #Send BO for UE4
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="3" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="50"
          cellEdgeEndRb="99" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      -->
      #All 4 UEs will get scheduled as part of 4 UEs/TTI feature as bandwidth 
      is getting devided eaually across all the UEs
      <tapa.expset>
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="50"
          cellEdgeEndRb="99" bw="100"/>
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
         <tapa.rgu.dstaind ueId="3" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>
      
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.22
#
#       Desc:    Verify 2 UEs re-tx and two UEs new-tx UEs
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.22">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify 2 UEs re-tx and two UEs new-tx UEs"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"

		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="50" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="50"   
         CEPoolEndRb="99"   
         CEPoolBw="50"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="50"   
         CEPoolType2End="13"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="49"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="11"   />
      </tapa.expect>		 


      # UE Creation
      <tapa.rg.4UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="3" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
		 <tapa.rgr.cfgCfm ueId="2" instId="5"/>
		 <tapa.rgr.cfgCfm ueId="3" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   
	  #UE0 Configuration
	  <tapa.send>
		 # Configure a dedicated logical channel for the created UE
		 <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
	  </tapa.send>

	  <tapa.expect>
		 # Expect success in cfg cfm
		 <tapa.crg.cfgcfm/>
	  </tapa.expect>

	 # Configure DL LC on RGR
	 <tapa.send>
		<tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
	 </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>

	 #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>
	 
	#UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>

	 #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>


     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="350"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="143"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
   	     # Expect staInd from MAC to RLC for Msg4 for UE1
      	 <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" vldtTrue="1" cellEdgeStartRb="70" cellEdgeEndRb="99" bw="100"/>
      </tapa.expect>
	  
      <tapa.expect>
    	# Expect staInd from MAC to RLC for Msg4 for UE1
      	<tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>


      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>

      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>

      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>


      <tapa.expset>
      	<tapa.tfu.cntrl.req>
      		<tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
			<tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
     	 </tapa.tfu.cntrl.req>
      	<tapa.tfu.dat.req>
      		<tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
			<tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
      	</tapa.tfu.dat.req>
      </tapa.expset>         


      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
			<tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expset>

      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
			<tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="148"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="3" lcId="1" bo="640"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="50"
          cellEdgeEndRb="99" bw="100"/>
      </tapa.expect>

      <tapa.expect>
    	# Expect staInd from MAC to RLC for Msg4 for UE1
      	<tapa.rgu.dstaind ueId="3" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
<!--
      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1" />
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
-->
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.23
#
#       Desc:    Verify that single UE TX for more iterations to check SFR repeatedly for Pico cell
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.23">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that single UE TX for more iterations to check SFR repeatedly for Pico cell"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"

		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"

		 isSfrEnabled="1" cellEdgeStartRb="50" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="50"   
         CEPoolEndRb="99"   
         CEPoolBw="50"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="50"   
         CEPoolType2End="13"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="49"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="11"   />
      </tapa.expect>		 
		 

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
		 # lcType = 5 it is DCCH
		 # lcType = 4 it is DTCH
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

	 <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>
	 
     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

	 <tapa.repeat.start repeatCount="200"/>
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="200"/>
      </tapa.send>
      
	  #Initial TTI=(2,3)=23ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
		 # Expect staInd from MAC to RLC for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="50"
          cellEdgeEndRb="99" bw="100"/>
      </tapa.expect>
      
	  
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
	  
	  #TTI=(2,4) = 24ms
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req> 
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
	  #TTI=(2,8)
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
	  
	  #TTI=(3,1)
      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="TRUE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
	  <tapa.repeat.end/>
	      
	</tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.24
#
#       Desc:    Verify Maximum retransmission for CC UE
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.24">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that single UE re-tx scheduled ahead of new-tx"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"

		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"

		 isSfrEnabled="1" cellEdgeStartRb="50" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
      
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="50"   
         CEPoolEndRb="99"   
         CEPoolBw="50"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="50"   
         CEPoolType2End="13"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="49"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="11"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.UeInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
		 # lcType = 5 it is DCCH
		 # lcType = 4 it is DTCH
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="350"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
		 # Expect staInd from MAC to RLC for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100" />
      </tapa.expect>
      
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
	  
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req> 
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #TTI(3,2)
      #In this TTI it will not allocate reTx data because it will collide with BCH/PSS/SSS (3,2+RG_SCH_CMN_DL_DELTA)
	  #check rgSCHCmnRetxAllocAvoid
	  #It can schedule new Tx Data if present	  
	  <tapa.send>
        # Send a Tti to make allocation for BCH/PSS/SSS
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      #TTI(3,3)
      <tapa.send>
        # Send a Tti to make allocation for ReTx data
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      #TTI(3,4)
      <tapa.send>
        # Send a Tti to get ReTx data
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	 <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>	  

	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>	  
      
	  #TTI(4,2)
      #In this TTI it will not allocate reTx data because it will collide with BCH/PSS/SSS (3,2+RG_SCH_CMN_DL_DELTA)
	  #check rgSCHCmnRetxAllocAvoid
	  #It can schedule new Tx Data if present	  
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
      # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
     <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
     </tapa.expect>
	 <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
    </tapa.expect>

     <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>	

	  #TTI(5,2)
      #In this TTI it will not allocate reTx data because it will collide with BCH/PSS/SSS (3,2+RG_SCH_CMN_DL_DELTA)
	  #check rgSCHCmnRetxAllocAvoid
	  #It can schedule new Tx Data if present	 	
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>		
      </tapa.send>
     
	 # Maximum retransmission reached here
	 <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
 
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.25
#
#       Desc:    Verify that 2UEs re-tx scheduled ahead of new-tx
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.25">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that 2UEs re-tx scheduled ahead of new-tx"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"

		 isSfrEnabled="1" cellEdgeStartRb="50" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />
         
         <!--absPattern1="0:0:0:0:0:0:0:0:0:0"
         absPattern2="0:0:0:0:0:0:0:0:0:0"
         absPattern3="0:0:0:0:0:0:0:0:0:0"
         absPattern4="0:0:0:0:0:0:0:0:0:0"-->
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
		 # lcType = 5 it is DCCH
		 # lcType = 4 it is DTCH
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="3" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="3" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

   	  #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="3" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="3" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="350"/>
      </tapa.send>

 
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
  
     <tapa.expect>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
	  
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
	  
	<tapa.repeat.start repeatCount="2"/>
	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	 <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
		<tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1" newUeId="1" isUeCellEdge="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
		<tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
		<tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
	  
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>	  
	<tapa.repeat.end/>

	  # send BO for UE1 
	  <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="64"/>
      </tapa.send>
	  
	  
	  # send BO for UE1 
	  <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>
	  
	  
	  # send BO for UE2
	  <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

	  # send BO for UE2 
	  <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>
	  
	  
      #TTI(5,2)
      In this TTI it will not allocate reTx data because it will collide with BCH/PSS/SSS (5,2+RG_SCH_CMN_DL_DELTA)
	  #It can schedule new Tx Data if present
  	  
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
      <tapa.expect>
		 # Expect staInd from MAC to RLC for Msg4 for UE2
		 <tapa.rgu.dstaind ueId="1" numLchTb1="2" lchTb1Data="1:3" bw="100"/>
	  </tapa.expect>	  
	
	  
	  <tapa.expect>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="2" lchTb1Data="1:3" bw="100"/>
	  </tapa.expect>	  
	  

	  #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="2" lchTb1Data="1,0,1:3,0,1"/>
      </tapa.send>

	  #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE2
         <tapa.rgu.ddatreq ueId="0" numLchTb1="2" lchTb1Data="1,0,1:3,0,1"/>
      </tapa.send>

  
	  # send TTI(5,3)
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.here reTx allocation done
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

   <tapa.expset>
     <tapa.tfu.cntrl.req>
        <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
        <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
     </tapa.tfu.cntrl.req>
     <tapa.tfu.dat.req>
        <tapa.tfu.pdsch.dat.req ueId="0" use="2" validate="TRUE"/>
        <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
     </tapa.tfu.dat.req>
   </tapa.expset>

	  # send TTI(5,4)
 	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	 
     <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
     </tapa.expect>
	 <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
    </tapa.expect>


     <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
			<tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
	  
	  <tapa.send>
      # Send a 4 TTIs to get the harqrecpRequest from MAC
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
			<tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
		</tapa.tfu.hq.ind>
      </tapa.send>
	  
	  #TTI(6,2)
      <tapa.send>
      # Send a TTI
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
    <tapa.expset>
      <tapa.tfu.cntrl.req>
         <tapa.tfu.pdcch.cntrl.req ueId="0" />
         <tapa.tfu.pdcch.cntrl.req ueId="1" />
      </tapa.tfu.cntrl.req>
      <tapa.tfu.dat.req>
         <tapa.tfu.pdsch.dat.req ueId="0" use="2" validate="TRUE"/>
         <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
      </tapa.tfu.dat.req>
    </tapa.expset>
	
	  #TTI(6,3)
      <tapa.send>
      # Send a TTI
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	  #TTI(6,4)
	  <tapa.send>
      # Send a TTI
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
<!--	
     <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
     </tapa.expect>
	 <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
    </tapa.expect>
 
     #TTI(6,6)
     <tapa.send>
         # Send a 3 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>
      
	 
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
			<tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
	
	  
	  #TTI(6,7)
	  <tapa.send>
      # Send a 4 TTIs to get the harqrecpRequest from MAC
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  #TTI(6,8)
	  <tapa.send>
      # Send a 4 TTIs to get the harqrecpRequest from MAC
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
     
	  
      #TTI(6,9)	  
      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
	
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
			<tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
    
	  
	  #(7,1)
      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

    <tapa.expset>
      <tapa.tfu.cntrl.req>
         <tapa.tfu.pdcch.cntrl.req ueId="0" />
         <tapa.tfu.pdcch.cntrl.req ueId="1" />
      </tapa.tfu.cntrl.req>
      <tapa.tfu.dat.req>
         <tapa.tfu.pdsch.dat.req ueId="0" use="2" validate="TRUE"/>
         <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
      </tapa.tfu.dat.req>
    </tapa.expset>
	  
	  
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
		</tapa.tfu.hq.ind>
      </tapa.send>	
      
	  
	  #TTI(7,2)
      <tapa.send>
      # Send a TTI
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	  #TTI(7,3)
      <tapa.send>
      # Send a TTI
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	  #TTI(7,4)
	  <tapa.send>
      # Send a TTI
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
     
     <tapa.expect>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
     </tapa.expect>
	 <tapa.expect>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
    </tapa.expect>


	#<tapa.repeat.start repeatCount="1"/>
	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	  # send TTI to schedule retx data
	  <tapa.send>
        # Send a Tti to get the transmission scheduled.
        <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
	  
	 <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
-->
##########################	  
 <!--     
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>	  
	<tapa.repeat.end/>	
-->
      <!--
	  #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" />
      </tapa.expect>

      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
    -->
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.26
#
#       Desc:    CC UE takes either another CC pool or CE pool whichever is more
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.26">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "CC UE takes either another CC pool or CE pool whichever is more" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" dlTotalBw="50"
		 
         isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="20" cellEdgeEndRb="30" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="20"   
         CEPoolEndRb="30"   
         CEPoolBw="11"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="20"   
         CEPoolType2End="7"   
         CEPoolType0End="9"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="19"   
         CCPool1Bw="20"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="5"   

         CCPool2StartRb="31"   
         CCPool2EndRb="49"   
         CCPool2Bw="19"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="31"   
         CCPool2Type2End="11"   
         CCPool2Type0End="15"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="60"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="60"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="60"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="20"
          cellEdgeEndRb="30" bw="50"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="50"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="50"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.27
#
#       Desc:    Verify that CC UE can take CE BW by adjusting it's start pointer
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.27">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that CC UE can take CE BW by adjusting it's start pointer" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="0" cellEdgeEndRb="69" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="0"   
         CEPoolEndRb="69"   
         CEPoolBw="70"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="0"   
         CEPoolType2End="0"   
         CEPoolType0End="16"   
         
         CCPool1StartRb="70"   
         CCPool1EndRb="99"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="70"   
         CCPool1Type2End="18"   
         CCPool1Type0End="24"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="1000"/>
      </tapa.send>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="1000"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.28
#
#       Desc:    CC UE should take from adjusted type2start of CE pool
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.28">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "CC UE should take from adjusted type2start of CE pool" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="50" cellEdgeEndRb="69" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="50"   
         CEPoolEndRb="69"   
         CEPoolBw="20"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="50"   
         CEPoolType2End="13"   
         CEPoolType0End="16"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="49"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="11"   

         CCPool2StartRb="70"   
         CCPool2EndRb="99"   
         CCPool2Bw="30"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="70"   
         CCPool2Type2End="18"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="1000"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="60"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="800"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

<!--
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="50"
          cellEdgeEndRb="69" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      -->
      #Grant can come any order as per 4UE/TTI feature
      <tapa.expset>
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="50"
          cellEdgeEndRb="69" bw="100"/>
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>
#
#
#       Test:    27.29
#
#       Desc:    Verify that re-tx UEs are scheduled ahead of new-tx UEs
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.29">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that re-tx UEs are scheduled ahead of new-tx UEs"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="0" cellEdgeEndRb="49" cellCenterPower="0" cellEdgePower="3"  />
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="0"   
         CEPoolEndRb="49"   
         CEPoolBw="50"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="0"   
         CEPoolType2End="0"   
         CEPoolType0End="11"   
         
         CCPool1StartRb="50"   
         CCPool1EndRb="99"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="50"   
         CCPool1Type2End="13"   
         CCPool1Type0End="24"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.4UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="3" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
		 <tapa.rgr.cfgCfm ueId="2" instId="5"/>
		 <tapa.rgr.cfgCfm ueId="3" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE0 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>
	 
	 #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	 
	 	 #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	 
	 	 #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1" newUeId="1" isUeCellEdge="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>
     
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="3" lcId="1" bo="64"/>
      </tapa.send>

    
      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
<!--      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
      </tapa.expset>
-->       
      #Expect Buffer status Indication of cell edge Ue first(UE1 is cell edge UE since
      #it is reconfigured)
      <tapa.expect>
        <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1"  valdtTrue="1" cellEdgeStartRb="0"	
          cellEdgeEndRb="49" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
        <tapa.rgu.dstaind ueId="3" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
<!--        
      <tapa.expset>
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="0"/>
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>
-->    
    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    27.30
#
#       Desc:    Verify that re-tx UEs are scheduled ahead of new-tx UEs
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.30">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "Verify that re-tx UEs are scheduled ahead of new-tx UEs"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2" 
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="0" cellEdgeEndRb="49" cellCenterPower="0" cellEdgePower="3"  />
         
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="0"   
         CEPoolEndRb="49"   
         CEPoolBw="50"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="0"   
         CEPoolType2End="0"   
         CEPoolType0End="11"   
         
         CCPool1StartRb="50"   
         CCPool1EndRb="99"   
         CCPool1Bw="50"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="50"   
         CCPool1Type2End="13"   
         CCPool1Type0End="24"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      # UE Creation
      <tapa.rg.4UeRrInit.mwcDemo/>
      
      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="3" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
		 <tapa.rgr.cfgCfm ueId="2" instId="5"/>
		 <tapa.rgr.cfgCfm ueId="3" instId="5"/>
      </tapa.expset>

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE0 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expect>
	 
	 #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	 
	 	 #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	 
	 	 #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>


	 #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
        # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
		 # Expect staInd from MAC to RLC for Msg4 for UE1
		 <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expset>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="1" lchTb1Data="1,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="2" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      
      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
      
      <tapa.send>
      # Send a 2 TTIs to Send the HARQ Indication(3 TTI required to send HARQ Indication)
        <tapa.tfu.tti.ind numTti="2"/>
      </tapa.send>

      <tapa.send>
      # Send Reconfig request to UE2 by making it as cell edge
      <tapa.rgr.cfgreq.recfg.ue oldcrnti="12" newcrnti="12" oldUeId="1" newUeId="1" isUeCellEdge="1" UeReCfgType="2097152"/>
      </tapa.send>

      # Send TTI to apply the config and also to send HARQ Indication
      <tapa.send>
      <tapa.tfu.tti.ind/>
      </tapa.send>

      #Expect success in cfg cfm
      <tapa.expect>
      <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="TRUE"/>
            <tapa.tfu.hq ueId="1" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

	  
      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="3" lcId="1" bo="64"/>
      </tapa.send>

    
      # Now both UEs have retx data + new tx data
      # In first TTI it will not schedule newtx data since it is having retx data
      
      # send TTI to schedule retx data
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
<!--      
      # send TTI to schedule new tx data.In this Tti schduler will give control data to Phy
      # after that it will schdule new tx data.
      # MAC will give PDSCH data to Phy.
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="2"/>
        </tapa.tfu.cntrl.req>
      </tapa.expset>
-->       
      #Expect Buffer status Indication of cell edge Ue first(UE1 is cell edge UE since
      #it is reconfigured)
      <tapa.expect>
        <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1"  valdtTrue="1" cellEdgeStartRb="0"	
          cellEdgeEndRb="49" bw="100"/>
      </tapa.expect>
      
      <tapa.expect>
        <tapa.rgu.dstaind ueId="3" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="1"/>
            <tapa.tfu.pdcch.cntrl.req ueId="2" saveTo="2"/>
			<tapa.tfu.pdcch.cntrl.req ueId="3" saveTo="3"/>
        </tapa.tfu.cntrl.req>
      </tapa.expset>

      <tapa.expset>
        <tapa.tfu.dat.req>   
           <tapa.tfu.pdsch.dat.req ueId="1"/>
        </tapa.tfu.dat.req>
      </tapa.expset>

    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    27.31
#
#       Desc:    PFS: Verify that 4UEs are scheduled in the reported BO order 
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.31">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "PFS SCH TYPE :Verify that 4UEs are scheduled in the reported BO order with SFR enabled" 
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="1" ulSchdType="1"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
         
         CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   
         />
      </tapa.expect>

      
	  # UE Creation
      <tapa.rg.4UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="3" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
         <tapa.rgr.cfgCfm ueId="3" instId="5"/>
      </tapa.expset>
	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>
      
      #UE4 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="3" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="3" lcId="1" dir="1" lcType="5" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="64"/>
      </tapa.send>

      #Send BO for UE3
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="2" lcId="1" bo="64"/>
      </tapa.send>

	  #Send BO for UE4
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="3" lcId="1" bo="64"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="2" numLchTb1="1" lchTb1Data="1" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100" />
      </tapa.expect>
      
      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="3" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="0" numLchTb1="1" lchTb1Data="1" bw="100"/>
      </tapa.expect>
      
    </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    27.32
#
#       Desc:    PFS: Verify that re-tx UEs are scheduled ahead of new-tx UEs
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.32">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "PFS SCH TYPE :Verify that re-tx UEs are scheduled ahead of new-tx UEs"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"

		 isAbsEnabled="0" absPatternType="2" dlSchdType="1" ulSchdType="1"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="59" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>

      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="30"   
         CEPoolEndRb="59"   
         CEPoolBw="30"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="30"   
         CEPoolType2End="8"   
         CEPoolType0End="14"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="29"   
         CCPool1Bw="30"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="6"   

         CCPool2StartRb="60"   
         CCPool2EndRb="99"   
         CCPool2Bw="40"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="60"   
         CCPool2Type2End="15"   
         CCPool2Type0End="24"   />
      </tapa.expect>		 
		 

      # UE Creation
      <tapa.rg.2UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
      </tapa.expset>	  

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>
	       #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="1" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      <tapa.send>
         # Configure a dedicated logical channel for the created UE
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="2" lcgId="0" dir="3" lcType="5" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>
     
	 <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="3" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>

     <tapa.send>
        # Configure a dedicated logical channel for the created UE
        <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="1" dir="3" lcType="4" />
     </tapa.send>

     <tapa.expect>
        # Expect success in cfg cfm
        <tapa.crg.cfgcfm/>
     </tapa.expect>	  

     # Configure DL LC on RGR
     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="1" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="2" dir="1" lcType="5" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="3" dir="1" lcType="4" instId="5" />
     </tapa.send>

     <tapa.send>
        <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
     </tapa.send>

     # Send TTI indication for default cell
     <tapa.send>
        <tapa.tfu.tti.ind/>
     </tapa.send>

     <tapa.expset>
        # Expect success in cfg cfm
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
        <tapa.rgr.cfgCfm instId="5"/>
     </tapa.expset>

      #Send BO for UE1
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="1" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="2" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="3" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="0" lcId="4" bo="32"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expect>
	# Expect staInd from MAC to RLC for Msg4 for UE1
      	<tapa.rgu.dstaind ueId="0" numLchTb1="4" lchTb1Data="1:2:3:4" bw="100" />
      </tapa.expect>

      <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="0" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
      	<tapa.tfu.cntrl.req>
      		<tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="1"/>
     	 </tapa.tfu.cntrl.req>
      	<tapa.tfu.dat.req>
      		<tapa.tfu.pdsch.dat.req ueId="0" use="1" validate="TRUE"/>
      	</tapa.tfu.dat.req>
      </tapa.expset>         

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="0"/>
         </tapa.tfu.recp.req>
      </tapa.expect>

      <tapa.send>
      # Send a 2 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>

      <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="0" isAck="FALSE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="1" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="2" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="3" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send BO for the created logical channel on RGU.
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="32"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.rgu.dstaind ueId="1" numLchTb1="4" lchTb1Data="1:2:3:4" valdtTrue="1" cellEdgeStartRb="30"
          cellEdgeEndRb="59" bw="100"/>
      </tapa.expect>

      <tapa.send>
        # Send DDatReq for UE2
        <tapa.rgu.ddatreq ueId="1" numLchTb1="4" lchTb1Data="1,0,1:2,0,1:3,0,1:4,0,1"/>
      </tapa.send>
      
      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expset>
        <tapa.tfu.cntrl.req>
            <tapa.tfu.pdcch.cntrl.req ueId="0" saveTo="2"/>
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="3"/>
        </tapa.tfu.cntrl.req>
        <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="0"/>
            <tapa.tfu.pdsch.dat.req ueId="1" use="3" validate="TRUE"/>
        </tapa.tfu.dat.req>
      </tapa.expset>

    </tapa.test>

    # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    27.33
#
#       Desc:    To test Scheduler returns Failure for CELL CONFIG in case of 
#                Invalid Cell Edge RB Range.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.33">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To test Scheduler returns Failure for CELL CONFIG in case of 
          Invalid Cell Edge RB Range"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"

		 isAbsEnabled="0" absPatternType="2" dlSchdType="1" ulSchdType="1"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="45" cellEdgeEndRb="30" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>  

      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expset>

   </tapa.cfg>

   <tapa.test>

   </tapa.test>

   # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase> 

#
#
#       Test:    27.34
#
#       Desc:    To test Scheduler returns Failure for CELL CONFIG in case if 
#                Cell Edge End RB is greater than Cell BW.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.34">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To test Scheduler returns Failure for CELL CONFIG in case of 
          Invalid Cell Edge RB Range"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"

		 isAbsEnabled="0" absPatternType="2" dlSchdType="1" ulSchdType="1"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="30" cellEdgeEndRb="101" cellCenterPower="0" cellEdgePower="3" />
      </tapa.send>  

      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expset>

   </tapa.cfg>

   <tapa.test>

   </tapa.test>

   # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>  

#
#
#       Test:    27.35
#
#       Desc:    To test Scheduler validation fails in case of Invalid Load 
#                Info Req from RRM.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.35">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To test Scheduler validation fails in case of Invalid Load 
          Info Req from RRM"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #rgrFeatureAbs = 1 for ABS
	  #rgrFeatureAbs = 2 for SFR
	  #rgrFeatureAbs = 4 for DSFR
	  #rgrFeatureAbs = 8 for RE
	  
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="20" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />

      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="20"   
         CEPoolEndRb="99"   
         CEPoolBw="80"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="20"   
         CEPoolType2End="5"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="19"   
         CCPool1Bw="20"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="4"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>
   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

	  #Sending RGR CELL Configuration
	  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(8192)
	  <tapa.send>
			 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
			 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
			 rgrFeatureAbs="4"
		 
			 isDsfrEnabled="1" numNeighCell="1" rntiPeriodicity="10" nghCellEdgeStartRb="0" nghCellEdgeEndRb="19"/>

 	  </tapa.send>
	
	  # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="200"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="4" valdtTrue="1" cellEdgeStartRb="20"
          cellEdgeEndRb="99" bw="100"/>
      </tapa.expect>
	  
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="1" lchTb1Data="4,0,1"/>
      </tapa.send>
	  

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req> 
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="1" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
	  

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="1" isAck="TRUE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>


      <tapa.send>
      # Send a 3 TTIs
        <tapa.tfu.tti.ind numTti="9991"/>
      </tapa.send>

	  #Expecting LoadInfo Indication from Scheduler
      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.loadInfInd instId="5" bw="100"/>
      </tapa.expect>

	  <tapa.send>
         <tapa.rgr.loadInfReq cellId="3" nghPHighStartRb="30" nghPHighEndRb="50"/>
      </tapa.send> 

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    27.36
#
#       Desc:    To test Scheduler validation fails in case of Invalid Load 
#                Info Req from RRM.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.36">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To test Scheduler validation fails in case of Invalid Load 
          Info Req from RRM"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #rgrFeatureAbs = 1 for ABS
	  #rgrFeatureAbs = 2 for SFR
	  #rgrFeatureAbs = 4 for DSFR
	  #rgrFeatureAbs = 8 for RE
	  
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2" 
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="20" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />

      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5" valdtTrue="1"
		
    	 CEPoolStartRb="20"   
         CEPoolEndRb="99"   
         CEPoolBw="80"   
         CEPoolBwAlloced="0"   
         CEPoolType2Start="20"   
         CEPoolType2End="5"   
         CEPoolType0End="24"   
         
         CCPool1StartRb="0"   
         CCPool1EndRb="19"   
         CCPool1Bw="20"   
         CCPool1BwAlloced="0"   
         CCPool1Type2Start="0"   
         CCPool1Type2End="0"   
         CCPool1Type0End="4"   

         CCPool2StartRb="0"   
         CCPool2EndRb="0"   
         CCPool2Bw="0"   
         CCPool2BwAlloced="0"   
         CCPool2Type2Start="0"   
         CCPool2Type2End="0"   
         CCPool2Type0End="0"   />
      </tapa.expect>		 

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>
   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

	  #Sending RGR CELL Configuration
	  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(8192)
	  <tapa.send>
			 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
			 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
			 rgrFeatureAbs="4"
		 
			 isDsfrEnabled="1" numNeighCell="1" rntiPeriodicity="10" nghCellEdgeStartRb="0" nghCellEdgeEndRb="19"/>

 	  </tapa.send>
	
	  # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

      #Send BO for UE2
      <tapa.send>
         # Send BO for the created logical channel on RGU. 
         <tapa.rgu.dstarsp ueId="1" lcId="4" bo="200"/>
      </tapa.send>

      <tapa.send>
         # Send a Tti to get the transmission scheduled. 
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>

      <tapa.expect>
         # Expect staInd from MAC to RLC for Msg4 
         <tapa.rgu.dstaind ueId="1" numLchTb1="1" lchTb1Data="4" valdtTrue="1" cellEdgeStartRb="20"
          cellEdgeEndRb="99" bw="100"/>
      </tapa.expect>
	  
      #lchTb1Data="lcId:bo:numPdu"
	  <tapa.send>
         # Send DDatReq for UE1
         <tapa.rgu.ddatreq ueId="1" numLchTb1="1" lchTb1Data="4,0,1"/>
      </tapa.send>
	  

      <tapa.send>
         # Send a Tti to get the transmission scheduled.
         <tapa.tfu.tti.ind numTti="1"/>
      </tapa.send>
      
      <tapa.expset>
         <tapa.tfu.cntrl.req> 
            <tapa.tfu.pdcch.cntrl.req ueId="1" saveTo="1"/>
         </tapa.tfu.cntrl.req>
         <tapa.tfu.dat.req>
            <tapa.tfu.pdsch.dat.req ueId="1" use="1" validate="TRUE"/>
         </tapa.tfu.dat.req>
      </tapa.expset>         
      

      <tapa.send>
         # Send a 4 TTIs to get the harqrecpRequest from MAC
         <tapa.tfu.tti.ind numTti="4"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.tfu.recp.req spId="1">
            <tapa.tfu.hq.recp.req ueId="1"/>
         </tapa.tfu.recp.req>
      </tapa.expect>
	  

      <tapa.send>
      # Send a 3 TTIs to Send the HARQ ACK Indication
        <tapa.tfu.tti.ind numTti="3"/>
      </tapa.send>
      
	  <tapa.send>
        <tapa.tfu.hq.ind>
            <tapa.tfu.hq ueId="1" isAck="TRUE"/>
        </tapa.tfu.hq.ind>
      </tapa.send>


      <tapa.send>
      # Send a 3 TTIs
        <tapa.tfu.tti.ind numTti="9991"/>
      </tapa.send>

	  #Expecting LoadInfo Indication from Scheduler
      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.loadInfInd instId="5" bw="100"/>
      </tapa.expect>

	  <tapa.send>
         <tapa.rgr.loadInfReq cellId="3" nghPHighStartRb="0" nghPHighEndRb="30"/>
      </tapa.send> 

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase> 

#
#
#       Test:    27.37
#
#       Desc:    To test scheduler validation fails incase of invalid 
#                pwrThreshold configuration.
#
#       Notes:   None
#
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.37">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To test scheduler validation fails incase of invalid
          pwrThreshold configuration"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>

      #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"

		 isAbsEnabled="0" absPatternType="2" dlSchdType="1" ulSchdType="1"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="1" cellEdgeStartRb="20" cellEdgeEndRb="99" cellCenterPower="3" cellEdgePower="0" />
      </tapa.send>  

      <tapa.expset>
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expset>

   </tapa.cfg>

   <tapa.test>

   </tapa.test>

   # Clean subsection
    <tapa.clean>
        #Command To ShutDown LTEMAC Layer
        <tapa.rg.macDeInit/>
    </tapa.clean>

    # Shutdown subsection
    <tapa.shutdown>

    </tapa.shutdown>

</tapa.testcase>  

#
#
#       Test:    27.38
#
#       Desc:    To test Scheduler returns Failure for CELL RECONFIG in case 
#                of Invalid Cell Edge RB Range.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.38">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To test Scheduler returns Failure for CELL RECONFIG in case 
          of Invalid Cell Edge RB Range"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #rgrFeatureAbs = 1 for ABS
	  #rgrFeatureAbs = 2 for SFR
	  #rgrFeatureAbs = 4 for DSFR
	  #rgrFeatureAbs = 8 for RE
	  
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="0" cellEdgeStartRb="20" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />

      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

	  #Sending RGR CELL Configuration
	  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(8192)
	  <tapa.send>
			 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
			 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
			 rgrFeatureAbs="6"
		 
          isSfrEnabled="1" cellEdgeStartRb="99" cellEdgeEndRb="20" cellCenterPower="0" cellEdgePower="3" 
			 isDsfrEnabled="1" numNeighCell="1" rntiPeriodicity="10" nghCellEdgeStartRb="0" nghCellEdgeEndRb="19"/>

 	  </tapa.send>
	
	  # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expset> 
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase> 

#
#
#       Test:    27.39
#
#       Desc:    To test Scheduler returns Failure for CELL CONFIG in case if
#                Cell Edge End RB is greater than Cell BW.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.39">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To test Scheduler returns Failure for CELL CONFIG in case if
          Cell Edge End RB is greater than Cell BW"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #rgrFeatureAbs = 1 for ABS
	  #rgrFeatureAbs = 2 for SFR
	  #rgrFeatureAbs = 4 for DSFR
	  #rgrFeatureAbs = 8 for RE
	  
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="0" cellEdgeStartRb="20" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />

      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

	  #Sending RGR CELL Configuration
	  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(8192)
	  <tapa.send>
			 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
			 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
			 rgrFeatureAbs="6"
		 
          isSfrEnabled="1" cellEdgeStartRb="20" cellEdgeEndRb="101" cellCenterPower="0" cellEdgePower="3" 
			 isDsfrEnabled="1" numNeighCell="1" rntiPeriodicity="10" nghCellEdgeStartRb="0" nghCellEdgeEndRb="19"/>

 	  </tapa.send>
	
	  # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expset> 
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>  

#
#
#       Test:    27.40
#
#       Desc:    To test scheduler validation fails for CELL CONFIG in case 
#                of invalid pwrThreshold configuration.
#
#       Notes:   None
#              
#       Module:  "RR SCH"
#
#       File:    rgac_tc27.xml
#
#
<tapa.testcase id="27.40">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="" section=""/>
      <tapa.module id=""/>

      <tapa.desc>
         "To test scheduler validation fails for CELL CONFIG in case 
          of invalid pwrThreshold configuration"
      </tapa.desc>

      <tapa.longdesc>

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="RG_PHASE2_SCHED"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg>

      # Layer Manager Configuration
      <tapa.rg.macInit/>

      # Cell Configuration
      <tapa.rg.cellInit.mwcDemo/>
	  
	  #Sending RGR CELL Configuration
      #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #rgrFeatureAbs = 1 for ABS
	  #rgrFeatureAbs = 2 for SFR
	  #rgrFeatureAbs = 4 for DSFR
	  #rgrFeatureAbs = 8 for RE
	  
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.cell instId="5" numCmnLc="5"
         cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
         rgrFeatureAbs="2"
		 
		 isAbsEnabled="0" absPatternType="2" dlSchdType="2" ulSchdType="2"
         
         absPattern1="1:1:1:1:1:1:1:1:1:1"
         absPattern2="1:1:1:1:1:1:1:1:1:1"
         absPattern3="1:1:1:1:1:1:1:1:1:1"
         absPattern4="1:1:1:1:1:1:1:1:1:1"
		 
		 isSfrEnabled="0" cellEdgeStartRb="20" cellEdgeEndRb="99" cellCenterPower="0" cellEdgePower="3" />

      </tapa.send>
	  
      #Expect positive Configuration Confirm from LTEMAC
      <tapa.expect>
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      
	  # UE Creation
      <tapa.rg.3UeRrInit.mwcDemo/>

      # Send UE config request
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="0" instId="5" isUeCellEdge="0"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="1" instId="5" isUeCellEdge="1"/>
      </tapa.send>
      <tapa.send>
        <tapa.rgr.cfgreq.cfg.ue ueId="2" instId="5" isUeCellEdge="0"/>
      </tapa.send>

      # Send TTI to apply the config
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      # Expect success in cfg cfm
      <tapa.expset>
         <tapa.rgr.cfgCfm ueId="0" instId="5"/>
         <tapa.rgr.cfgCfm ueId="1" instId="5"/>
         <tapa.rgr.cfgCfm ueId="2" instId="5"/>
      </tapa.expset>
	  
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      #UE1 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="0" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="0" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>

      #UE2 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="1" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="1" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expect>
      
      #UE3 Configuration
      <tapa.send>
         # Configure a dedicated logical channel for the created UE  
         <tapa.crg.cfgreq.cfg.lch ueId="2" lcId="4" lcgId="0" dir="3" lcType="4" />
      </tapa.send>

      <tapa.expect>
         # Expect success in cfg cfm
         <tapa.crg.cfgcfm/>
      </tapa.expect>

      # Configure DL LC on RGR
      <tapa.send>
         <tapa.rgr.cfgreq.cfg.lch ueId="2" lcId="4" dir="1" lcType="4" instId="5" />
      </tapa.send>

      # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5"/>
      </tapa.expset>

	  #Sending RGR CELL Configuration
	  #cmnLcInfo = "lcId:lcType:dir:dlTrchType:ulTrchType:...."
	  #recfgType = RGR_CELL_LTEA_FEATURE_RECFG(8192)
	  <tapa.send>
			 <tapa.rgr.cfgreq.recfg.cell instId="5" numCmnLc="5" recfgType="8192"
			 cmnLcInfo="1:1:1:1:0:2:1:1:3:0:3:2:1:0:0:4:3:3:3:5:5:1:1:3:0" maxDlUeNewTxPerTti="4" maxUePerDlSf="4"
			 rgrFeatureAbs="6"
		 
          isSfrEnabled="1" cellEdgeStartRb="20" cellEdgeEndRb="99" cellCenterPower="3" cellEdgePower="0" 
			 isDsfrEnabled="1" numNeighCell="1" rntiPeriodicity="10" nghCellEdgeStartRb="0" nghCellEdgeEndRb="19"/>

 	  </tapa.send>
	
	  # Send TTI indication for default cell
      <tapa.send>
         <tapa.tfu.tti.ind/>
      </tapa.send>

      <tapa.expset>
         # Expect success in cfg cfm
         <tapa.rgr.cfgCfm instId="5" status="15"/>
      </tapa.expset> 
   </tapa.test>

   # Clean subsection
   <tapa.clean>
      #Command To ShutDown LTEMAC Layer
      <tapa.rg.macDeInit/>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>

   </tapa.shutdown>
</tapa.testcase>   
# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend
#/********************************************************************30**
#
#         End of file:     rgac_tc15.xml@@/main/1 - Thu Mar 26 01:11:03 2009
#
#*********************************************************************31*/
#/**********************************************************************
#        Revision History:
#
#**********************************************************************/
#/********************************************************************90**
# 
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#/main/1      ---     sm   1. Initial Release.
#$SID$         ---     sm   1. Initial Release.
#             rg004.201 rnt  1. Modified for SI Enhancement
#$SID$        ---     gvj  1. LTE MAC 3.1 Release
#*********************************************************************91*/
