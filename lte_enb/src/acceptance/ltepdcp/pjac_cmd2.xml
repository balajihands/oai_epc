#
#/********************************************************************20**
#
#     Name:    PDCP  
#
#     Type:    XML Test File
#
#     Desc:    XML Based High Level Commands for UL/DL
#
#     File:    pjac_cmd2.xml
#
#     Sid:      $SID$
#
#     Prg:     adarsh
#
#*********************************************************************21*/


#
#
#       Command: tapa.srb1cfg
#
#       Desc:    Command to configure SRB1 with 
#                discReqd and cfmReqd 
#                1)SRB1 for  UE:1 CellID:1
#                2)SRB1 for  UE:2 CellId:1
#                3) Security Act on SRB1 (UE:1 and UE:2)
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.srb1cfg">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  SRB1 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="1"
            cfgType="1"
            rbType="0"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="5"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="1"
            rbType="0"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

      #Send a Security Config Req for the UE
      <tapa.send>
         <tapa.cpj.seccfgreq ueId="1" cellId="1" transId="1"
            selSecAct="TRUE"
            intalgoType="2"
            intkey       = "01234567890123456789012345678901"
            ciphalgoType = "2"
            ctrlplnkey   = "01234567890123456789012345678901"
            usrplnkey    = "01234567890123456789012345678901"
            inst="1"
         />
      </tapa.send>
      
      <tapa.delay delay="10" />
      
      #Expect a security config confirm for the UE
      <tapa.expect>
      <tapa.cpj.seccfgcfm ueId="1" cellId="1" transId="1"
         status="1"
         reason="0"
         inst="1"
         /> 
      </tapa.expect>

     #Send PDCP Config for  SRB1 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="1"
            cfgType="1"
            rbType="0"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="5"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

      #Send a Security Config Req for the UE
      <tapa.send>
      <tapa.cpj.seccfgreq ueId="2" cellId="1" transId="2"
         selSecAct="TRUE"
         intalgoType="2"
         intkey="01234567890123456789012345678901"
         ciphalgoType="2"
         ctrlplnkey="01234567890123456789012345678901"
         usrplnkey="01234567890123456789012345678901"
         inst="1"
      />
      </tapa.send>
      #Expect a security config confirm for the UE
      <tapa.expect>
      <tapa.cpj.seccfgcfm ueId="2" cellId="1" transId="2"
         status="1"
         reason="0"
         inst="1"
      />
      </tapa.expect>
     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.srb1cfg.cell2
#
#       Desc:    Command to configure SRB1 with 
#                discReqd and cfmReqd 
#                1)SRB1 for  UE:1 CellID:1
#                2)SRB1 for  UE:2 CellId:1
#                3) Security Act on SRB1 (UE:1 and UE:2)
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.srb1cfg.cell2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  SRB1 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      <tapa.send>
         <tapa.cpj.cfgreq ueId="3" cellId="2" numEnt="1"
            rbId="1"
            cfgType="1"
            rbType="0"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="5"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="3" cellId="2" numEnt="1"
            rbId="1"
            rbType="0"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

      #Send a Security Config Req for the UE
      <tapa.send>
         <tapa.cpj.seccfgreq ueId="3" cellId="2" transId="1"
            selSecAct="TRUE"
            intalgoType="2"
            intkey       = "01234567890123456789012345678901"
            ciphalgoType = "2"
            ctrlplnkey   = "01234567890123456789012345678901"
            usrplnkey    = "01234567890123456789012345678901"
            inst="1"
         />
      </tapa.send>
      
      <tapa.delay delay="10" />
      
      #Expect a security config confirm for the UE
      <tapa.expect>
      <tapa.cpj.seccfgcfm ueId="3" cellId="2" transId="1"
         status="1"
         reason="0"
         inst="1"
         /> 
      </tapa.expect>

     #Send PDCP Config for  SRB1 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="4" cellId="2" numEnt="1"
            rbId="1"
            cfgType="1"
            rbType="0"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="5"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="4" cellId="2" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

      #Send a Security Config Req for the UE
      <tapa.send>
      <tapa.cpj.seccfgreq ueId="4" cellId="2" transId="2"
         selSecAct="TRUE"
         intalgoType="2"
         intkey="01234567890123456789012345678901"
         ciphalgoType="2"
         ctrlplnkey="01234567890123456789012345678901"
         usrplnkey="01234567890123456789012345678901"
         inst="1"
      />
      </tapa.send>
      #Expect a security config confirm for the UE
      <tapa.expect>
      <tapa.cpj.seccfgcfm ueId="4" cellId="2" transId="2"
         status="1"
         reason="0"
         inst="1"
      />
      </tapa.expect>
     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>


#
#
#       Command: tapa.srb1cfg.nosecact
#
#       Desc:    Command to configure SRB1 with 
#                discReqd and cfmReqd 
#                1)SRB1 for  UE:1 CellID:1
#                2)SRB1 for  UE:2 CellId:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.srb1cfg.nosecact">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  SRB1 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################
      
 
         #Send PDCP Config for  SRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId          = "1"
            cfgType       = "1"
            rbType        = "0"
            discReqd      = "1"
            cfmReqd       = "1"
            discardTmr    = "100"

            dir           = "3"
            mode          = "3"

            statusRepReqd = "0"
            pdcpSNSize    = "5"

            hdrCompUsed   = "0"
            maxCid        = "0"
            profile       = "0"

            bitFlag       = "0"
            isHoPres      = "0"
            dlCount       = "0"
            ulCount       = "0"
            numBits       = "0"
            ulBitMap      = "0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="1"
            rbType="0"
            status="1"
            reason="0"
         />
      </tapa.expect>

 
     #Send PDCP Config for  SRB1 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId          = "1"
            cfgType       = "1"
            rbType        = "0"
            discReqd      = "1"
            cfmReqd       = "1"
            discardTmr    = "100"

            dir           = "3"
            mode          = "3"

            statusRepReqd = "0"
            pdcpSNSize    = "5"

            hdrCompUsed   = "0"
            maxCid        = "0"
            profile       = "0"

            bitFlag       = "0"
            isHoPres      = "0"
            dlCount       = "0"
            ulCount       = "0"
            numBits       = "0"
            ulBitMap      = "0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.srb2cfg
#
#       Desc:    Command to configure SRB2 with 
#                discReqd and cfmReqd 
#                1)SRB2 for  UE:1 CellID:1
#                2)SRB2 for  UE:2 CellId:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.srb2cfg">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  SRB2 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################
      # Send TM mode Configuration Request for DCCH DCCH

      #Send PDCP Config for  SRB2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="2"
            cfgType="1"
            rbType="0"
            discReqd="1"
            cfmReqd="1"
            discardTmr="100"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="5"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="2"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     #Send PDCP Config for  SRB2 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="2"
            cfgType="1"
            rbType="0"
            discReqd="1"
            cfmReqd="1"
            discardTmr="100"

            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="5"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="2"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.dsrb1ue1T2
#
#       Desc:    Send Data on SRB1 from UE1 to UE2 
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb1ue1T2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on SRB1 from UE1 to UE2 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      #Send PDCP SDU from NH interface for SRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH"  sduId="0" sduSize="300"  rbId="1" rbType="0" ueId="1" cellId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" 
            lchData="0:-1:0:1:1:-1:-1"  
            pdcpHdr="-1:-1:0:-1" 
            snSize="5" mode = "3" vrfPdcp="TRUE" /> 
      </tapa.expect>

       #Send SRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1" ueId="2" lchData="0:0:0" rbId="1" rbType="0"  />
      </tapa.send>
      
      #Expect a Data Confirm at RRC for SRB1
      <tapa.expset>
         <tapa.pju.datind entity="ENTNH"  ueId="2" cellId="1" rbId="1" rbType="0" status="0" numSdu="1"/>
      </tapa.expset>

      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="1"  ueId="1" rbId="1" rbType="0"  /> 
      </tapa.send>

      #adarsh : To add datInd at RRC(dummy RLC to send ack to pdcp ue1)
      <tapa.expect>
      <tapa.pju.datcfm entity="ENTNH" status="0" numSdu="1" sduId="0"/>
      </tapa.expect>
   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.dsrb1ue1T2.cell2
#
#       Desc:    Send Data on SRB1 from UE1 to UE2 
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb1ue1T2.cell2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on SRB1 from UE1 to UE2 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      #Send PDCP SDU from NH interface for SRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH"  sduId="0" sduSize="300"  rbId="1" rbType="0" ueId="3" cellId="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="3" cellId="2" 
            lchData="0:-1:0:1:1:-1:-1"  
            pdcpHdr="-1:-1:0:-1" 
            snSize="5" mode = "3" vrfPdcp="TRUE" /> 
      </tapa.expect>

       #Send SRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="2" ueId="4" lchData="0:0:0" rbId="1" rbType="0"  />
      </tapa.send>
      
      #Expect a Data Confirm at RRC for SRB1
      <tapa.expset>
         <tapa.pju.datind entity="ENTNH"  ueId="4" cellId="2" rbId="1" rbType="0" status="0" numSdu="1"/>
      </tapa.expset>

      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="2"  ueId="3" rbId="1" rbType="0"  /> 
      </tapa.send>

      #adarsh : To add datInd at RRC(dummy RLC to send ack to pdcp ue1)
      <tapa.expect>
      <tapa.pju.datcfm entity="ENTNH" status="0" numSdu="1" sduId="0"/>
      </tapa.expect>
   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.dsrb1ue2T1
#
#       Desc:    Send Data on SRB1 from UE2 to UE1 
#                and Validate data is same. 
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb1ue2T1">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on SRB1 from UE2 to UE1 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for SRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="0" sduSize="300" rbType="0" rbId="1" ueId="2" cellId="1" />
      </tapa.send>

      #Expect the first SDU on SRB1 with size 302 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="2" cellId="1" 
            lchData="0:-1:0:1:1:-1:-1"  
            pdcpHdr="-1:-1:0:-1" 
            snSize="5" mode = "3" vrfPdcp="TRUE"/> 
      </tapa.expect>

       #Send SRB1 Data to Peer RLC
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="1" 
            lchData="1:2:0,0:0,0:0,0" rbId="1" rbType="0"/>
      </tapa.send>

      <tapa.expect>
      #Expect DatInd at PJU for SRB1 Data
        <tapa.pju.datind  entity="ENTNH" 
         cellId="1" ueId="1" rbId="1" rbType="0" status="0" numSdu="1" />
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="1"  ueId="2" rbId="1" rbType="0" /> 
      </tapa.send>

      #adarsh : To add datInd at RRC(dummy RLC to send ack to pdcp ue1)
      <tapa.expect>
      <tapa.pju.datcfm entity="ENTNH" sduId="0" status="0" numSdu="1"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.dsrb1ue2T1.cell2
#
#       Desc:    Send Data on SRB1 from UE2 to UE1 
#                and Validate data is same. 
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb1ue2T1.cell2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on SRB1 from UE2 to UE1 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for SRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="0" sduSize="300" rbType="0" rbId="1" ueId="4" cellId="2" />
      </tapa.send>

      #Expect the first SDU on SRB1 with size 302 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="4" cellId="2" 
            lchData="0:-1:0:1:1:-1:-1"  
            pdcpHdr="-1:-1:0:-1" 
            snSize="5" mode = "3" vrfPdcp="TRUE"/> 
      </tapa.expect>

       #Send SRB1 Data to Peer RLC
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="2"  ueId="3" 
            lchData="1:2:0,0:0,0:0,0" rbId="1" rbType="0"/>
      </tapa.send>

      <tapa.expect>
      #Expect DatInd at PJU for SRB1 Data
        <tapa.pju.datind  entity="ENTNH" 
         cellId="2" ueId="3" rbId="1" rbType="0" status="0" numSdu="1" />
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="2"  ueId="4" rbId="1" rbType="0" /> 
      </tapa.send>

      #adarsh : To add datInd at RRC(dummy RLC to send ack to pdcp ue1)
      <tapa.expect>
      <tapa.pju.datcfm entity="ENTNH" sduId="0" status="0" numSdu="1"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.dsrb2ue1T2
#
#       Desc:    Send Data on SRB2 from UE1 to UE2 
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb2ue1T2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on SRB2 from UE1 to UE2 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for SRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="0" sduSize="300" rbId="2" rbType="0" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB2 with size 307 at RGU
      # TODO: Need to look the lcID
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1"
            lchData="0:-1:0:2:1:-1:-1"  
            vrfPdcp="TRUE" pdcpHdr="-1:-1:0:-1" snSize="5" mode="3" />
      </tapa.expect>

       #Send SRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" 
            lchData="2:2:0,0:0,0:0,0:0,0" rbId="2" rbType="0" />
      </tapa.send>

      <tapa.expect>
      #Expect DatInd at PJU for SRB2 Data
         <tapa.pju.datind  entity="ENTNH" sduSize="300" 
            cellId="1" ueId="2" rbId="2"  rbType="0"/>
      </tapa.expect>
      
      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="1"  ueId="1" rbId="2" rbType="0"
             /> 
      </tapa.send>

      #adarsh : To add datInd at RRC(dummy RLC to send ack to pdcp ue1)
      <tapa.expect>
      <tapa.pju.datcfm entity="ENTNH" sduId="0" status="0" numSdu="1"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.dsrb2ue2T1
#
#       Desc:    Send Data on SRB2 from UE2 to UE1 
#                and Validate data is same. 
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb2ue2T1">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on SRB2 from UE2 to UE1 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for SRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="0" sduSize="300" rbId="2" ueId="2" cellId="1" rbType="0"/>
      </tapa.send>

      #Expect the first SDU on SRB2 with size 302 at RGU
      #TODO : need to look the logChId
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="2" cellId="1" 
            lchData="0:-1:0:2:1:-1:-1"  
            vrfPdcp="TRUE" pdcpHdr="-1:-1:0:-1" snSize="5" mode="3" />
      </tapa.expect>

       #Send SRB2 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="1" rbId="2" rbType="0"
            lchData="2:2:0,0:0,0:0,0"/>
      </tapa.send>

      <tapa.expect>
         #Expect DatInd at PJU for SRB2 Data
         <tapa.pju.datind  entity="ENTNH" sduSize="300" 
            cellId="1" ueId="1" rbId="2" rbType="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="1"  ueId="2" rbId="2" rbType="0"
              /> 
      </tapa.send>

      #adarsh : To add datInd at RRC(dummy RLC to send ack to pdcp ue1)
      <tapa.expect>
      <tapa.pju.datcfm entity="ENTNH" sduId="0" status="0" numSdu="1"/>
      </tapa.expect>


   </tapa.steps>

</tapa.command>


#
#
#       Command: tapa.dsrb1DTExp
#
#       Desc:    Discard Timer expire while sending data on SRB1 from UE1 to UE2 
#                
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb1DTExp">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Discard Timer expire while sending data on SRB1 from UE1 to UE2 "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for SRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="0" sduSize="300" rbId="1" rbType="0" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:-1:0:1:1:-1:-1"  
            pdcpHdr="-1:-1:0:-1" 
            snSize="5" mode = "3" vrfPdcp="TRUE" />
      </tapa.expect>

       #Send SRB1 Data to Peer RLC
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:2:0,0:0,0:0,0" rbId="1" rbType="0"/>
      </tapa.send>

       #Expect DatInd at PJU for SRB1 Data
      <tapa.expect>
         <tapa.pju.datind  entity="ENTNH" sduSize="300" 
            cellId="1" ueId="2" rbId="1" rbType="0" status="0" numSdus="1"/>
      </tapa.expect>

     # Send Late Ack here, Data Cfm with PJU_DISCARD_TMR_EXP
     # TODO: Need to look the correct timer value based
      <tapa.delay delay="10"/>
      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="1"  ueId="1" rbId="1" rbType="0"
            sduAck="0" /> 
      </tapa.send>

      #adarsh : To add datInd at RRC(dummy RLC to send ack to pdcp ue1)
      <tapa.expect>
      <tapa.pju.datcfm entity="ENTNH" sduId="0" status="2" numSdu="1"/>
      </tapa.expect>
   
   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.dsrb1drpkt
#
#       Desc:    Send Data on SRB1 from UE1 to UE2 
#                sduId: 1,2 and 3. Drop 2 pkt at RGU interface see the datacfm
#                with "failed".                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb1drpkt">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on SRB1 from UE1 to UE2 with sduId:1,2,3 . Drop sduId=2 at
RGU interface, Verify the data cfm with Failed for sduId=2"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>
   
#Send PDCP SDU from NH interface for SRB1 : sduId:1 Will be dropped
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="1" sduSize="300" rbId="1" rbType="0" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:-1:0:1:1:-1:-1"  
            pdcpHdr="-1:-1:1:-1" 
            snSize="5" mode = "3" vrfPdcp="TRUE"/>
      </tapa.expect>

      #Send Pkt 2 PDCP SDU from NH interface for SRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="2" sduSize="300" rbId="1" rbType="0" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="2"
            lchData="0:-1:0:1:1:-1:-1"  
            vrfPdcp="TRUE" pdcpHdr="-1:-1:2:-1" snSize="5" mode="3" />
      </tapa.expect>

       #Send SRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" transId="2"
            lchData="1:1:0:0:0:0"/>
      </tapa.send>

      #trigger StaRsp  by forcing delay 

      <!--  #Expect datReq for logical channel 1  ue 2
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1"  cellId="1" ueId="2" transId="2"
            lchData="0:0:1:1:1:4:-1:-1:-1:0:-1" />
      </tapa.expect>  -->

      #Add delay here
      <tapa.delay delay="20"/>

      <!--  #Expect a Data Confirm at RRC for SRB1
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTNH" sduId="0" ueId="1" cellId="1" rbId="1" rbType="0" status="0" numSdu="1"/>
      </tapa.expect>  -->
      
      #Send Pkt 2 PDCP SDU from NH interface for SRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="1" sduSize="300" rbId="1" rbType="0" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="4"
            lchData="0:-1:0:1:1:-1:-1"  
            vrfPdcp="TRUE" pdcpHdr="-1:-1:3:-1" snSize="5" mode="3" />
      </tapa.expect>

       #Send SRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" transId="4"
            lchData="1:1:0:0:0:0"/>
      </tapa.send>

      #trigger StaRsp  by forcing delay 
      <tapa.delay delay="20"/>

      <!--  #Send a data indication of the Status PDU for SRB1
      <tapa.send>
         <tapa.dummy.kwu.datcfm numLch="1" cellId="1"  ueId="1" transId="5"
            lchData="1:1:0:0:0:0" />
      </tapa.send>  

      #Expect a Data Confirm at RRC for SRB1
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTNH" ueId="1" cellId="1" rbId="1" rbType="0" status="1" numSdu="1"/>
      </tapa.expect>

      #Expect a Data Confirm at RRC for SRB1
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTNH" sduId="0" ueId="1" cellId="1" rbId="1" rbType="0" status="0" numSdu="1"/>
      </tapa.expect> -->

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.drb1cfg
#
#       Desc:    Command to configure DRB1 (AM)with 
#                discReqd and cfmReqd 
#                1)DRB1 for  UE:1 CellID:1
#                2)DRB1 for  UE:2 CellId:1
#                3) Security Act on DRB1 (UE:1 and UE:2)
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.drb1cfg">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  DRB1 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################
      # Send TM mode Configuration Request for DCCH DCCH

      #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="1"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="12"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="1"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>


     #Send PDCP Config for  DRB1 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="1"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="12"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="1"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>


#
#
#       Command: tapa.drb2cfg
#
#       Desc:    Command to configure DRB2 with 
#                discReqd and cfmReqd 
#                1)DRB2 for  UE:1 CellID:1(DL: UM)
#                2)DRB2 for  UE:2 CellId:1 (UL: UM)
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.drb2cfg">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  DRB2 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################

      #Send PDCP Config for  DRB2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="2"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="0"
            discardTmr="1000"
            dir="2"
            mode="2"
            statusRepReqd="0"
            pdcpSNSize="7"
            hdrCompUsed="0"
            maxCid="0"
            profile="1"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            inst="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="2"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     #Send PDCP Config for  DRB2 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="2"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="0"
            discardTmr="1000"
            dir="3"
            mode="2"
            statusRepReqd="0"
            pdcpSNSize="7"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="2"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.drb1cfg.cell2
#
#       Desc:    Command to configure DRB1 (AM)with 
#                discReqd and cfmReqd 
#                1)DRB1 for  UE:1 CellID:1
#                2)DRB1 for  UE:2 CellId:1
#                3) Security Act on DRB1 (UE:1 and UE:2)
#
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.drb1cfg.cell2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  DRB1 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################
      # Send TM mode Configuration Request for DCCH DCCH

      #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="3" cellId="2" numEnt="1"
            rbId="1"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="12"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="3" cellId="2" numEnt="1"
            rbId="1"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>


     #Send PDCP Config for  DRB1 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="4" cellId="2" numEnt="1"
            rbId="1"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"
            dir="3"
            mode="3"
            statusRepReqd="0"
            pdcpSNSize="12"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="4" cellId="2" numEnt="1"
            rbId="1"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>


#
#
#       Command: tapa.drb2cfg.cell2
#
#       Desc:    Command to configure DRB2 with 
#                discReqd and cfmReqd 
#                1)DRB2 for  UE:1 CellID:1(DL: UM)
#                2)DRB2 for  UE:2 CellId:1 (UL: UM)
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.drb2cfg.cell2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  DRB2 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################

      #Send PDCP Config for  DRB2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="3" cellId="2" numEnt="1"
            rbId="2"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="0"
            discardTmr="1000"
            dir="2"
            mode="2"
            statusRepReqd="0"
            pdcpSNSize="7"
            hdrCompUsed="0"
            maxCid="0"
            profile="1"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            inst="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="3" cellId="2" numEnt="1"
            rbId="2"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     #Send PDCP Config for  DRB2 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="4" cellId="2" numEnt="1"
            rbId="2"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="0"
            discardTmr="1000"
            dir="3"
            mode="2"
            statusRepReqd="0"
            pdcpSNSize="7"
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="4" cellId="2" numEnt="1"
            rbId="2"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.ddrb1ue1T2
#
#       Desc:    Send Data on DRB1 from UE1 to UE2 
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.ddrb1ue1T2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on DRB1 from UE1 to UE2 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="0" sduSize="300" rbId="1" ueId="1" cellId="1" rbType="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 with size 307 at KWU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" 
            lchData="0:0:0:3:1:-1:
                     -1:-1:-1:-1:-1"
            pdcpHdr="1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE" 
            snSize="12" mode = "3" vrfPdcp="TRUE" /> 
      </tapa.expect>

      #Send DRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2"  rbId="1" rbType="1"
            lchData="3:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      #Expect DatInd at PJU for DRB1 Data
      <tapa.expset>
         <tapa.pju.datind  entity="ENTPX" sduSize="300" 
            cellId="1" ueId="2" rbId="1" rbType="1" status="0" numSdu="1"/>
      </tapa.expset>

      #Send a data Cfm to PDCP
      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="1"  ueId="1" rbId="1" rbType="1"
            />
      </tapa.send>

      #Expect a Data Confirm at RRC for DRB1
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTPX" sduId="0" status="0" numSdu="1" />
      </tapa.expect> 

   </tapa.steps>

</tapa.command>

#
#       Command: tapa.ddrb2ue1T2
#
#       Desc:    Send Data on DRB2 from UE1 to UE2 
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.ddrb2ue1T2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on DRB2 from UE1 to UE2 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="0" sduSize="300" rbId="2"  rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on DRB2 with size 307 at KWU
      # TODO: Need to look the lcID
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" 
            lchData="0:0:0:4:1:-1:
                     -1:-1:-1:-1:-1"
            pdcpHdr="-1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE" vrfPdcp="TRUE" snSize="7" mode="2" />
      </tapa.expect>

       #Send DRB2 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2"  rbId="2" rbType="1"
            lchData="4:1:0:0:0:0"/>
      </tapa.send>

       #Expect DatInd at PJU for DRB2 Data
      <tapa.expect>
         <tapa.pju.datind  entity="ENTPX" sduSize="300" 
            cellId="1" ueId="2" rbId="2"  rbType="1" status="0" numSdu="1"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.ddrb1ue1T2.cell2
#
#       Desc:    Send Data on DRB1 from UE1 to UE2 
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.ddrb1ue1T2.cell2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on DRB1 from UE1 to UE2 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="0" sduSize="300" rbId="1" ueId="3" cellId="2" rbType="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 with size 307 at KWU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="3" cellId="2" 
            lchData="0:0:0:3:1:-1:
                     -1:-1:-1:-1:-1"
            pdcpHdr="1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE" 
            snSize="12" mode = "3" vrfPdcp="TRUE" /> 
      </tapa.expect>

      #Send DRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="2"  ueId="4"  rbId="1" rbType="1"
            lchData="3:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      #Expect DatInd at PJU for DRB1 Data
      <tapa.expset>
         <tapa.pju.datind  entity="ENTPX" sduSize="300" 
            cellId="2" ueId="4" rbId="1" rbType="1" status="0" numSdu="1"/>
      </tapa.expset>

      #Send a data Cfm to PDCP
      <tapa.send>
         <tapa.dummy.kwu.datcfm cellId="2"  ueId="3" rbId="1" rbType="1"
            />
      </tapa.send>

      #Expect a Data Confirm at RRC for DRB1
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTPX" sduId="0" status="0" numSdu="1" />
      </tapa.expect> 

   </tapa.steps>

</tapa.command>

#
#       Command: tapa.ddrb2ue1T2.cell2
#
#       Desc:    Send Data on DRB2 from UE1 to UE2 
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.ddrb2ue1T2.cell2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on DRB2 from UE1 to UE2 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="0" sduSize="300" rbId="2"  rbType="1" ueId="3" cellId="2"/>
      </tapa.send>

      #Expect the first SDU on DRB2 with size 307 at KWU
      # TODO: Need to look the lcID
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="3" cellId="2" 
            lchData="0:0:0:4:1:-1:
                     -1:-1:-1:-1:-1"
            pdcpHdr="-1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE" vrfPdcp="TRUE" snSize="7" mode="2" />
      </tapa.expect>

       #Send DRB2 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="2"  ueId="4"  rbId="2" rbType="1"
            lchData="4:1:0:0:0:0"/>
      </tapa.send>

       #Expect DatInd at PJU for DRB2 Data
      <tapa.expect>
         <tapa.pju.datind  entity="ENTPX" sduSize="300" 
            cellId="2" ueId="4" rbId="2"  rbType="1" status="0" numSdu="1"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>


#
#       Command: tapa.delue1N2
#
#       Desc:    Delete UE1 And UE2 from PDCP
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.delue1N2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Delete UE1 and UE2 from PDCP "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

   # Delete UE1 and UE2 from PDCP Layer 

      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="1"
            cfgType="5"
         />
      </tapa.send>
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
       <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="1"
            cfgType="5"
         />
      </tapa.send>
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
 
   </tapa.steps>

</tapa.command>

#
#       Command: tapa.delue1N2.cell2
#
#       Desc:    Delete UE1 And UE2 from PDCP
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.delue1N2.cell2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Delete UE1 and UE2 from PDCP "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

   # Delete UE1 and UE2 from PDCP Layer 

      <tapa.send>
         <tapa.cpj.cfgreq ueId="3" cellId="2" numEnt="1"
            rbId="1"
            cfgType="5"
         />
      </tapa.send>
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="3" cellId="2" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
       <tapa.send>
         <tapa.cpj.cfgreq ueId="4" cellId="2" numEnt="1"
            rbId="1"
            cfgType="5"
         />
      </tapa.send>
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="4" cellId="2" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
 
   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.dsrb1oosrgu
#
#       Desc:    Send Data on SRB1 from UE1 to UE2 in out of sequence.
#                sduId: 1,2 ,3 and 4 from UE1 at RGU Interface send 1,4, 3, 2
#                pkts to UE2.  
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.dsrb1oosrgu">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Out of sequence data on SRB1 from UE1 (sduId: 1,2,3,4)to UE2
(sduId:1,4,3,2). OOS will triggered at RGU interface."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>
   
  #Send PDCP SDU from NH interface for SRB1 : sduId:1
      <tapa.send>
       
         <tapa.pju.datreq entity="ENTNH" sduId="1" sduSize="300" rbId="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:307:
                     0:0:1:1:0"  
            pdcpHdr="1:-1:0:" intgProt="FALSE"  ciph ="FALSE"/>
      </tapa.expect>

       #Send SRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>

       #Expect DatInd at PJU for SRB1 Data
      <tapa.expect>
         <tapa.pju.datind  entity="ENTNH" sduSize="300" 
            cellId="1" ueId="2" rbId="1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for SRB1
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="1" transId="4"
            lchData="0:1:0:0:0:0" />
      </tapa.send>

      #Expect a Data Confirm at RRC for SRB1
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTNH" sduId="1" ueId="1" cellId="1" rbId="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for SRB1 : sduId:2
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="2" sduSize="300" rbId="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:307:
                     0:0:1:1:0"  
            pdcpHdr="1:-1:0:" intgProt="FALSE"  ciph ="FALSE"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for SRB1 : sduId:3
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="3" sduSize="300" rbId="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="3"
            lchData="0:0:0:1:1:307:
                     0:0:1:1:0"  
            pdcpHdr="1:-1:0:" intgProt="FALSE"  ciph ="FALSE"/>
      </tapa.expect>

      # Hold sduId:3 packet at RGU interface, send it out after sudId:4.

      #Send PDCP SDU from NH interface for SRB1 : sduId:4
      <tapa.send>
         <tapa.pju.datreq entity="ENTNH" sduId="1" sduSize="300" rbId="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the  SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="4"
            lchData="0:0:0:1:1:307:
                     0:0:1:1:0"  
            pdcpHdr="1:-1:0:" intgProt="FALSE"  ciph ="FALSE"/>
      </tapa.expect>

      #Send SRB1 Data to Peer PDCP of sduId: 4
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" transId="4"
            lchData="1:1:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      # Drop this bo request pkt and send sduId:3  packet 
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:1:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      # Drop this bo request pkt and send sduId:2  packet 
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" transId="2"
            lchData="1:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      #Expect DatInd at PJU for SRB1 Data for sduId: 1
      <tapa.expect>
         <tapa.pju.datind  entity="ENTNH" sduSize="300" 
            cellId="1" ueId="2" rbId="1" />
      </tapa.expect>

      #Expect DatInd at PJU for SRB1 Data for sduId: 2
      <tapa.expect>
         <tapa.pju.datind  entity="ENTNH" sduSize="300" 
            cellId="1" ueId="2" rbId="1" />
      </tapa.expect>

      #Expect DatInd at PJU for SRB1 Data for sduId: 3
      <tapa.expect>
         <tapa.pju.datind  entity="ENTNH" sduSize="300" 
            cellId="1" ueId="2" rbId="1" />
      </tapa.expect>

      #Expect DatInd at PJU for SRB1 Data for sduId: 4
      <tapa.expect>
         <tapa.pju.datind  entity="ENTNH" sduSize="300" 
            cellId="1" ueId="2" rbId="1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for SRB1
      <tapa.send>
         <tapa.dummy.kwu.datcfm numLch="1" cellId="1"  ueId="1" transId="8"
            lchData="0:1:0:0:0:0" />
      </tapa.send>

      #Expect a Data Confirm at RRC for SRB1 for sduId: 2
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTNH" sduId="2" ueId="1" cellId="1" rbId="1"/>
      </tapa.expect>

      #Expect a Data Confirm at RRC for SRB1 for sduId: 3
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTNH" sduId="3" ueId="1" cellId="1" rbId="1"/>
      </tapa.expect>

      #Expect a Data Confirm at RRC for SRB1 for sduId: 4
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTNH" sduId="4" ueId="1" cellId="1" rbId="1"/>
      </tapa.expect>

   </tapa.steps>

</tapa.command>


#
#
#       Command: tapa.drb1cntReq
#
#       Desc:    Command to count request 
#                1)DRB1 for  UE:1 CellID:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.drb1cntReq">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Count Request  DRB1 "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>



   #Send a Count request for UE ID - 1
      <tapa.send>
         <tapa.cpj.countreq ueId="1" cellId="1" transId="1"
         />
      </tapa.send>
      #kw006.201, fix for ccpu00120654
      #Expect a Count Confirm for UE ID - 1
      <tapa.expect>
         <tapa.cpj.countcfm ueId="1" cellId="1" numRb="2"
            rbId="1:2"
            dir="3:2"
            status="0"
            reason="0"
            transId="6"
            ulcount="0:0"
            dlcount="0:0"
         />
      </tapa.expect>

  #Send a Count request for UE ID - 2
      <tapa.send>
         <tapa.cpj.countreq ueId="2" cellId="1" transId="1"
         />
      </tapa.send>
      #kw006.201, fix for ccpu00120654
      #Expect a Count Confirm for UE ID - 1
      <tapa.expect>
         <tapa.cpj.countcfm ueId="2" cellId="1" numRb="2"
            rbId="1:2"
            dir="3:1"
            status="0"
            reason="0"
            transId="6"
            ulcount="0:0"
            dlcount="0:0"
         />
      </tapa.expect>
  
   </tapa.steps>

</tapa.command>


#
#
#       Command: tapa.srb1cntReq
#
#       Desc:    Command to count request 
#                1)SRB1 for  UE:1 CellID:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.srb1cntReq">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Count Request  SRB1 "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


   #Send a Count request for UE ID - 1
      <tapa.send>
         <tapa.cpj.countreq ueId="1" cellId="1" transId="1"
         />
      </tapa.send>
      #Expect a Count Confirm for UE ID - 1
      <tapa.expect>
         <tapa.cpj.countcfm ueId="1" cellId="1" numRb="1"
            rbId="1"
            dir="3"
            status="1"
            reason="0"
            transId="1"
            ulcount="0"
            dlcount="1"
         />
      </tapa.expect>

   #Send a Count request for UE ID - 2
      <tapa.send>
         <tapa.cpj.countreq ueId="2" cellId="1" transId="1"
         />
      </tapa.send>
      #Expect a Count Confirm for UE ID - 1
      <tapa.expect>
         <tapa.cpj.countcfm ueId="2" cellId="1" numRb="1"
            rbId="1"
            dir="3"
            status="1"
            reason="0"
            transId="1"
            ulcount="1"
            dlcount="0"
         />
      </tapa.expect>

   </tapa.steps>

</tapa.command>
     
#
#
#       Command: tapa.pdcpstareq
#
#       Desc:    Command to Statics request 
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.pdcpstareq">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "PDCP Statistics Request"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

  #PDCP Statistics Request
   <tapa.send>
      <tapa.lpj.stsreq action="0" elmnt="1"/>
   </tapa.send>

   <tapa.expect>
       <tapa.lpj.stscfm />
   </tapa.expect>

   #PJU SAP Statistics Request
   <tapa.send>
      <tapa.lpj.stsreq action="0" elmnt="188"/>
   </tapa.send>

   <tapa.expect>
       <tapa.lpj.stscfm />
   </tapa.expect>

   </tapa.steps>

</tapa.command>
 

#
#
#       Command: tapa.delsrb1
#
#       Desc:    Command to Delete SRB1
#                1)SRB1 for  UE:1 CellID:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.delsrb1">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  SRB1 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>
      #Send a Delete UE Request for UE ID - 1 
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="1"
            rbType="0"
            cfgType="3"
         />
      </tapa.send>
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="1"
            rbType="0"
            status="1"
            reason="0"
         />
      </tapa.expect>
       #Delete all the RLC RBs in the ue 

    </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.delsrb2
#
#       Desc:    Command to Delete SRB2
#                1)SRB2 for  UE:1 CellID:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.delsrb2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Delete SRB2 Configure "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>
      #Send a Delete RB Request for UE ID - 1 
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="2"
            rbType="0"
            cfgType="3"
         />
      </tapa.send>
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="2"
            rbType="0"
            status="1"
            reason="0"
         />
      </tapa.expect>
       #Delete all the RLC RBs in the ue 


    </tapa.steps>

</tapa.command>
 


 
#
#
#       Command: tapa.deldrb1
#
#       Desc:    Command to Delete DRB1
#                1)DRB1 for  UE:1 CellID:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.deldrb1">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Delete DRB1 Cfg"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>
      #Send a Delete DRB1 Request for UE ID - 1 
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="1"
            rbType="1"
            cfgType="3"
         />
      </tapa.send>
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="1"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
       #Delete all the RLC RBs in the ue 


    </tapa.steps>

</tapa.command>
 
#
#
#       Command: tapa.deldrb2
#
#       Desc:    Command to Delete DRB2
#                1)DRB2 for  UE:1 CellID:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.deldrb2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Delete DRB2 Cfg"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>
      #Send a Delete DRB2 Request for UE ID - 1 
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="2"
            rbType="1"
            cfgType="3"
        />
      </tapa.send>
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="2"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>


    </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.drb3cfg
#
#       Desc:    Command to configure DRB3 with 
#                discReqd and cfmReqd 
#                1)DRB3 for  UE:1 CellID:1(DL+UL: UM)
#                2)DRB3 for  UE:2 CellId:1 (DL+UL: UM)
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.drb3cfg">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  DRB3 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################

      
 
         #Send PDCP Config for  DRB3
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="100"

            dir="3"
            mode="2"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="1"
            maxCid="0"
            profile="1"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

 
     #Send PDCP Config for  DRB2 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="100"

            dir="3"
            mode="2"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="1"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.drb4cfg
#
#       Desc:    Command to configure DRB4 (AM)with 
#                discReqd and cfmReqd 
#                1)DRB4 for  UE:1 CellID:1
#                2)DRB4 for  UE:2 CellId:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.drb4cfg">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  DRB1 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################
      # Send TM mode Configuration Request for DCCH DCCH

      #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="4"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="100"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="4"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>


     #Send PDCP Config for  DRB1 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="4"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="100"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="4"
            rbType="1"
            status="1"
            reason="0"
            inst="1"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>


#
#
#       Command: tapa.drb5cfg
#
#       Desc:    Command to configure DRB5 (UM)with 
#                1)DRB5 for  UE:1 CellID:1
#                2)DRB5 for  UE:2 CellId:1
#                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.drb5cfg">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Configure the  DRB5 with discReqd "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      ########################################################
      #           CONFIGURATION START
      ########################################################
      
 
         #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="5"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="100"

            dir="1"
            mode="2"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="5"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>


 
     #Send PDCP Config for  DRB1 for UE 2
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="5"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="100"

            dir="1"
            mode="2"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="5"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

     ########################################################
      #                 CONFIGURATION END
      ########################################################

   </tapa.steps>

</tapa.command>

#
#       Command: tapa.ddrb2ue1T2.nocmp
#
#       Desc:    Send Data on DRB2 from UE1 to UE2 
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.ddrb2ue1T2.nocmp">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on DRB2 from UE1 to UE2 and Verify the data with no compression "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="0" sduSize="300" rbId="2"  rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on DRB2 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:4:1:-1:
                     -1:-1:-1:-1:-1"
            pdcpHdr="-1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE" vrfPdcp="TRUE" snSize="7" mode="2" />
      </tapa.expect>

       #Send DRB2 Data to Peer RLC
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" 
            lchData="4:1:0:0:0:0" rbId="2" rbType="1"/>
      </tapa.send>

       #Expect DatInd at PJU for DRB2 Data
      <tapa.expect>
         <tapa.pju.datind  entity="ENTPX" sduSize="300" 
            cellId="1" ueId="2" rbId="2"  rbType="1" />
      </tapa.expect>

   </tapa.steps>

</tapa.command>

#
#
#       Command: tapa.ddrb1ue1
#
#       Desc:    Send Data on DRB1 from UE1
#                and Validate data is same.                               
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.ddrb1ue1">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Data on DRB1 from UE1 and Verify the data "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>


      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="0" sduSize="300" rbId="1" ueId="1" cellId="1" rbType="1" pass="FALSE"/>
      </tapa.send>

      #Expect the first SDU on DRB1 with size 307 at RGU
      <tapa.expect guardTmr="1000">
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" 
            lchData="0:0:0:3:1:-1:-1:-1:-1:-1:-1"
            pdcpHdr="-1:-1:-1:-1" intgProt="FALSE"  ciph ="FALSE" 
            snSize="12" mode = "3" vrfPdcp="TRUE" pass="FALSE"/> 
      </tapa.expect>
      <!--
       #Send DRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" rbId="1" rbType="1"
            lchData="3:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>

       #Expect DatInd at PJU for DRB1 Data
      <tapa.expset>
         <tapa.pju.datind  entity="ENTPX" sduSize="300" 
            cellId="1" ueId="2" rbId="1" />
      </tapa.expset>

      #Send a data Ack
      <tapa.send>
         <tapa.dummy.kwu.datcfm  cellId="1"  ueId="1" rbId="1" rbType="1" />
      </tapa.send>

      #Expect a Data Confirm at RRC for DRB1
      <tapa.expect>
         <tapa.pju.datcfm entity="ENTPX" sduId="0" status="0" numSdu="1" />
      </tapa.expect>  -->
   </tapa.steps>

</tapa.command>



#
#
#       Command: tapa.ddrb1oos
#
#       Desc:    Send Data on DRB1 from UE1 to UE2 in out of sequence.
#                sduId: 1,2 ,3 and 4 from UE1 at RGU Interface send 1,4, 3, 2
#                pkts to UE2.  
#
#       Notes:   None
#
#       Module:  PDCP DL and UL
#
#       File:    pjac_cmd9.xml
#
#
<tapa.command id="tapa.ddrb1oos">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Send Out of sequence data on DRB1 from UE1 (sduId: 1,2,3,4)to UE2
(sduId:1,4,3,2). "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>
   
  #Send PDCP SDU from PX interface for SRB1 : sduId:1
      <tapa.send>
       
         <tapa.pju.datreq entity="ENTPX" sduId="1" sduSize="300" rbId="1" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:3:1:-1:
                     -1:-1:1:1:-1"  
                     pdcpHdr="1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE"
                     snSize="12" mode="3" vrfPdcp="TRUE"/>
      </tapa.expect>

       #Send DRB1 Data to Peer PDCP
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" transId="1" rbId="1" rbType="1"
            lchData="3:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      #Expect DatInd at PJU for DRB1 Data
      <tapa.expset>
         <tapa.pju.datind  entity="ENTPX" sduSize="300" 
            cellId="1" ueId="2" rbId="1" rbType="1" status="0" numSdu="1"/>
      </tapa.expset>
      
      #Send PDCP SDU from NH interface for SRB1 : sduId:2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="2" sduSize="300" rbId="1"  rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="2"
            lchData="0:0:0:3:1:-1:
                     -1:-1:1:1:-1"  
                     pdcpHdr="1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE"
                     snSize="12" mode="3" vrfPdcp="TRUE"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for SRB1 : sduId:3
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="3" sduSize="300" rbId="1" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the first SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="3"
            lchData="0:0:0:3:1:-1:
                     -1:-1:1:1:-1"  
                     pdcpHdr="1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE"
                     snSize="12" mode="3" vrfPdcp="TRUE"/>
      </tapa.expect>

      # Hold sduId:3 packet at RGU interface, send it out after sudId:4.

      #Send PDCP SDU from NH interface for SRB1 : sduId:4
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduId="4" sduSize="300" rbId="1"  rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect the  SDU on SRB1 with size 307 at RGU
      <tapa.expect>
         <tapa.dummy.kwu.datreq  numLch="1" ueId="1" cellId="1" transId="4"
            lchData="0:0:0:3:1:-1:
                     -1:-1:1:1:0"  
                     pdcpHdr="1:-1:0:-1" intgProt="FALSE"  ciph ="FALSE"
                     snSize="12" mode="3" vrfPdcp="TRUE"/>
      </tapa.expect>

      #Send SRB1 Data to Peer PDCP of sduId: 4
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="2" rbId="1" rbType="1" transId="4"
            lchData="3:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>
      #Expect DatInd at PJU for DRB1 Data
      <tapa.expset>
         <tapa.pju.datind  entity="ENTPX" sduSize="300" 
            cellId="1" ueId="2" rbId="1" rbType="1" status="0" numSdu="1"/>
      </tapa.expset>

      # Drop this bo request pkt and send sduId:3  packet 
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="1" rbId="2" rbType="1" transId="3"
            lchData="3:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>
      <!--
      # Drop this bo request pkt and send sduId:2  packet 
      <tapa.send>
         <tapa.dummy.kwu.datind numLch="1" cellId="1"  ueId="1" rbId="1" rbType="1" transId="2"
            lchData="3:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>  -->

   </tapa.steps>

</tapa.command>


#
#       Command: tapa.delue1
#
#       Desc:    Delete UE1 from PDCP
#                                               
#
#       Notes:   None
#
#       Module:  PDCP
#
#       File:    pjac_cmd2.xml
#
#
<tapa.command id="tapa.delue1">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Delete UE1 from PDCP "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

   # Delete UE1 from PDCP Layer 

      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="1"
            cfgType="5"
         />
      </tapa.send>
      <tapa.delay delay="2"/> 
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
 
   </tapa.steps>
</tapa.command>


#
#       Command: tapa.delue2
#
#       Desc:    Delete UE2 from PDCP
#                                               
#
#       Notes:   None
#
#       Module:  PDCP
#
#       File:    pjac_cmd2.xml
#
#
<tapa.command id="tapa.delue2">

   # Document subsection
   <tapa.doc>

      <tapa.desc>
         "Delete UE2 from PDCP "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Test Steps subsection
   <tapa.steps>

   # Delete UE2 from PDCP Layer 

      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="1"
            rbId="1"
            cfgType="5"
         />
      </tapa.send>
      <tapa.delay delay="2"/> 
      #Expect a config confirm 
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="1"
            rbId="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
 
   </tapa.steps>
</tapa.command>



# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************30**
#
#         End of file:     $SID$
#
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#   /main/1     ---    vb         LTE PDCP initial Release 2.1
*********************************************************************91*/
