#
#/********************************************************************20**
#
#     Name:    PDCP 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Cases
#
#     File:    pjac_grp7.xml
#
#     Sid:      $SID$
#
#     Prg:     Group 7 Test Cases  
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=1:1:Group 7 Test Cases :pjac_grp7.xml

#
#
#       Test:    7.1
#
#       Desc:   Validation of measurement request in PDCP layer
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.1"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
	   "Configure PDCP layer and send L2 Measurement request from
	    LM to PDCP layer. This test case is to test the validation of
	    each parameter in the L2 measurement request and send the appropriate
	    confirm with status and reason"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
       <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

      <tapa.delay delay="2"/>
   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Send Measurement request from LM to PDCP with measType is 0
      <tapa.send>
	      <tapa.lpj.l2measreq measType="0" />
      </tapa.send>
      
      #Expect measurement confirm with invalid measType
      <tapa.expect>
	      <tapa.lpj.l2meascfm numCfm="1"  status="LCM_PRIM_NOK" measType="0"
            reason="LPJ_CAUSE_INVALID_MEASTYPE" measData="0:0"/>
      </tapa.expect>
      
      #Send Measurement request from LM to PDCP with invalid measType
      <tapa.send>
	      <tapa.lpj.l2measreq measType="30" />
      </tapa.send>
      
      #Expect measurement confirm with invalid measType
      <tapa.expect>
	      <tapa.lpj.l2meascfm numCfm="1" status="LCM_PRIM_NOK" measType="30"
	      reason="LPJ_CAUSE_INVALID_MEASTYPE" measData="0:0"/>
      </tapa.expect>
     
      #Send L2 Measurement request with qci as 1 and 2
      <tapa.send>
	     <tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="2" qci="1:2"/>
      </tapa.send>
      
      #Expect L2 Measurement confirm with status as invalid and reason as invalid qci
      <tapa.expect>
         <tapa.lpj.l2meascfm numCfm="2" status="LCM_PRIM_NOK"  measType="1"
            reason="LPJ_CAUSE_INVALID_QCI" measData="1:0;2:0"/>
      </tapa.expect>
      
      <!--      #Send UE configuration in AM  with qci 0 to 9
      #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="10"
            cfgType="1:1:1:1:1:1:1:1:1:1"
            rbId="1:2:3:4:5:6:7:8:9:10"
            rbType="1:1:1:1:1:1:1:1:1:1"
            entMode="3:3:3:3:3:3:3:3:3:3"
            dir="3:3:3:3:3:3:3:3:3:3"
            logChId0Id="3:4:5:6:7:8:9:10:11:12"
            logChId0Type="4:4:4:4:4:4:4:4:4:4"
            logChId1Id="3:3:3:3:3:3:3:3:3:3"
            logChId1Type="4"
            umDlSnLen="0"
            umUlSnLen="0"
            umUlReOrdTmr="0"
            amDlPollRetxTmr="200:200:200:200:200:200:200:200:200:200"
            amDlPollPdu="1:1:1:1:1:1:1:1:1:1"
            amDlPollByte="25000:25000:25000:25000:25000:25000:25000:25000:25000:25000"
            amDlMaxRetx="1:1:1:1:1:1:1:1:1:1"
            amUlStaProhTmr="0:0:0:0:0:0:0:0:0:0"
            amUlReOrdTmr="2:2:2:2:2:2:2:2:2:2"
            qci="0:1:2:3:4:5:6:7:8:9"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="10" 
            rbId="1:2:3:4:5:6:7:8:9:10" 
            rbType="1:1:1:1:1:1:1:1:1:1"
            status="1:1:1:1:1:1:1:1:1:1" reason="0:0:0:0:0:0:0:0:0:0:0"/>
      </tapa.expect>    -->
 
      #Send PDCP Config for  DRB1
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="10"
            rbId="1:2:3:4:5:6:7:8:9:10"
            cfgType="1:1:1:1:1:1:1:1:1:1"
            rbType="1:1:1:1:1:1:1:1:1:1"
            discReqd="1:1:1:1:1:1:1:1:1:1"
            cfmReqd="1:1:1:1:1:1:1:1:1:1"
            discardTmr="1000:1000:1000:1000:1000:1000:1000:1000:1000:1000"

            dir="3:3:3:3:3:3:3:3:3:3"
            mode="3:3:3:3:3:3:3:3:3:3"
    
            statusRepReqd="0:0:0:0:0:0:0:0:0:0"
            pdcpSNSize="12:12:12:12:12:12:12:12:12:12"
    
            hdrCompUsed="0:0:0:0:0:0:0:0:0:0"
            maxCid="0:0:0:0:0:0:0:0:0:0"
            profile="0:0:0:0:0:0:0:0:0:0"
    
            bitFlag="0:0:0:0:0:0:0:0:0:0"
            isHoPres="0:0:0:0:0:0:0:0:0:0"
            dlCount="0:0:0:0:0:0:0:0:0:0"
            ulCount="0:0:0:0:0:0:0:0:0:0"
            numBits="0:0:0:0:0:0:0:0:0:0"
            ulBitMap="0:0:0:0:0:0:0:0:0:0"
            qci="0:1:2:3:4:5:6:7:8:9"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="10"
            rbId="1:2:3:4:5:6:7:8:9:10"
            rbType="1:1:1:1:1:1:1:1:1:1"
            status="1:1:1:1:1:1:1:1:1:1"
            reason="0:0:0:0:0:0:0:0:0:0"
         />
     </tapa.expect>
    
      #Send L2 Measurement request with measPeriod as 0
      <tapa.send>
	      <tapa.lpj.l2measreq measType="1" measPeriod="0"/>
      </tapa.send>
      
      #Expect L2 Measurement confirm with status as invalid and reason as invlaid qci
      <tapa.expect>
         <tapa.lpj.l2meascfm numCfm="1" measData="0:0" measType="1"
            status="LCM_PRIM_NOK" reason="LPJ_CAUSE_ZERO_MEASPERIOD"/>
      </tapa.expect>

      # Send measReq 10 times for diff qci with same measType
      <tapa.send>
	      <tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="0"/>
      </tapa.send>
      <tapa.send>
	      <tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="1"/>
      </tapa.send>
      <tapa.send>
       	<tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="2"/>
      </tapa.send>
      <tapa.send>
      	<tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="3"/>
      </tapa.send>
      <tapa.send>
       	<tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="4"/>
      </tapa.send>
      <tapa.send>
      	<tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="5"/>
      </tapa.send>
      <tapa.send>
      	<tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="6"/>
      </tapa.send>
      <tapa.send>
      	<tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="7"/>
      </tapa.send>
      <tapa.send>
      	<tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="8"/>
      </tapa.send>
      <tapa.send>
      	<tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="9"/>
      </tapa.send>
      
      #Send measReq with measType as 1 for qci 0
      <tapa.send>
	     <tapa.lpj.l2measreq measType="2" measPeriod="10" numQci="1" qci="0"/>
      </tapa.send>
      
      #Expect L2 Measurement confirm with status as invalid and reason as invlaid qci
      <tapa.expset>
         <tapa.lpj.l2meascfm numCfm="1" measData="0:0" measType="2"
            status="LCM_PRIM_NOK" reason="LPJ_CAUSE_EXCEED_MEASREQ"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="0:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="1:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="2:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="3:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="4:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="5:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="6:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="7:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="8:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
         <tapa.lpj.l2meascfm numCfm="1" measData="9:0" measType="1"
            status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"/>
      </tapa.expset>
    
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    7.2
#
#       Desc:    To test the packet delay in L2 Measurement
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.2"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet delay calculation in L2 Measurement with 1 UE and 1 RB"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	     <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      <!--    #Configure 1UE with 1 RB, one in AM with qci 1
      (rbId 3->lcId 3->qci 1)
      
      #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect>   -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send>  -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="1"/>     
      </tapa.send>
      
      <!--   ############Send data on DRB1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      ###################Send Harq indication on LcId 3 for all the data request#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
    </tapa.send>  -->

     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:1;" measType="1"/>
        <!--   <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/> -->
     </tapa.expset>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.3
#
#       Desc:    To test the packet delay in L2 Measurement
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.3"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
	     "To test the packet delay calculation in L2 Measurement with
	      1 UE with 3 RBs"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	     <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 3 RB, two in AM and another in UM with qci 1, 2 and 3
      (rbId 3->lcId 3->qci 1, rbId 4->lcId 4->qci->2, rbId 5->lcId 5->qci->3)
      
      <!--   #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="3"
            cfgType="1:1:1"
            rbId="3:4:5"
            rbType="1:1:1"
            entMode="3:3:2"
            dir="3:3:2"
            logChId0Id="3:4:5"
            logChId0Type="4:4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            umDlSnLen="5"
            umUlSnLen="5"
            umUlReOrdTmr="0"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:2:3"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="3" 
            rbId="3:4:5" 
            rbType="1:1:1"
            status="1:1:1" reason="0:0:0"/>
      </tapa.expect> -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="3"
            rbId="3:4:5"
            cfgType="1:1:1"
            rbType="1:1:1"
            discReqd="1:1:1"
            cfmReqd="1:1:1"
            discardTmr="1000:1000:1000"

            dir="3:3:2"
            mode="3:3:2"
    
            statusRepReqd="0:0"
            pdcpSNSize="7"
    
            hdrCompUsed="0:0:0"
            maxCid="0:0:0"
            profile="0:0:0"
    
            bitFlag="0:0:0"
            isHoPres="0:0:0"
            dlCount="0:0:0"
            ulCount="0:0:0"
            numBits="0:0:0"
            ulBitMap="0:0:0"
            qci="1:2:3"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="3"
            rbId="3:4:5"
            rbType="1:1:1"
            status="1:1:1"
            reason="0:0:0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="3" qci="1:2:3"/>     
      </tapa.send>
      
      <!--    #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="3" qci="1:2:3"/>     
      </tapa.send>

      ############Send data on DRB1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      ############Send data on DRB2###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
    
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
     
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>
      
      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
     
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
          <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>
      
      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
     
      ############Send data on DRB3###################
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	   <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="5"
		     rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	  <tapa.pju.datreq entity="ENTPX" sduSize="300" 
		      rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	      <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="5"
		     rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	      <tapa.pju.datreq entity="ENTPX" sduSize="300" 
             rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX" sduSize="300"
		     rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>
      
      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
	      rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	      <tapa.pju.datreq entity="ENTPX" sduSize="300" 
		      rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX" sduSize="300" 
		      rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
     
      ###################Send Harq indication on LcId 3 for all the data request#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:1:3,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:3,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:1:3,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:3,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:1:3,9;"/>
     </tapa.send>
    
     ###################Send Harq indication on LcId 4 for all the data request#############
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="11:1:4,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="12:1:4,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="13:1:4,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="14:1:4,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="15:1:4,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="16:1:4,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="17:1:4,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="18:1:4,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="19:1:4,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="20:1:4,9;"/>
     </tapa.send>
     
     ###################Send Harq indication on LcId 5 for all the data request#############
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="21:1:5,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="22:1:5,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="23:1:5,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="24:1:5,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="25:1:5,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="26:1:5,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="27:1:5,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="28:1:5,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="29:1:5,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="30:1:5,9;"/>
    </tapa.send>  -->
    
     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="3" measData="1:0;2:0;3:0" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="3" measData="1:1;2:1;3:1" measType="1"/>
     </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.4
#
#       Desc:    To test the packet delay in L2 Measurement
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.4"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
	     "To test the packet delay calculation in L2 Measurement with
	      1 UE with 3 RBs, here negative harq ack for rb 3 and 4.Positive 
	      ack for all the data request after the expiry of first measurement
	      request for rbId 5. Then send measurement request again for qci 3(rbId 5)"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	     <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 3 RB, two in AM and another in UM with qci 1, 2 and 3
      (rbId 3->lcId 3->qci 1, rbId 4->lcId 4->qci->2, rbId 5->lcId 5->qci->3)
      
      <!--      #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="3"
            cfgType="1:1:1"
            rbId="3:4:5"
            rbType="1:1:1"
            entMode="3:3:2"
            dir="3:3:2"
            logChId0Id="3:4:5"
            logChId0Type="4:4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            umDlSnLen="5"
            umUlSnLen="5"
            umUlReOrdTmr="0"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:2:3"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="3" 
            rbId="3:4:5" 
            rbType="1:1:1"
            status="1:1:1" reason="0:0:0"/>
      </tapa.expect> -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="3"
            rbId="3:4:5"
            cfgType="1:1:1"
            rbType="1:1:1"
            discReqd="1:1:1"
            cfmReqd="1:1:1"
            discardTmr="1000:1000:1000"

            dir="3:3:2"
            mode="3:3:2"
    
            statusRepReqd="0:0"
            pdcpSNSize="7"
    
            hdrCompUsed="0:0:0"
            maxCid="0:0:0"
            profile="0:0:0"
    
            bitFlag="0:0:0"
            isHoPres="0:0:0"
            dlCount="0:0:0"
            ulCount="0:0:0"
            numBits="0:0:0"
            ulBitMap="0:0:0"
            qci="1:2:3"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="3"
            rbId="3:4:5"
            rbType="1:1:1"
            status="1:1:1"
            reason="0:0:0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="3" qci="1:2:3"/>     
      </tapa.send>
      
      <!--    #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="3" qci="1:2:3"/>     
      </tapa.send>

      ############Send data on DRB1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      ############Send data on DRB2###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
          <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>
      
      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      ############Send data on DRB3###################
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	   <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="5"
		     rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	  <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	 <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="5"
		     rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	      <tapa.pju.datreq entity="ENTPX" sduSize="300" 
             rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	      <tapa.pju.datreq entity="ENTPX"  sduSize="300"
		     rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
	      rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	   <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
	      <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB3
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB3
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB3 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
     
      ###################Send Harq indication on LcId 3 for all the data request#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="6:1:3,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:3,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="8:1:3,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:3,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="10:1:3,9;"/>
     </tapa.send>
    
     ###################Send Harq indication on LcId 4 for all the data request#############
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="11:1:4,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="12:1:4,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="13:1:4,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="14:1:4,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="15:1:4,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:1:4,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:1:4,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:1:4,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:1:4,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:1:4,9;"/>
    </tapa.send>  -->
     
     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="3" measData="1:1;2:1;3:0" measType="1"/>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="3" measData="1:0;2:0;3:0" measType="2"/> -->
     </tapa.expset>
    
     ###################Send Harq indication on LcId 5 for all the data request#############
     <!--    #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="21:1:5,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="22:1:5,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="23:1:5,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="24:1:5,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="25:1:5,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="26:1:5,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="27:1:5,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="28:1:5,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="29:1:5,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 5
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="30:1:5,9;"/>
    </tapa.send>   -->

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="3"/>     
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="3"/>     
      </tapa.send>    -->
     
      #Wait for the l2 measurement confirm for qci 3
      <tapa.delay delay="10"/>
      
      #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="3:0;" measType="1"/>
        <!--    <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="3:0;" measType="2"/>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/> -->
     </tapa.expset>
    
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.5
#
#       Desc:    To test the packet delay in L2 Measurement with multiple UE 
#                and 2 RB each
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.5"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
	     "To test the packet delay calculation in L2 Measurement with
	      2 UE with 2 RBs, here negative harq ack for rb 3 and 4 for few
	      data request."
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	 <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 2 UE with 2 RB, two in AM and another in UM with qci 1 and 2
      (UE1->rbId 3->lcId 3->qci->1, UE1->rbId 4->lcId 4->qci->2, 
       UE2->rbId 3->lcId 3->qci->1, UE2->rbId 4->lcId 4->Qci->2
      )
      
      <!--     #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3"
            logChId1Type="4"
            umDlSnLen="5"
            umUlSnLen="5"
            umUlReOrdTmr="0"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1:2"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect> -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="1000:1000"

            dir="3:2"
            mode="3:2"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>

      <!--    #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="2" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3"
            logChId1Type="4"
            umDlSnLen="5"
            umUlSnLen="5"
            umUlReOrdTmr="0"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1:2"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="2" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="1000:1000"

            dir="3:2"
            mode="3:2"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
       </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="2" qci="1:2"/>   
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="2" qci="1:2"/>     
      </tapa.send>

      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      ############Send data on DRB2 in UE1###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
          <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      ############Send data on DRB1 in UE2###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      ############Send data on DRB2 for UE2###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
          <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
     
      ###################Send Harq indication on LcId 3 for all the data request for UE 1#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="6:1:3,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:3,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="8:1:3,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:3,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="10:1:3,9;"/>
     </tapa.send>
    
     ###################Send Harq indication on LcId 4 for all the data request for UE 1#############
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="11:1:4,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="12:1:4,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="13:1:4,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="14:1:4,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="15:1:4,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:1:4,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:1:4,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:1:4,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:1:4,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:1:4,9;"/>
     </tapa.send>

      ###################Send Harq indication on LcId 3 for all the data request for UE 2#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="21:1:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="22:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="23:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="24:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="25:1:3,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="26:1:3,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="27:1:3,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="28:1:3,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="29:1:3,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="30:1:3,9;"/>
     </tapa.send>
     
     ###################Send Harq indication on LcId 4 for all the data request for UE 1#############
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="31:1:4,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="32:1:4,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="33:1:4,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="34:1:4,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="35:1:4,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="36:1:4,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="37:1:4,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="38:1:4,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="39:1:4,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="40:1:4,9;"/>
    </tapa.send> -->
     
     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="2" measData="1:1;2:1;" measType="1"/>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="2" measData="1:0;2:0;" measType="2"/> -->
     </tapa.expset>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.6
#
#       Desc:    To test the packet delay in L2 Measurement with  single UE 
#                and 1 RB.
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.6"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
	     "To test the packet delay calculation in L2 Measurement with
	      1 UE with 1 RB, here L2 measurement request comes after the
	      data request."
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>
   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 RB with qci 1.
      (UE1->rbId 3->lcId 3->qci->1)
      
      <!--   #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            umDlSnLen="5"
            umUlSnLen="5"
            umUlReOrdTmr="0"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"

            dir="2"
            mode="2"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1:2:3"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      <!--    ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	      <tapa.pju.datreq entity="ENTPX" sduSize="300" 
		      rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>   -->

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--    #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send>

      ###################Send Harq indication on LcId 3 for all the data request for UE 1#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="6:1:3,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:3,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="8:1:3,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:3,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="10:1:3,9;"/>
    </tapa.send> -->
     
     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0;" measType="1"/>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0;" measType="2"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.7
#
#       Desc:    To test the packet delay in L2 Measurement with  single UE 
#                and 1 RB.
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.7"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
	     "To test the packet delay calculation in L2 Measurement with
	      1 UE with 1 RB, here L2 measurement request comes after 5
	      data request from Appl."
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	 <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>
   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 RB with qci 1.
      (UE1->rbId 3->lcId 3->qci->1)

      <!--      #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            umDlSnLen="5"
            umUlSnLen="5"
            umUlReOrdTmr="0"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect>
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"

            dir="2"
            mode="2"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1:2:3"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX" sduSize="300" 
		         rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>  
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="1"/>   
      </tapa.send>
      
      #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send>

      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      ###################Send Harq indication on LcId 3 for all the data request for UE 1#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:1:3,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:3,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:1:3,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:3,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:1:3,9;"/>
    </tapa.send>   
     
     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:1;" measType="1"/>
         <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0;" measType="2"/> 
     </tapa.expset>         -->
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.8
#
#       Desc:    To test the packet delay in L2 Measurement with allocation
#                less than the sdu size 
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.8"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet delay calculation in L2 Measurement with 1 UE and 1 RB
          with allocation less than sdu size from application"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	     <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      <!--    #Configure 1UE with 1 RB, one in AM with qci 1
      (rbId 3->lcId 3->qci 1)
      
      #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect>
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send>
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send>
      
      ############Send data on DRB1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      ###################Send Harq indication on LcId 3 for all the data request#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
    </tapa.send> 

     <tapa.delay delay="10"/>
     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0;" measType="2"/>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:1;" measType="1"/> 
     </tapa.expset>                                 -->
   
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.9
#
#       Desc:    To test the packet delay in L2 Measurement with allocation
#                less than the sdu size  and negative status in few harqAckInd
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.9"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet delay calculation in L2 Measurement with 1 UE and 1 RB
         with allocation less than sdu size from application and negative status in few
         harq status indication"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	     <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1UE with 1 RB, one in AM with qci 1
      (rbId 3->lcId 3->qci 1)
      
      <!--    #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
   </tapa.send>   

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="12"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      <!--     #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send> -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send>
      
      <!--     ############Send data on DRB1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="210" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      ###################Send Harq indication on LcId 3 for all the data request#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
    </tapa.send> -->

     <tapa.delay delay="10"/>
     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0;" measType="1"/>
     </tapa.expset>
   
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.10
#
#       Desc:    To test downlink discard rate in PDCP per qci, with single UE and 
#                single RB.
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.10"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
	      "To test downlink discard rate per qci in PDCP with single UE and RB"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 RB with qci 1.
      (UE1->rbId 3->lcId 3->qci->1)
      
      #Configure the corresponding RLC entities
      <!--     <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="2" measPeriod="10" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--    #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send>

      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>  -->
     
      # wait for sdu discard time to expire for few sdus
      <tapa.delay delay="200"/>

     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0:0;" measType="2"/>
        <!--    <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0;" measType="4"/> -->
        <tapa.pju.datcfm entity="ENTPX" sduId="0:1:2:3:4:5:6:7:8:9" ueId="1" cellId="1" rbId="3" rbType="1"
           status="2:2:2:2:2:2:2:2:2:2" numSdu="10" />
        <!--    <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.11
#
#       Desc:    To test downlink discard rate in PDCP per qci, with single UE and 
#                single RB.
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.11"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test downlink discard rate per qci in PDCP with single UE and RB
         here allocation does not comes from MAC"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 RB with qci 1.
      (UE1->rbId 3->lcId 3->qci->1)
      
      #Configure the corresponding RLC entities
      <!--      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect>   -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="1000"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="2" measPeriod="10" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--    #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send>

      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect> -->
      
      # wait for sdu discard time to expire for few sdus
      <tapa.delay delay="100"/>

     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0:0;" measType="2"/>
        <!--    <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0;" measType="4"/> -->
        <tapa.pju.datcfm entity="ENTPX" sduId="0:1:2:3:4:5:6:7:8:9" ueId="1" cellId="1" rbId="3" rbType="1"
           status="2:2:2:2:2:2:2:2:2:2" numSdu="10" />
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.12
#
#       Desc:    To test downlink discard rate in PDCP per qci, with single UE and 
#                single RB.
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.12"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test downlink discard rate per qci in PDCP with single UE and RB
         here allocation does not comes from MAC and sdu discard times is lesser
         than measPeriod"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 RB with qci 1.
      (UE1->rbId 3->lcId 3->qci->1)
      
      <!--    #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect> -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="10"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="2" measPeriod="10000" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="4" measPeriod="10000" numQci="1" qci="1"/>     
      </tapa.send>

      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>  -->
      
      # wait for sdu discard time to expire for few sdus
      <tapa.delay delay="100"/>

     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
        <tapa.pju.datcfm entity="ENTPX" sduId="0:1:2:3:4:5:6:7:8:9" ueId="1" cellId="1" rbId="3" rbType="1"
           status="2:2:2:2:2:2:2:2:2:2" numSdu="10" />
        <!--    <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0;" measType="4"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0:1000000;" measType="2"/>
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.13
#
#       Desc:    To test downlink discard rate in PDCP per qci, with single UE and 
#                multiple RB.
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.13"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test downlink discard rate per qci in PDCP with single UE and multiple 
          RB here allocation does not comes from MAC and sdu discard times is lesser
          than measPeriod"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 2 RB with qci 1.
      (UE1->rbId 3->lcId 3->qci->1, UE 1->rbId 4->lcId 4->qci->1)
      
      <!--     #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="10:10"

            dir="3:3"
            mode="3:3"
    
            statusRepReqd="0:0"
            pdcpSNSize="7:7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="2" measPeriod="10000" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--    #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="4" measPeriod="10000" numQci="1" qci="1"/>     
      </tapa.send>
      
      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>

      ############Send data on DRB2 in UE1###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" 
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>  -->
      
      # wait for sdu discard time to expire for few sdus
      <tapa.delay delay="100"/>

     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
        <tapa.pju.datcfm entity="ENTPX" sduId="0:1:2:3:4:5:6:7:8:9" ueId="1" cellId="1" rbId="3" rbType="1"
           status="2:2:2:2:2:2:2:2:2:2" numSdu="10" />
        <tapa.pju.datcfm entity="ENTPX" sduId="10:11:12:13:14" ueId="1" cellId="1" rbId="4" rbType="1"
           status="2:2:2:2:2" numSdu="5" />
        <!--    <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0" measType="4"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0:800000;" measType="2"/>
        <!--  <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/> -->
     </tapa.expset>
      
   </tapa.test>
  
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.14
#
#       Desc:    To test downlink discard rate in PDCP per qci, with two UE and 
#                multiple RB with different qci.
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.14"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test downlink discard rate per qci in PDCP with two UE and multiple 
         RB with different qci and MAC gives allocation for few sdus in RLC"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure  UE 1 with 2 RB with qci 1 and 2
      (UE1->rbId 3->lcId 3->qci->1, UE 1->rbId 4->lcId 4->qci->2)
      
      <!--      #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:2"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="10:10"

            dir="3:3"
            mode="3:3"
    
            statusRepReqd="0:0"
            pdcpSNSize="7:7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>
      
      #Configure  UE 2 with 2 RB with qci 1 and 2
      (UE2->rbId 3->lcId 3->qci->1, UE 2->rbId 4->lcId 4->qci->2)
      
      #Configure the corresponding RLC entities
      <!--      <tapa.send>
         <tapa.ckw.cfgreq  ueId="2" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:2"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="2" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="10:10"

            dir="3:3"
            mode="3:3"
    
            statusRepReqd="0:0"
            pdcpSNSize="7:7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="2" measPeriod="10000" numQci="2" qci="1:2"/>   
      </tapa.send>
      
      #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <!--    <tapa.send>
         <tapa.lkw.l2measreq measType="4" measPeriod="10000" numQci="2" qci="1:2"/>     
      </tapa.send>
      
      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
     
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>

      ############Send data on DRB2 in UE1###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" 
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" 
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
     
      ############Send data on DRB1 in UE2###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
     
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="2" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the first SDU on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>
      
      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>

     
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>
      
      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/>
      </tapa.expect>

      ############Send data on DRB2 in UE1###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" 
            rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" 
            rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4"
            rbType="1" ueId="2" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
      </tapa.expect> -->
      # wait for sdu discard time to expire for few sdus
      <tapa.delay delay="100"/>

     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
        <tapa.pju.datcfm entity="ENTPX" sduId="0:1:2:3:4:5:6:7:8:9" ueId="1" cellId="1"
           rbId="3" rbType="1" status="2:2:2:2:2:2:2:2:2:2" numSdu="10" />
        <tapa.pju.datcfm entity="ENTPX" sduId="10:11:12:13:14:16:17:18:19" ueId="1" cellId="1" 
           rbId="4" rbType="1" status="2:2:2:2:2:2:2:2:2:2" numSdu="10" />
        <tapa.pju.datcfm entity="ENTPX" sduId="20:21:22:23:24:25:26:27:28:29" ueId="2" cellId="1" 
           rbId="3" rbType="1"  status="2:2:2:2:2:2:2:2:2:2" numSdu="10" />
        <tapa.pju.datcfm entity="ENTPX" sduId="30:31:32:33:34:35:36:37:38:39:40" ueId="2" cellId="1" 
           rbId="4" rbType="1"  status="2:2:2:2:2:2:2:2:2:2" numSdu="10" />
        <!--    <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="2" measData="1:0;2:0" measType="4"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="2" measData="1:0:600000;2:0:1000000" measType="2"/>
        <!--   <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
        <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" valdType="1"/> -->
     </tapa.expset>
     
   </tapa.test>
  
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.15
#
#       Desc:    To test downlink discard rate in PDCP per qci, with single UE and 
#                single RB here MAC gives allocation to transmit partial SDUs from RLC"
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.15"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test downlink discard rate per qci in PDCP with single UE and RB
          with allocation from MAC such away that RLC splitts the SDU 
          in one data request"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 RB with qci 1.
      (UE1->rbId 3->lcId 3->qci->1)
      
      #Configure the corresponding RLC entities
      <!--      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect> -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="10"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="2" measPeriod="10000" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="4" measPeriod="10000" numQci="1" qci="1"/>     
      </tapa.send>

      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="110" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>  -->
      
      # wait for sdu discard time to expire for few sdus
      <tapa.delay delay="100"/>

     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0:800000;" measType="2"/>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="1:0;" measType="4"/> -->
        <tapa.pju.datcfm entity="ENTPX" sduId="0:1:2:3:4" ueId="1" cellId="1" rbId="3" rbType="1"
           status="2:2:2:2:2" numSdu="5" />
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.16
#
#       Desc:    To test measurement is valid only for DRB
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.16"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test L2 measurement is valid only for DRB not for SRB"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 SRB with qci 1
      (UE1->rbId 3->lcId 3->qci->1)
      
      #Configure the corresponding RLC entities
      <!--     <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="0"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="5"
            logChId1Id="3"
            logChId1Type="5"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="0"
            status="2" reason="0"/>
      </tapa.expect>   -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="0"
            discReqd="1"
            cfmReqd="1"
            discardTmr="10"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="0"
            status="2"
            reason="0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="2" measPeriod="10000" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--    #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="4" measPeriod="100" numQci="1" qci="1"/>     
      </tapa.send>  -->
      
      #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_NOK" reason="LPJ_CAUSE_INVALID_QCI"
            numCfm="1" measData="1:0;" measType="2"/>
         <!--    <tapa.lkw.l2meascfm status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI"
            numCfm="1" measData="1:0;" measType="4"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    7.17
#
#       Desc:    To test UL loss in PDCP
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.17"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test UL loss in PDCP. Here measurement request comes after all the UL loss
          with 1UE and 1RB"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 DRB with qci 1
      (UE1->rbId 3->lcId 3->qci->1)
      
      #Configure the corresponding RLC entities
      <!--      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect> -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="10"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
      
      <!--     # Send a pdcp pdu with sn as 5
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="5"
            lchData="3:3:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="3:1:0"/>
      </tapa.send>  -->

      #kw006.201 changes for ccpu00117290
      <tapa.delay delay="5"/>
      #Send L2 Measurement request from LM to PDCP with measType as UL Loss
      <tapa.send>
         <tapa.lpj.l2measreq measType="4" measPeriod="10" numQci="1" qci="1"/>   
      </tapa.send>
      
      #Expect L2 Measurement confirm for UL Loss
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
            numCfm="1" measData="1:0:0:0;" measType="4"/>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
         <!--    <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" 
            valdType="1"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.18
#
#       Desc:    To test UL loss in PDCP
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.18"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test UL loss in PDCP. Here measurement request comes before all the data from 
         lower layer with 1 UE and 1 RB"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 DRB with qci 1
      (UE1->rbId 3->lcId 3->qci->1)
      
      <!--     #Configure the corresponding RLC entities
      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect> -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="10"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>
      
      #Send L2 Measurement request from LM to PDCP with measType as UL Loss
      <tapa.send>
         <tapa.lpj.l2measreq measType="4" measPeriod="10" numQci="1" qci="1"/>   
      </tapa.send>

      <!--    # Send a pdcp pdu with sn as 5 on lcId 3
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="5"
            lchData="3:3:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="3:1:0"/>
      </tapa.send> -->
      
      #Expect L2 Measurement confirm for UL Loss
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
            numCfm="1" measData="1:0:0:833333;" measType="4"/>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
         <!--   <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" 
            valdType="1"/>  -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.19
#
#       Desc:    To test UL loss in PDCP
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.19"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test UL loss in PDCP. Here measurement request comes before all the data from 
         lower layer with 1 UE and 2 RB"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 2 DRB with qci 1
      (UE1->rbId 3->lcId 3->qci->1, UE1->rbId 4->lcId 4->qci 1)
      
      #Configure the corresponding RLC entities
      <!--      <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="10:10"

            dir="3:3"
            mode="3:3"
    
            statusRepReqd="0:0"
            pdcpSNSize="7:7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>
      
      #Send L2 Measurement request from LM to PDCP with measType as UL Loss
      <tapa.send>
         <tapa.lpj.l2measreq measType="4" measPeriod="10" numQci="1" qci="1"/>   
      </tapa.send>

      <!--    # Send a pdcp pdu with sn as 5 on lcId 3
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="5"
            lchData="3:3:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="3:1:0"/>
      </tapa.send>

      #kw006.201 changes for ccpu00112790
      <tapa.expect>
      <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" 
            valdType="1"/>
      </tapa.expect>

     #Expect data indication and status response
      <tapa.expect>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
      </tapa.expect>

      # Send a pdcp pdu with sn as 5 on lcId 4
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="9"
            lchData="3:4:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="4:1:0"/>
      </tapa.send> -->
      
      #kw006.201 changes for ccpu00112790
      #Expect L2 Measurement confirm for UL Loss
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
            numCfm="1" measData="1:0:0:875000;" measType="4"/>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
         <!--     <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" 
            valdType="1"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.20
#
#       Desc:    To test UL loss in PDCP with 2 UE and 2 RB
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.20"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test UL loss in PDCP. Here measurement request comes before all the data from 
         lower layer for 2 UE."
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 2 DRB with qci 1 and 2
      (UE1->rbId 3->lcId 3->qci->1, UE1->rbId 4->lcId 4->qci 2)
      
      #Configure the corresponding RLC entities
      <!--   <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:2"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>    -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="10:10"

            dir="3:3"
            mode="3:3"
    
            statusRepReqd="0:0"
            pdcpSNSize="7:7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>
      
      #Configure 2 UE with 2 DRB with qci 1 and 2
      (UE1->rbId 3->lcId 3->qci->1, UE1->rbId 4->lcId 4->qci 2)
      
      #Configure the corresponding RLC entities
      <!--      <tapa.send>
         <tapa.ckw.cfgreq  ueId="2" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:2"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="2" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="2" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="10:10"

            dir="3:3"
            mode="3:3"
    
            statusRepReqd="0:0"
            pdcpSNSize="7:7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="2" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>
     
      #Send L2 Measurement request from LM to PDCP with measType as UL Loss
      <tapa.send>
         <tapa.lpj.l2measreq measType="4" measPeriod="10" numQci="2" qci="1:2"/>   
      </tapa.send>
      
     
      <!--    # Send a pdcp pdu with sn as 5 on lcId 3
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="5"
            lchData="3:3:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="3:1:0"/>
      </tapa.send>

      #kw006.201 changes for ccpu00112790
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" 
            valdType="1"/>
      </tapa.expect>
      
      #Expect data indication and status response
      <tapa.expect>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
      </tapa.expect>

      # Send a pdcp pdu with sn as 5 on lcId 4
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="9"
            lchData="3:4:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="4:1:0"/>
      </tapa.send>
      
      #kw006.201 changes for ccpu00112790
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" 
            valdType="1"/>
      </tapa.expect>

     #Expect status response
      <tapa.expect>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
      </tapa.expect>

      # Send a pdcp pdu with sn as 5 on lcId 3
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="2" numLch="1" transId="1" sn="5"
            lchData="3:3:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="3:1:0"/>
      </tapa.send>
      
      #kw006.201 changes for ccpu00112790
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="3" 
            valdType="1"/>
      </tapa.expect>

     #Expect data indication and status response
      <tapa.expect>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="2" valdType="1"/>
      </tapa.expect>

      # Send a pdcp pdu with sn as 5 on lcId 4
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="2" numLch="1" transId="1" sn="9"
            lchData="3:4:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="4:1:0"/>
      </tapa.send>  -->

      #Expect L2 Measurement confirm for UL Loss
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
            numCfm="2" measData="1:0:0:833333;2:0:0:900000" measType="4"/>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="2" valdType="1"/>
         <!--   <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" 
            valdType="1"/> -->
     </tapa.expset>
    
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.21
#
#       Desc:    Deletion of RB when measurement in running on same RB
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.21"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test RB deletion when measurement is on going on the same RB"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 2 DRB with qci 1 and 2
      (UE1->rbId 3->lcId 3->qci->1, UE1->rbId 4->lcId 4->qci 2)
      
      #Configure the corresponding RLC entities
      <!--    <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:2"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>   -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="10:10"

            dir="3:3"
            mode="3:3"
    
            statusRepReqd="0:0"
            pdcpSNSize="7:7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>
      
      #Send L2 Measurement request from LM to PDCP with measType as UL Loss
      <tapa.send>
         <tapa.lpj.l2measreq measType="4" measPeriod="10" numQci="2" qci="1:2"/>   
      </tapa.send>

      <!--    # Send a pdcp pdu with sn as 5 on lcId 3
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="5"
            lchData="3:3:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="3:1:0"/>
      </tapa.send>

     #Expect data indication and status response
      <tapa.expset>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" 
            valdType="1"/>
      </tapa.expset>  -->

      #kw006.201 changes for ccpu00117290
      <tapa.delay delay="5"/>

      #Now send RB deletion, to delete RB  3
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            cfgType="3"
         />
      </tapa.send>

      #Step 10. Expect a config confirm for the deleted entity also an alarm
      <tapa.expset>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
         <tapa.lpj.staind category="2" event="98" qci="1" cause="268"/>
      </tapa.expset>

      <!--    # Send a pdcp pdu with sn as 5 on lcId 4
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="9"
            lchData="3:4:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="4:1:0"/>
      </tapa.send>  -->
      
      #Expect L2 Measurement confirm for UL Loss
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
            numCfm="2" measData="1:0:0:833333;2:0:0:900000" measType="4"/>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
         <!--    <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" 
            valdType="1"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    7.22
#
#       Desc:    Deletion of RB when measurement in running on same RB
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.22"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test RB deletion when measurement is on going on the same RB
          with same qci"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 2 DRB with qci 1 and 1
      (UE1->rbId 3->lcId 3->qci->1, UE1->rbId 4->lcId 4->qci 1)
      
      #Configure the corresponding RLC entities
      <!--     <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="3:4"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="3:4"
            logChId0Type="4:4"
            logChId1Id="3:4"
            logChId1Type="4:4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="1:1"
            amDlPollByte="25000:25000"
            amDlMaxRetx="1:1"
            amUlStaProhTmr="0:0"
            amUlReOrdTmr="2:2"
            qci="1:1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="2" 
            rbId="3:4" 
            rbType="1:1"
            status="1:1" reason="0:0"/>
      </tapa.expect>
      -->
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            cfgType="1:1"
            rbType="1:1"
            discReqd="1:1"
            cfmReqd="1:1"
            discardTmr="10:10"

            dir="3:3"
            mode="3:3"
    
            statusRepReqd="0:0"
            pdcpSNSize="7:7"
    
            hdrCompUsed="0:0"
            maxCid="0:0"
            profile="0:0"
    
            bitFlag="0:0"
            isHoPres="0:0"
            dlCount="0:0"
            ulCount="0:0"
            numBits="0:0"
            ulBitMap="0:0"
            qci="1:1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="2"
            rbId="3:4"
            rbType="1:1"
            status="1:1"
            reason="0:0"
         />
      </tapa.expect>
      
      #Send L2 Measurement request from LM to PDCP with measType as UL Loss
      <tapa.send>
         <tapa.lpj.l2measreq measType="4" measPeriod="10" numQci="1" qci="1"/>   
      </tapa.send>

      <!--    # Send a pdcp pdu with sn as 5 on lcId 3
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="5"
            lchData="3:3:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="3:1:0"/>
      </tapa.send> 

     #Expect data indication and status response
      <tapa.expset>
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" 
            valdType="1"/>
      </tapa.expset> -->
      
      #kw006.201 changes for ccpu00117290
      <tapa.delay delay="5"/>

      #Now send RB deletion, to delete RB  3
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            cfgType="3"
         />
      </tapa.send>

      #Step 10. Expect a config confirm for the deleted entity also an alarm
      <tapa.expset>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
         <tapa.lpj.staind category="2" event="98" qci="1" cause="268"/>
      </tapa.expset>

      <!--   # Send a pdcp pdu with sn as 5 on lcId 4
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="7"
            lchData="3:4:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="4:1:0"/>
      </tapa.send>   -->
      
      #Expect L2 Measurement confirm for UL Loss
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
            numCfm="1" measData="1:0:0:857142;" measType="4"/>
         <!--     <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" 
            valdType="1"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.23
#
#       Desc:    To test downlink discard rate, UL loss and packet delayy
#                in PDCP per qci, with single UE and  single RB"
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.23"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test downlink discard rate, UL loss and packet delay per qci
          in PDCP with single UE and RB."
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
	      <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 1 RB with qci 1.
      (UE1->rbId 3->lcId 3->qci->1)
      
      #Configure the corresponding RLC entities
      <!--    <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="3"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="3"
            logChId0Type="4"
            logChId1Id="3"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="1"
            amDlPollByte="25000"
            amDlMaxRetx="1"
            amUlStaProhTmr="0"
            amUlReOrdTmr="2"
            qci="1"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" 
            rbId="3" 
            rbType="1"
            status="1" reason="0"/>
      </tapa.expect> -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="1"
            rbId="3"
            cfgType="1"
            rbType="1"
            discReqd="1"
            cfmReqd="1"
            discardTmr="10"

            dir="3"
            mode="3"
    
            statusRepReqd="0"
            pdcpSNSize="7"
    
            hdrCompUsed="0"
            maxCid="0"
            profile="0"
    
            bitFlag="0"
            isHoPres="0"
            dlCount="0"
            ulCount="0"
            numBits="0"
            ulBitMap="0"
            qci="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="1"
            rbId="3"
            rbType="1"
            status="1"
            reason="0"
         />
      </tapa.expect>

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="7" measPeriod="10000" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="6" measPeriod="10000" numQci="1" qci="1"/>     
      </tapa.send>
     
      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
	     <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      # Send a pdcp pdu with sn as 5 on lcId 3
      <tapa.send>
         <tapa.dummy.rgu.rxPdcpPduCreate cellId="1" ueId="1" numLch="1" transId="1" sn="5"
            lchData="3:3:1:200:0:0:0:1:1:0:0:0:1:102"
            pdcppdutype="5" />
      </tapa.send>
      
      # MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="1"
            lchData="3:1:0"/>
      </tapa.send>   -->

      # wait for sdu discard time to expire for few sdus
      <tapa.delay delay="100"/>

     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0:1000000:833333;" measType="7"/>
        <!--     <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:0;" measType="6"/>
        <tapa.pju.datcfm entity="ENTPX" sduId="0:1:2:3:4:5" ueId="1" cellId="1" rbId="3" rbType="1"
           status="2:2:2:2:2" numSdu="6" />
         <tapa.pju.datind  entity="ENTPX" sduSize="100" cellId="1" ueId="1" valdType="1"/>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" 
            valdType="1"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    7.24
#
#       Desc:    To test the packet delay in L2 Measurement with 1 UE
#                and 10 RB
#
#       Notes:   None
#              
#       Module:  PDCP
#
#       File:    kwac_pj_grp7.xml
#
#
<tapa.testcase id="7.24"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
	     "To test the packet delay calculation in L2 Measurement with
	      1 UE with 10 RBs"
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
      </tapa.ifdef>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.pj.directive successTc="TRUE"/>

      #Initialize PDCP layer
      <tapa.pj.init/>

   </tapa.cfg>
 
   # Test Steps subsection
   <tapa.test>
     
      #Configure 1 UE with 10 RB, two in AM and another in UM with qci 1 and 2
      #Configure the corresponding RLC entities
      <!--   <tapa.send>
         <tapa.ckw.cfgreq  ueId="1" cellId="1" numEnt="10"
            cfgType="1:1:1:1:1:1:1:1:1:1"
            rbId="3:4:5:6:7:8:9:10:11:12"
            rbType="1:1:1:1:1:1:1:1:1:1"
            entMode="3:3:3:3:3:2:2:2:2:2"
            dir="3:3:3:3:3:2:2:2:2:2"
            logChId0Id="3:4:5:6:7:8:9:10:11:12"
            logChId0Type="4:4:4:4:4:4:4:4:4:4"
            logChId1Id="3:4:5:6:7:8:9:10:11:12"
            logChId1Type="4:4:4:4:4:4:4:4:4:4"
            umDlSnLen="5:5:5:5:5:5:5:5:5:5"
            umUlSnLen="5:5:5:5:5:5:5:5:5:5"
            umUlReOrdTmr="0:0:0:0:0:0:0:0:0:0"
            amDlPollRetxTmr="200:200:200:200:200:200:200:200:200:200"
            amDlPollPdu="1:1:1:1:1:1:1:1:1:1"
            amDlPollByte="25000:25000:25000:25000:25000:25000:25000:25000:25000:25000"
            amDlMaxRetx="1:1:1:1:1:1:1:1:1:1"
            amUlStaProhTmr="0:0:0:0:0:0:0:0:0:0"
            amUlReOrdTmr="2:2:2:2:2:2:2:2:2:2"
            qci="0:1:2:3:4:5:6:7:8:9"
         />
      </tapa.send>

      # Expect General Configuration Confirm
      <tapa.expect>
         <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="10" 
            rbId="3:4:5:6:7:8:9:10:11:12" 
            rbType="1:1:1:1:1:1:1:1:1:1"
            status="1:1:1:1:1:1:1:1:1:1" reason="0:0:0:0:0:0:0:0:0:0"/>
      </tapa.expect>  -->
      
       #Send PDCP Config for  DRB1
         
      <tapa.send>
         <tapa.cpj.cfgreq ueId="1" cellId="1" numEnt="10"
            rbId="3:4:5:6:7:8:9:10:11:12"
            cfgType="1:1:1:1:1:1:1:1:1:1"
            rbType="1:1:1:1:1:1:1:1:1:1"
            discReqd="1:1:1:1:1:1:1:1:1:1"
            cfmReqd="1:1:1:1:1:1:1:1:1:1"
            discardTmr="1000:1000:1000:1000:1000:1000:1000:1000:1000:1000"

            dir="3:3:3:3:3:2:2:2:2:2"
            mode="3:3:3:3:3:2:2:2:2:2"
    
            statusRepReqd="0:0:0:0:0:0:0:0:0:0"
            pdcpSNSize="7:7:7:7:7:7:7:7:7:7"
    
            hdrCompUsed="0:0:0:0:0:0:0:0:0:0"
            maxCid="0:0:0:0:0:0:0:0:0:0"
            profile="0:0:0:0:0:0:0:0:0:0"
    
            bitFlag="0:0:0:0:0:0:0:0:0:0"
            isHoPres="0:0:0:0:0:0:0:0:0:0"
            dlCount="0:0:0:0:0:0:0:0:0:0"
            ulCount="0:0:0:0:0:0:0:0:0:0"
            numBits="0:0:0:0:0:0:0:0:0:0"
            ulBitMap="0:0:0:0:0:0:0:0:0:0"
            qci="0:1:2:3:4:5:6:7:8:9"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.cpj.cfgcfm ueId="1" cellId="1" numEnt="10"
            rbId="3:4:5:6:7:8:9:10:11:12"
            rbType="1:1:1:1:1:1:1:1:1:1"
            status="1:1:1:1:1:1:1:1:1:1"
            reason="0:0:0:0:0:0:0:0:0:0"
         />
      </tapa.expect>
     
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="0"/>   
      </tapa.send>
      
      <!--    #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="0"/>     
      </tapa.send> -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="1"/>   
      </tapa.send>
      
      <!--  #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="1"/>     
      </tapa.send> -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="2"/>   
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="2"/>     
      </tapa.send> -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="3"/>   
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="3"/>     
      </tapa.send>  -->

      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="4"/>   
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="4"/>     
      </tapa.send>  -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="5"/>   
      </tapa.send>
      
      <!--   #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="5"/>     
      </tapa.send> -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="6"/>   
      </tapa.send>
      
      <!--  #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="6"/>     
      </tapa.send> -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="7"/>   
      </tapa.send>
      
      <!--  #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="7"/>     
      </tapa.send> -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="8"/>   
      </tapa.send>
      
      <!-- #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="8"/>     
      </tapa.send> -->
      
      #Send L2 Measurement request from LM to PDCP with measType as DL packet delay
      <tapa.send>
         <tapa.lpj.l2measreq measType="1" measPeriod="1" numQci="1" qci="9"/>   
      </tapa.send>
      
      <!-- #Send L2 Measurement request from LM to RLC with measType as DL packet delay
      <tapa.send>
         <tapa.lkw.l2measreq measType="2" measPeriod="10" numQci="1" qci="9"/>     
      </tapa.send>
      
      ############Send data on DRB1 in UE1###################
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="3" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="3" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="3" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      ############Send data on DRB2 in UE1###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
          <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="4" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      ###############Send data on DRB3 on UE1#############
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB1
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="5" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB1
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB1 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      ############Send data on DRB4 in UE1###################
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>

      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX"  sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
         <tapa.pju.datreq entity="ENTPX" sduSize="300" rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>
      
      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
      </tapa.expect>
      
      #Send PDCP SDU from NH interface for DRB2
      <tapa.send>
          <tapa.pju.datreq entity="ENTPX"  sduSize="300" 
		      rbId="6" rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU at RGU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
      </tapa.expect>

      #Send StaInd  to RLC to accomodate SDU at DRB2
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="310" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect the data on DRB2 at RGU
      <tapa.expect>
        <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
     </tapa.expect>
     
      ###################Send Harq indication on LcId 3 for all the data request for UE 1#############
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:3,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="2:1:3,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:3,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="4:1:3,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:3,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="6:1:3,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:3,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="8:1:3,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:3,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 3
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="3" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="10:1:3,9;"/>
     </tapa.send>
     
     ###################Send Harq indication on LcId 4 for all the data request for UE 1#############
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="11:1:4,0;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="12:1:4,1;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="13:1:4,2;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="14:1:4,3;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="15:1:4,4;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:1:4,5;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:1:4,6;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:1:4,7;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:1:4,8;"/>
     </tapa.send>
      #Send Harq ack indication on LcId 4
     <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:1:4,9;"/>
     </tapa.send>
     
     ###################Send Harq indication on LcId 5 for all the data request for UE 1#############
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="21:1:5,0;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="22:1:5,1;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="23:1:5,2;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="24:1:5,3;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="25:1:5,4;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="26:1:5,5;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="27:1:5,6;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="28:1:5,7;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="29:1:5,8;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="30:1:5,9;"/>
     </tapa.send>
    
     ###################Send Harq indication on LcId 6 for all the data request for UE 1#############
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="31:1:6,0;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="32:1:6,1;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="33:1:6,2;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="34:1:6,3;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="35:1:6,4;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="36:1:6,5;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="37:1:6,6;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="38:1:6,7;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind  ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="39:1:6,8;"/>
     </tapa.send>
     <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="40:1:6,9;"/>
    </tapa.send>-->
     
     #Expect L2 Measurement confirm for DL packet delay
     <tapa.expset>
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="0:1;" measType="1"/>
        <!--     <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="0:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="1:1;" measType="1"/>
       <!--  <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          numCfm="1" measData="1:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="2:1;" measType="1"/>
        <!--  <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="2:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="3:1;" measType="1"/>
        <!--  <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="3:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="4:0;" measType="1"/>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="4:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="5:0;" measType="1"/>
        <!--  <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="5:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="6:0;" measType="1"/>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="6:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="7:0;" measType="1"/>
        <!--   <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="7:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="8:0;" measType="1"/>
        <!--  <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="8:0;" measType="2"/> -->
         <tapa.lpj.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
		     numCfm="1" measData="9:0;" measType="1"/>
        <!--  <tapa.lkw.l2meascfm status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
           numCfm="1" measData="9:0;" measType="2"/> -->
     </tapa.expset>
     
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
      <tapa.pj.deinit/>
      <tapa.delay delay="2"/> 
   </tapa.shutdown>

</tapa.testcase>
# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************30**
#
#         End of file:  pjac_grp7.xml@@/main/TeNB_Main_BR/1 - Wed Oct  9 19:53:05 2013
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#/main/1       ---      vb           1.LTE PDCP Initial Release 2.1 
#*********************************************************************91*/
