#
#/********************************************************************20**
#
#     Name:    RLC 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Cases
#
#     File:    kwac_grp1.xml
#
#     Sid:      $SID$
#
#     Prg:     Group 1 Test Cases  
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=1:1:Group 1 Test Cases :kwac_grp1.xml

#
#
#       Test:    1.1
#
#       Desc:    RLC Layet Manager Configuration
#
#       Notes:   None
#              
#       Module:  LMM
#
#       File:    kwac_grp1.xml
#
#
<tapa.testcase id="1.1"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="lmm"/>

      <tapa.desc>
         "Configuring RLC Layer Manager"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.2
#
#       Desc:    Status Request Verification
#
#       Notes:   None
#              
#       Module:  LMM
#
#       File:    kwac_grp1.xml
#
#
<tapa.testcase id="1.2"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="lmm"/>

      <tapa.desc>
         "Configuring RLC Layer Manager and getting default values of status"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
   <tapa.delay delay="2"/>
 
   <tapa.send>
      <tapa.lkw.stareq elmnt="8" inst="1"/>
   </tapa.send>

   <tapa.expect>
       <tapa.lkw.stacfm inst="1"/>
   </tapa.expect>

   <tapa.delay delay="2"/>

   <tapa.send>
      <tapa.lkw.stareq elmnt="185" inst="1"/>
   </tapa.send>

   <tapa.expect>
       <tapa.lkw.stacfm  inst="1"/>
   </tapa.expect>

   <tapa.delay delay="2"/>

   <tapa.send>
      <tapa.lkw.stareq elmnt="184" inst="1"/>
   </tapa.send>

   <tapa.expect>
       <tapa.lkw.stacfm  inst="1"/>
   </tapa.expect>

   <tapa.delay delay="2"/>

   <tapa.send>
      <tapa.lkw.stareq elmnt="186" inst="1"/>
   </tapa.send>

   <tapa.expect>
       <tapa.lkw.stacfm  inst="1"/>
   </tapa.expect>

   <tapa.delay delay="2"/>

   <tapa.send>
      <tapa.lkw.stareq elmnt="186" inst="1"/>
   </tapa.send>

   <tapa.expect>
       <tapa.lkw.stacfm  inst="1"/>
   </tapa.expect>

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="5"/> 
      
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    1.3
#
#       Desc:    Entity configuration for all the modes 
#
#       Notes:   None
#              
#       Module:  CKW CFG
#
#       File:    kwac_grp2.xml
#
#
<tapa.testcase id="1.3"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="ckwcfg"/>

      <tapa.desc>
         "Configuring RLC Layer Control Interface"
      </tapa.desc>

      <tapa.longdesc>
         "1. ueId=1, cellId=1, numEnt=5 (1-UM, 2-UM, 3-UM, 4-AM, 5-AM) successful configuration.
          2. ueId=0, cellId=1, numEnt=3 (All TM) successful configuration.
          3. ueId=1, cellId=1, numEnt=5 (1,2,5) successful reconfiguration.
          4. ueId=0, cellId=1, numEnt=1 (3) successful reconfiguration.
          5. Delete ueId=1, cellId=1, numEnt=5
          6. Delete ueId=0, cellId=1, numEnt=3"
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
    </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>

      <tapa.delay delay="2"/>
      #Configure 5 RBs in a UE - 2 UM DL and 1 UM UL and 2 AM entities
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="1:1:1:1:1"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            entMode="2:2:2:3:3"
            dir="2:1:2:3:3"
            logChId0Id="1:2:3:4:5"
            logChId0Type="4:4:4:4:5"
            logChId1Id="0:0:0:4:5"
            logChId1Type="0:0:0:4:5"
            umDlSnLen="1:0:1:0:0"
            umUlSnLen="0:1:0:0:0"
            umUlReOrdTmr="0:100:0:0:0"
            amDlPollRetxTmr="0:0:0:200:100"
            amDlPollPdu="0:0:0:10:15"
            amDlPollByte="0:0:0:2500:5000"
            amDlMaxRetx="0:0:0:7:5"
            amUlStaProhTmr="0:0:0:300:100"
            amUlReOrdTmr="0:0:0:300:600"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5" 
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            status="1:1:1:1:1"
         />
   </tapa.expect>  
      #Configure 3 RBs in a Cell - 1 BCCH DL, 1 PCCH DL, 1 CCCH DL
      <tapa.send>
         <tapa.ckw.cfgreq ueId="0" cellId="1" numEnt="3"
            cfgType="1:1:1"
            rbId="1:2:3"
            rbType="0:0:0"
            entMode="1:1:1"
            dir="2:2:2"
            logChId0Id="1:2:3"
            logChId0Type="1:2:3"
            logChId1Id="0:0:0"
            logChId1Type="0:0:0"
         />
      </tapa.send>
      #Expect a confirm for all of the entities configured in the cell
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="3"
            rbId="1:2:3"
            rbType="0:0:0"
            status="1:1:1"
         />
      </tapa.expect>  

      <tapa.delay delay="2"/>
      #Modify 3 RBs in UE - 2 DL UM and 1 AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="3"
            cfgType="2:2:2"
            rbId="1:2:1"
            rbType="1:1:0"
            entMode="2:2:3"
            dir="2:1:3"
            logChId0Id="4:6:8"
            logChId0Type="4:4:5"
            logChId1Id="0:0:8"
            logChId1Type="0:0:5"
            umDlSnLen="2:0:0"
            umUlSnLen="0:2:0"
            umUlReOrdTmr="0:0:0"
            amDlPollRetxTmr="0:0:200"
            amDlPollPdu="0:0:10"
            amDlPollByte="0:0:500"
            amDlMaxRetx="0:0:3"
            amUlStaProhTmr="0:0:300"
            amUlReOrdTmr="0:0:500"
         />
      </tapa.send>   
      #Expect a confirm for the modification config request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="3"
            rbId="1:3:1"
            rbType="1:1:0"
            status="1:1:1"
         />
      </tapa.expect>  

      #Modify 1 RBs in a Cell -  1 CCCH DL to 1 CCCH UL
      <tapa.send>
         <tapa.ckw.cfgreq ueId="0" cellId="1" numEnt="1"
            cfgType="2"
            rbId="3"
            rbType="0"
            entMode="1"
            dir="2"
            logChId0Id="3"
            logChId0Type="3"
            logChId1Id="0"
            logChId1Type="0"
         />
      </tapa.send>
      #Expect a confirm for all of the entities configured in the cell
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="3"
            rbType="0"
            status="1"
         />
      </tapa.expect>  

      <tapa.delay delay="2"/>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.4
#
#       Desc:    Entity configuration with multiple add/delete/reconfig/re-establish 
#
#       Notes:   None
#
#       Module:  CKW CFG
#
#       File:    kwac_grp2.xml
#
#
<tapa.testcase id="1.4"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="ckwcfg"/>

      <tapa.desc>
         "Configuring RLC Layer Manager"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

    # Configuration subsection
   <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>
   </tapa.cfg>

    # Test Steps subsection
   <tapa.test>
      # Configuring 5 entities
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="1:1:1:1:1"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            entMode="2:2:2:3:3"
            dir="2:1:2:3:3"
            logChId0Id="1:2:3:4:5"
            logChId0Type="4:4:4:4:5"
            logChId1Id="0:2:0:4:5"
            logChId1Type="0:4:0:4:5"
            umDlSnLen="1:0:1:0:0"
            umUlSnLen="0:1:0:0:0"
            umUlReOrdTmr="0:100:0:0:0"
            amDlPollRetxTmr="0:0:0:200:100"
            amDlPollPdu="0:0:0:10:15"
            amDlPollByte="0:0:0:2500:5000"
            amDlMaxRetx="0:0:0:7:5"
            amUlStaProhTmr="0:0:0:300:100"
            amUlReOrdTmr="0:0:0:300:600"
         />
      </tapa.send>

      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            status="1:1:1:1:1"
         />
      </tapa.expect>

      #Delete Invalid Rb Id
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="3"
            rbId="100"
            rbType="1"
            dir="2"
         />
      </tapa.send>

      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="100"
            rbType="1"
            status="2"
         />
      </tapa.expect>

      #Delete Invalid Ue Id
      <tapa.send>
         <tapa.ckw.cfgreq ueId="8" cellId="1" numEnt="1"
            cfgType="3"
            rbId="1"
            rbType="1"
            dir="2"
         />
      </tapa.send>

      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="1"
            rbType="1"
            status="2"
         />
      </tapa.expect>

 
      #Delete Rb Id which does not exists in UE
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="3"
            rbId="10"
            rbType="1"
            dir="2"
         />
      </tapa.send>

      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="10"
            rbType="1"
            status="2"
         />
      </tapa.expect>

      #Delete all the RBs in the ue
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="3:3:3:3:3"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            dir="2:1:2:3:3"
         />
      </tapa.send>

      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5"
            rbId="1:2:3:4:5"
            rbType="1:1:1:1:1"
            status="1:1:1:1:1"
         />
      </tapa.expect>

      # Again configure 5 entities      
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="1:1:1:1:1"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            entMode="2:2:2:3:3"
            dir="2:1:2:3:3"
            logChId0Id="1:2:3:4:5"
            logChId0Type="4:4:4:4:5"
            logChId1Id="0:2:0:4:5"
            logChId1Type="0:4:0:4:5"
            umDlSnLen="1:0:1:0:0"
            umUlSnLen="0:1:0:0:0"
            umUlReOrdTmr="0:100:0:0:0"
            amDlPollRetxTmr="0:0:0:200:100"
            amDlPollPdu="0:0:0:10:15"
            amDlPollByte="0:0:0:2500:5000"
            amDlMaxRetx="0:0:0:7:5"
            amUlStaProhTmr="0:0:0:300:100"
            amUlReOrdTmr="0:0:0:300:600"
         />
      </tapa.send>     
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            status="1:1:1:1:1"
         />
      </tapa.expect>

      #modify the entities 
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="3"
            cfgType="2:2:2"
            rbId="1:3:1"
            rbType="1:1:0"
            entMode="2:2:3"
            dir="2:2:3"
            logChId0Id="4:6:8"
            logChId0Type="4:4:5"
            logChId1Id="0:0:8"
            logChId1Type="0:0:5"
            umDlSnLen="0:2:0"
            umUlSnLen="0:0:0"
            umUlReOrdTmr="0:0:0"
            amDlPollRetxTmr="0:0:200"
            amDlPollPdu="0:0:10"
            amDlPollByte="0:0:500"
            amDlMaxRetx="0:0:3"
            amUlStaProhTmr="0:0:300"
            amUlReOrdTmr="0:0:500"
         />
      </tapa.send>

      #Expect a confirm for the modification config request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="3"
            rbId="1:3:1"
            rbType="1:1:0"
            status="1:1:1"
         />
      </tapa.expect>

      #Delete all the RBs in the ue
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="3:3:3:3:3"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            dir="2:1:2:3:3"
         />
      </tapa.send>

      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            status="1:1:1:1:1"
         />
      </tapa.expect>

      #Configure 5 entities
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="1:1:1:1:1"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            entMode="2:2:2:3:3"
            dir="2:1:2:3:3"
            logChId0Id="1:2:3:4:5"
            logChId0Type="4:4:4:4:5"
            logChId1Id="0:2:0:4:5"
            logChId1Type="0:4:0:4:5"
            umDlSnLen="1:0:1:0:0"
            umUlSnLen="0:1:0:0:0"
            umUlReOrdTmr="0:100:0:0:0"
            amDlPollRetxTmr="0:0:0:200:100"
            amDlPollPdu="0:0:0:10:15"
            amDlPollByte="0:0:0:2500:5000"
            amDlMaxRetx="0:0:0:7:5"
            amUlStaProhTmr="0:0:0:300:100"
            amUlReOrdTmr="0:0:0:300:600"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            status="1:1:1:1:1"
         />
      </tapa.expect>

      #Send a Re-establishment request to all the RBs
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="4:4:4:4:4"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            dir="2:1:2:3:3"
         />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="0" lcId="4" estHdrSz="0" staPduPrsnt="0"/>
      </tapa.expect>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="0" lcId="1" estHdrSz="0" staPduPrsnt="0"/>
      </tapa.expect>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="0" lcId="3" estHdrSz="0" staPduPrsnt="0"/>
      </tapa.expect>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="0" lcId="4" estHdrSz="0" staPduPrsnt="0"/>
      </tapa.expect>

      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            status="1:1:1:1:1"
         />
      </tapa.expect>
      #Re-establish invalid RB id
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="4"
            rbId="84"
            rbType="1"
            dir="1"
         />
      </tapa.send>

      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="84"
            rbType="1"
            status="2"
         />
      </tapa.expect>
    
      #Re-establish invalid Ue id
      <tapa.send>
         <tapa.ckw.cfgreq ueId="8" cellId="1" numEnt="1"
            cfgType="4"
            rbId="4"
            rbType="1"
            dir="1"
         />
      </tapa.send>

      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="4"
            rbType="1"
            status="2"
         />
      </tapa.expect>

      #Re-establish  RB id which is not present
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="4"
            rbId="8"
            rbType="1"
            dir="1"
         />
      </tapa.send>

      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="8"
            rbType="1"
            status="2"
         />
      </tapa.expect>

      #Delete all the RBs in the ue
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="3:3:3:3:3"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            dir="2:1:2:3:3"
         />
      </tapa.send>

      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            status="1:1:1:1:1"
         />
      </tapa.expect>

   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.5
#       
#       Desc:    Entity configuration for deleteUe and deleteCell
#       
#       Notes:   None
#                
#       Module:  CKW CFG
#       
#       File:    kwac_grp2.xml
#       
#
<tapa.testcase id="1.5">

   # Document subsection
   <tapa.doc> 
   
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="ckwcfg"/>
      
      <tapa.desc>
         "Configuring RLC Layer Manager"
      </tapa.desc>
      
      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>
    </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      <tapa.delay delay="2"/>
      #Configure 5 RBs in a UE - 2 UM DL and 1 UM UL and 2 AM entities
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="5"
            cfgType="1:1:1:1:1"
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            entMode="2:2:2:3:3"
            dir="2:1:2:3:3"
            logChId0Id="1:2:3:4:5"
            logChId0Type="4:4:4:4:5"
            logChId1Id="0:0:0:4:5"
            logChId1Type="0:0:0:4:5"
            umDlSnLen="1:0:1:0:0"
            umUlSnLen="0:1:0:0:0"
            umUlReOrdTmr="0:100:0:0:0"
            amDlPollRetxTmr="0:0:0:200:100"
            amDlPollPdu="0:0:0:10:15"
            amDlPollByte="0:0:0:2500:5000"
            amDlMaxRetx="0:0:0:7:5"
            amUlStaProhTmr="0:0:0:300:100"
            amUlReOrdTmr="0:0:0:300:600"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="5" 
            rbId="1:2:3:4:1"
            rbType="1:1:1:1:0"
            status="1:1:1:1:1"
         />
      </tapa.expect>
      #Configure 3 RBs in a Cell - 1 BCCH DL, 1 PCCH DL, 1 CCCH DL
      <tapa.send>
         <tapa.ckw.cfgreq ueId="0" cellId="1" numEnt="3"
            cfgType="1:1:1"
            rbId="1:2:3"
            rbType="0:0:0"
            entMode="1:1:1"
            dir="2:2:2"
            logChId0Id="1:2:3"
            logChId0Type="1:2:3"
            logChId1Id="0:0:0"
            logChId1Type="0:0:0"
         />
      </tapa.send>
      #Expect a confirm for all of the entities configured in the cell
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="3"
            rbId="1:2:3"
            rbType="0:0:0"
            status="1:1:1"
         />
      </tapa.expect>

      <tapa.delay delay="2"/>
      #Modify 3 RBs in UE - 2 DL UM and 1 AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="3"
            cfgType="2:2:2"
            rbId="1:3:1"
            rbType="1:1:0"
            entMode="2:2:3"
            dir="2:2:3"
            logChId0Id="4:6:8"
            logChId0Type="4:4:5"
            logChId1Id="0:0:8"
            logChId1Type="0:0:5"
            umDlSnLen="0:2:0"
            umUlSnLen="0:0:0"
            umUlReOrdTmr="0:0:0"
            amDlPollRetxTmr="0:0:200"
            amDlPollPdu="0:0:10"
            amDlPollByte="0:0:500"
            amDlMaxRetx="0:0:3"
            amUlStaProhTmr="0:0:300"
            amUlReOrdTmr="0:0:500"
         />
      </tapa.send>
      #Expect a confirm for the modification config request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="3"
            rbId="1:3:1"
            rbType="1:1:0"
            status="1:1:1"
         />
      </tapa.expect>

      <tapa.delay delay="2"/>
      #Delete the UE 
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="5"
         />
      </tapa.send>
      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="0"
            status="1"
         />
      </tapa.expect>
      #Delete the CELL
      <tapa.send>
         <tapa.ckw.cfgreq ueId="0" cellId="1" numEnt="1"
            cfgType="6"
         />
      </tapa.send>
      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="0"
            status="1"
         />
      </tapa.expect>
      #Delete Cell and UE which do not exist now
       <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="5"
         />
      </tapa.send>
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="0"
            status="2"
         />
      </tapa.expect>
      #Delete the CELL
      <tapa.send>
         <tapa.ckw.cfgreq ueId="0" cellId="1" numEnt="1"
            cfgType="6"
         />
      </tapa.send>
      #Expect a confirm for the delete request
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="0"
            status="2"
         />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.6
#
#       Desc:    Verification of BCCH PCCH and CCCH SDU transfer
#
#       Notes:   None
#              
#       Module:  RLC 
#
#       File:    kwac_grp3.xml
#
#
<tapa.testcase id="1.6">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="TM"/>

      <tapa.desc>
         "RLC TM mode data transfer for BCCH PCCH and CCCH"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.tmcfg/>
    </tapa.cfg>
   
 
    <tapa.test>
         #Send SDU from RRC for BCCH
         <tapa.send>
            <tapa.kwu.datreq entity="ENTNH" rbId="1" ueId="0" cellId="1" 
               sduId="1" sduSize="300" sfn="1" subframe="5" type="1" rbType="0"/>
         </tapa.send>
         #Expect Status Response for the received SDU
         <tapa.expect>
            <tapa.dummy.rgu.cstarsp bo="300" cellId="1" lcId="1" sfn="2" subframe="5"/>
         </tapa.expect>
         #Send SDU from RRC for PCCH
         <tapa.send>
            <tapa.kwu.datreq entity="ENTNH" rbId="2" ueId="0" cellId="1"
               sduId="2" sduSize="400" sfn="1" subframe="6" type="2" rbType="0"/>
         </tapa.send>
         #Expect Status Response for the received SDU
         <tapa.expect>
            <tapa.dummy.rgu.cstarsp bo="400" cellId="1" lcId="2" sfn="1" subframe="6"/>
         </tapa.expect>
         #Send SDU from RRC for CCCH
         <tapa.send>
            <tapa.kwu.datreq entity="ENTNH" rbId="3" ueId="0" cellId="1"
               type="3" sduId="3" sduSize="500" conResId="100" rnti="30"
               isRej="FALSE" rbType="0"/>
         </tapa.send>
         #Expect Status Response for the received SDU
         <tapa.expect>
            <tapa.dummy.rgu.cstarsp bo="500" cellId="1" lcId="3" 
               conResId="100" rnti="30" isRej="FALSE"/>
         </tapa.expect>
      
         ########################################################################################
         #Expect the first SDU with sfn 2 and subframe 3 for BCCH
         <tapa.send>
            <tapa.dummy.rgu.cstaind bo="300" lcId="1" cellId="1" transId="259"/>
         </tapa.send>
         <tapa.expect guardTmr="80">
            <tapa.dummy.rgu.cdatreq  cellId="1" lcId="1" lcType="1"
               pduSz="300" sfn="1" subframe="3" transId="1" sduId="0"/>
         </tapa.expect>
         #Expect the second SDU with sfn 3 and subframe 4 for PCCH
         <tapa.send>
            <tapa.dummy.rgu.cstaind bo="400" lcId="2" cellId="1" transId="260"/>
         </tapa.send>
         <tapa.expect>
            <tapa.dummy.rgu.cdatreq cellId="1" lcId="2" lcType="2"
               pduSz="400" sfn="1" subframe="4" transId="2" sduId="1"/>
         </tapa.expect>
         #Expect the third SDU with conResId 100 rnti 30 and isRej False for CCCH
         <tapa.send>
            <tapa.dummy.rgu.cstaind bo="500" lcId="3" cellId="1" transId="3"
               rnti="30"/>
         </tapa.send>
         <tapa.expect>
            <tapa.dummy.rgu.cdatreq cellId="1" lcId="3" lcType="3"
               pduSz="500" conResId="100" rnti="30" isRej="FALSE" transId="3" sduId="2"/>
         </tapa.expect>

         #Send only CCCH data in uplink
         <tapa.send>
            <tapa.dummy.rgu.cdatind lcId="3" cellId="2" rnti="30"
               pduSize="500" transId="3"/>
         </tapa.send>

         <tapa.delay delay="2"/>

         <tapa.expect>
            <tapa.kwu.datind  entity="ENTNH" sduSize="500" rnti="30" />
         </tapa.expect>

         <tapa.delay delay="2"/>
   </tapa.test> 
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="5"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.7
#
#       Desc:    Verify Re-Establishment of TM Module
#
#       Notes:   None
#              
#       Module:  RLC 
#
#       File:    kwac_grp3.xml
#
#
<tapa.testcase id="1.7">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="TM"/>

      <tapa.desc>
         "Verification of TM mode re-establishment procedure"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.tmcfg/>
   </tapa.cfg>
  
   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="3" ueId="0" cellId="1" 
            type="3"
            sduId="1" sduSize="500" conResId="100" rnti="30" isRej="FALSE" rbType="0"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="500" cellId="1" lcId="3" 
            conResId="100" rnti="30" isRej="FALSE"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="3" ueId="0" cellId="1" 
            type="3"
            sduId="2" sduSize="400" conResId="300" rnti="10" isRej="TRUE" rbType="0"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="400" cellId="1" lcId="3"
            conResId="300" rnti="10" isRej="TRUE"/>
      </tapa.expect>

      #Send a re-establishment request
      <tapa.send>
         <tapa.ckw.cfgreq ueId="0" cellId="1" numEnt="4"
            cfgType="4:4:4:4"
            rbId="0:1:2:3"
            dir="2:2:2:2"
         />
      </tapa.send>
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="4"
            rbId="0:1:2:3"
            status="1:1:1:1"
         />
      </tapa.expect>
      #Send Data Request from RRC
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="3" ueId="0" cellId="1" 
            type="3"
            sduId="1" sduSize="800" conResId="700" rnti="30" isRej="FALSE" rbType="0"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="800" cellId="1" lcId="3" 
            conResId="700" rnti="30" isRej="FALSE"/>
      </tapa.expect>
      
      #Send a Status Indication to get the SDU sent in the above step   
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="800" lcId="3" cellId="1" transId="1"
            rnti="30"/>
      </tapa.send>
      #Expect a Data Request to of the same set of data 
      <tapa.expect guardTmr="80">
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="3" lcType="3" transId="1"
            pduSz="800" conResId="700" rnti="30" isRej="FALSE" sduId="0"/>
      </tapa.expect>
    
   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsection
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="5"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.8
#
#       Desc:    Verification of BCCH PCCH and CCCH SDU transfer with BPCCCCBP sequence data
#
#       Notes:   None
#              
#       Module:  RLC 
#
#       File:    kwac_grp3.xml
#
#
<tapa.testcase id="1.8"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="TM"/>

      <tapa.desc>
         "RLC TM mode data transfer for BCCH PCCH and CCCH"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.tmcfg/>
    </tapa.cfg>

   <tapa.test>
      #Send SDU from RRC for BCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="1" ueId="0" cellId="1" 
            type="1"
            sduId="1" sduSize="300" sfn="2" subframe="5" rbType="0"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="300" cellId="1" lcId="1" sfn="2" subframe="3"/>
      </tapa.expect>
      #Send SDU from RRC for PCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="2" ueId="0" cellId="1" 
            type="2"
            sduId="2" sduSize="400" sfn="3" subframe="6" rbType="0"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="400" cellId="1" lcId="2" sfn="3" subframe="4"/>
      </tapa.expect>
      #Send SDU from RRC for CCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="3" ueId="0" cellId="1" 
            type="3"
            sduId="3" sduSize="500" conResId="100" rnti="30" isRej="FALSE" rbType="0"/>
         </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="500" cellId="1" lcId="3" conResId="100" rnti="30" isRej="FALSE"/>
      </tapa.expect>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="3" ueId="0" cellId="1" 
            type="3"
            sduId="3" sduSize="400" conResId="100" rnti="30" isRej="FALSE" rbType="0"/>
         </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="400" cellId="1" lcId="3" conResId="100" rnti="30" isRej="FALSE"/>
      </tapa.expect>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="3" ueId="0" cellId="1" 
            type="3"
            sduId="3" sduSize="300" conResId="100" rnti="30" isRej="FALSE" rbType="0"/>
         </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="300" cellId="1" lcId="3" conResId="100" rnti="30" isRej="FALSE"/>
      </tapa.expect>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="3" ueId="0" cellId="1" 
            type="3"
            sduId="3" sduSize="200" conResId="100" rnti="30" isRej="FALSE" rbType="0"/>
         </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="200" cellId="1" lcId="3" conResId="100" rnti="30" isRej="FALSE"/>
      </tapa.expect>
      #Send SDU from RRC for BCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="1" ueId="0" cellId="1" 
            type="1"
            sduId="1" sduSize="300" sfn="2" subframe="5" rbType="0"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="300" cellId="1" lcId="1" sfn="2" subframe="3"/>
      </tapa.expect>
      #Send SDU from RRC for PCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="2" ueId="0" cellId="1" 
            type="2"
            sduId="2" sduSize="400" sfn="3" subframe="6" rbType="0"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="400" cellId="1" lcId="2" sfn="3" subframe="4"/>
      </tapa.expect>


      ############################################################################################
      #Expect the first SDU with sfn 2 and subframe 3 for BCCH
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="300" lcId="1" cellId="1" transId="515"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq  cellId="1" lcId="1" lcType="1" 
            pduSz="300" sfn="2" subframe="3" transId="1" sduId="0"/>
      </tapa.expect>

      #Expect the second SDU with sfn 3 and subframe 4 for PCCH
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="400" lcId="2" cellId="1" transId="772"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="2" lcType="2"
            pduSz="400" sfn="3" subframe="4" transId="2" sduId="1"/>
      </tapa.expect>

      #Expect the third SDU with conResId 100 rnti 30 and isRej False for CCCH
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="500" lcId="3" cellId="1" transId="3"
            rnti="30"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="3" lcType="3"
            pduSz="500" conResId="100" rnti="30" isRej="FALSE" transId="3" sduId="2"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="400" lcId="3" cellId="1" transId="4"
            rnti="30"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="3" lcType="3"
            pduSz="400" conResId="100" rnti="30" isRej="FALSE" transId="4" sduId="3"/>
      </tapa.expect>
        
      <tapa.send>
          <tapa.dummy.rgu.cstaind bo="300" lcId="3" cellId="1" transId="5"
             rnti="30"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="3" lcType="3"
            pduSz="300" conResId="100" rnti="30" isRej="FALSE" transId="5" sduId="4"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="200" lcId="3" cellId="1" transId="6"
            rnti="30"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="3" lcType="3"
            pduSz="200" conResId="100" rnti="30" isRej="FALSE" transId="6" sduId="5"/>
      </tapa.expect>

      #Expect the first SDU with sfn 2 and subframe 3 for BCCH
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="300" lcId="1" cellId="1" transId="515" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="1" lcType="1"
            pduSz="300" sfn="2" subframe="3" transId="7" sduId="6"/>
      </tapa.expect>

      #Expect the second SDU with sfn 3 and subframe 4 for PCCH
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="400" lcId="2" cellId="1" transId="772" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="2" lcType="2"
            pduSz="400" sfn="3" subframe="4" transId="8" sduId="7"/>
      </tapa.expect> 
     
      #######################################################################################################

      #Send only CCCH data in uplink
      <tapa.send>
         <tapa.dummy.rgu.cdatind lcId="3" cellId="2" rnti="30" pduSize="500" transId="3"/>
      </tapa.send>
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTNH" sduSize="500" rnti="30" />
      </tapa.expect>
      <tapa.send>
         <tapa.dummy.rgu.cdatind lcId="3" cellId="2" rnti="30" pduSize="400" transId="4"/>
      </tapa.send>
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTNH" sduSize="400" rnti="30" />
      </tapa.expect> 
      <tapa.send>
         <tapa.dummy.rgu.cdatind lcId="3" cellId="2" rnti="30" pduSize="300" transId="5"/>
      </tapa.send>
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTNH" sduSize="300" rnti="30" />
      </tapa.expect>
      <tapa.send>
         <tapa.dummy.rgu.cdatind lcId="3" cellId="2" rnti="30" pduSize="200" transId="6"/>
      </tapa.send>
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTNH" sduSize="200" rnti="30" />
      </tapa.expect>
   </tapa.test> 
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="5"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.9
#
#       Desc:    Verification of BO if SN=5 bits
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.9">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="um"/>

      <tapa.desc>
         "Verification of BO"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration
         2.RLC entity Configuration.
         4.Tx PDCP sends DatReq() with size (configured value) to Tx RLC
         5.Tx RLC sends StaRes()
         6.MAC sends StaInd() to Tx RLC
         7.Tx RLC sends DatReq() to MAC
         8.MAC sends DatInd() to Rx RLC
         9.Rx RLC sends DatInd() to Rx PDCP"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection

    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.kw.umcfg/>
    </tapa.cfg>
   # Test Steps subsection
   <tapa.test>
      # PDCP sends data request with SDU size 300
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="300" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #MAC expects the Status Response from RLC
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="300" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      # MAC notifies BO with size as 304
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="305" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
      </tapa.send>

      #MAC expects data request from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="0:0:0:1:1:302:
                        0:0:1:0:0"/>
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
               lchData="1:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      #RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" 
               cellId="1" ueId="2" rbId="1" rbType="1"/>
      </tapa.expect>


   </tapa.test>
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.10
#
#       Desc:    Successful SDU discard 
#
#       Notes:   None
#              
#       Module:  rlc 
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.10">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
         "Successful SDU discard"
      </tapa.desc>

      <tapa.longdesc>
          "Acceptance test case No:7"
           1. Configure RLC through LM.
           2. Configure UM RLC entities.
           3. Tx PDCP send 1 SDU size of 400 to Tx RLC.
           4. MAC send DStaInd to Tx RLC.
           5. Tx RLC sends DDatReq to MAC.
           6. Tx PDCP send DiscSdu to Tx RLC. Tx RLC should discard SDU.
           7. Verify through the Statistics Request and Confirm."
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
      
      <tapa.ifdef/>
        
      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg1/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="400" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="2" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="800" estHdrSz="5" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" lcId="1" transId="1"
               lchData="400:3:0:1:1:401:
                        -1:-1:-1:-1:-1:-1"/>
      </tapa.expect>

      <tapa.send>
          <tapa.kwu.discsdu rbId="1" rbType="1" ueId="1" cellId="1" sduId="1"/>
      </tapa.send>

      <tapa.send>
           <tapa.lkw.stsreq elmnt="1" action="1" suId="1" sapType="1" inst="1"/>
      </tapa.send>

      # servType = 1 -> verify sdu is discarded or not
      #kw005.201 ccpu00117318, updating the statistics.
# TODO:Venki - added validType to skip the stats validation.Need to fix this after 
# modifying code for stats
      <tapa.expect>
           <tapa.lkw.stscfm elmnt="1" numUe="2" numOfRb="4" pdusRecv="0" pdusSent="1"
                             pdusRetx="0" bytesRecv="0" bytesSent="401"
                             unexpPdusRecv="0"
                             errorPdusRecv="0" protTimeOut="0" numSduDisc="1"
                                servType="1" inst="1" validType="1"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>
   <tapa.kw.deinit/>

   <tapa.delay delay="5"/> 

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.11
#
#       Desc:    verification of re-establishment procedure in downlink side 
#
#       Notes:   None
#              
#       Module:  rlc 
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.11">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
         "Verification of re-establishment procedure in downlink side"
      </tapa.desc>

      <tapa.longdesc>
          "Acceptance test case No:10"
           1. Configure RLC through LM.
           2. Configure UM RLC entities.
           3. Tx PDCP send 4 SDUs size of 400 to Tx RLC.
           4. RRC sends Re-Establish Configuraiton Request to Tx RLC.
           5. Verify through the Statistics Request and Confirm."
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
      
      <tapa.ifdef/>
        
      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg1/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="400" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="2" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="800" estHdrSz="5" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="3" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="1200" estHdrSz="7" staPduPrsnt="0"/>
      </tapa.expect>

#servType 1 = reestablisment procedure in down link direction
     <tapa.send>
           <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="4" rbId="1"
              rbType="1"
           logChId0Id="1" logChId0Typei="1" logChId1Id="1" logChId1Type="1"
           entMode="1" dir="2" umDlSnLen="1"/>
     </tapa.send>

     <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1"
            rbId="1" rbType="1" 
            status="1" />
     </tapa.expect>

      <tapa.send>
           <tapa.lkw.stsreq elmnt="1" action="1" suId="1" sapType="1" inst="1"/>
      </tapa.send>

      #servType=1 -> verify transmit queue is empty, VT(Us)
      #kw005.201 ccpu00117318, updating the statistics.
# TODO:Venki - added validType to skip the stats validation.Need to fix this after 
# modifying code for stats
      <tapa.expect>
           <tapa.lkw.stscfm elmnt="1" numUe="2" numOfRb="4" pdusRecv="0" pdusSent="0"
                             pdusRetx="0" bytesRecv="0" bytesSent="0" unexpPdusRecv="0"
                             errorPdusRecv="0" protTimeOut="0" numSduDisc="0"
                             validType="1" inst="1"/>
     </tapa.expect>
      
   <tapa.delay delay="5"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>
   <tapa.kw.deinit/>

   <tapa.delay delay="5"/> 

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.12
#
#       Desc:    Verification of header with 5 bit SN 
#
#       Notes:   None
#              
#       Module:  rlc 
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.12">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
         "Verification of header with 5 bit SN"
      </tapa.desc>

      <tapa.longdesc>
          "Acceptance test case No:11"
           1. Configure RLC through LM.
           2. Configure UM RLC entities with SN 5 bits.
           3. Tx PDCP send 1 SDU size of 400 to Tx RLC.
           4. Tx RLC sends DDatReq to MAC.
           5. Verify the Header in MAC.
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
      
      <tapa.ifdef/>
        
      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg1/>
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="4" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="400" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
      </tapa.send>
      
      # verifyType=5 -> verification of header containing 5 bit SN
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="0:0:0:1:1:401:
                        0:0:1:0:0"/>
      </tapa.expect>
      

   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
   <tapa.kw.deinit/>

   <tapa.delay delay="5"/> 

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.13
#
#       Desc:    Verification of re-ordering algaritham, PDU'S are in the same order 
#
#       Notes:   None
#              
#       Module:  rlc 
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.13">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
         "Verification of re-ordering algaritham, PDU'S are in the same order"
      </tapa.desc>

      <tapa.longdesc>
          "Acceptance test case No:17"
           1. Configure RLC through LM.
           2. Configure UM RLC entities with SN 10 bits.
           3. Tx PDCP send 4 SDUs size of 400 to Tx RLC.
           4. Tx RLC sends 4 DDatReq to MAC.
           5. MAC sends 4 DDatInd to Rx RLC.
           6. Rx RLC should and process without any problems and Send DatInd to
           Rx PDCP."
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
      
      <tapa.ifdef/>
        
      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg1/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="400" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="2" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="800" estHdrSz="5" staPduPrsnt="0"/>
      </tapa.expect>
      
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="3" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="1200" estHdrSz="7" staPduPrsnt="0"/>
      </tapa.expect>
      
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="4" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="1600" estHdrSz="9" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="1200:7:0:1:1:401:
                        0:0:1:0:0"/>
      </tapa.expect>
      
     <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="2" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="2"
               lchData="800:5:0:1:1:401:
                        1:0:1:0:0"/>
      </tapa.expect>

     <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="3" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="3"
               lchData="400:3:0:1:1:401:
                        2:0:1:0:0"/>
      </tapa.expect>
     
     <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="4" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="4"
               lchData="0:0:0:1:1:401:
                        3:0:1:0:0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
               lchData="1:1:0"/>
      </tapa.send>
      
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="2"
               lchData="1:1:0"/>
      </tapa.send>
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
               lchData="1:1:0"/>
      </tapa.send>
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="4"
               lchData="1:1:0"/>
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" sduSize="491" 
               cellId="1" ueId="2" rbId="1" rbType="1" sduId="0"/>
      </tapa.expect>

      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" sduSize="401" 
               cellId="1" ueId="2" rbId="1" rbType="1" sduId="1"/>
      </tapa.expect>
      
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" sduSize="401" 
               cellId="1" ueId="2" rbId="1" rbType="1" sduId="2"/>
      </tapa.expect>

      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" sduSize="401" 
               cellId="1" ueId="2" rbId="1" rbType="1" sduId="3"/>
      </tapa.expect>
   <tapa.delay delay="5"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>
   <tapa.kw.deinit/>

   <tapa.delay delay="5"/> 

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.14
#
#       Desc:    Verification of re-ordering algaritham, by sending duplicate PDU 
#
#       Notes:   None
#              
#       Module:  rlc 
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.14">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
         "verification of re-ordering algaritham, by sending duplicate PDU"
      </tapa.desc>

      <tapa.longdesc>
          "Acceptance test case No:20"
           1. Configure RLC through LM.
           2. Configure UM RLC entities with SN 10 bits.
           3. Tx PDCP send 2 SDUs size of 400 to Tx RLC.
           4. Tx RLC sends 2 DDatReq to MAC.
           5. MAC sends 4 DDatInd to Rx RLC with duplication.
           6. Rx RLC should and process without any problems (Discards
           duplicates) and Send DatInd to Rx PDCP."
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
      
      <tapa.ifdef/>
        
      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg1/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="400" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="800" estHdrSz="5" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="400:3:0:1:1:401:
                        0:0:1:0:0"/>
      </tapa.expect>
      
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="2" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="2"
               lchData="0:0:0:1:1:401:
                        1:0:1:0:0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
               lchData="1:1:0" remove="0" />
      </tapa.send>
      
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
               lchData="1:1:0"/>
      </tapa.send>
      
     <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" 
               cellId="1" ueId="2" rbId="1" rbType="1" sduId="0"/>
     </tapa.expect>
     
   <tapa.delay delay="5"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>
   <tapa.kw.deinit/>

   <tapa.delay delay="5"/> 

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.15
#
#       Desc:    Verification  , in the case of re-ordering timer expiry in receiving side 
#
#       Notes:   None
#              
#       Module:  rlc 
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.15">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
         "verification , in the case of re-ordering timer expiry in receiving side"
      </tapa.desc>

      <tapa.longdesc>
          "Acceptance test case No:22"
           1. Configure RLC through LM.
           2. Configure UM RLC entities with SN 10 bits.
           3. Tx PDCP send 5 SDUs size of 400 to Tx RLC.
           4. Tx RLC sends 5 DDatReq to MAC.
           5. MAC sends 2 (2, 3) DDatInd to Rx RLC.
           6. Put Delay to expiry re-order timer expiry.
           7. Rx RLC should send only 2 SDUs to Rx PDCP."
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
      
      <tapa.ifdef/>
        
      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg2/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="0" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="400" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="800" estHdrSz="5" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="2" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="1200" estHdrSz="7" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="3" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="1600" estHdrSz="9" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="4" sduSize="400" rbId="1"
            rbType="1" ueId="1" cellId="1" />
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="2000" estHdrSz="11" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="1600:9:0:1:1:401:
                        0:0:1:0:0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="2" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="2"
               lchData="1200:7:0:1:1:401:
                        1:0:1:0:0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="3" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="3"
               lchData="800:5:0:1:1:401:
                        2:0:1:0:0"/>
      </tapa.expect>


      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="4" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="4"
               lchData="400:3:0:1:1:401:
                        3:0:1:0:0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="404" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="5" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="5"
               lchData="0:0:0:1:1:401:
                        4:0:1:0:0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="2"
               lchData="1:1:0"/>
      </tapa.send>

      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
               lchData="1:1:0"/>
      </tapa.send>

       # give some delay > timer
       <tapa.delay delay="20"/>

      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" 
               cellId="1" ueId="2" rbId="1" rbType="1" sduId="1"/>
      </tapa.expect>

      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" 
               cellId="1" ueId="2" rbId="1" rbType="1" sduId="2"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>
   <tapa.kw.deinit/>

   <tapa.delay delay="5"/> 

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.16
#
#       Desc:    Verification of Concatenation procedure(3sdus-1pdu-1pdu-3sdus - 10bit SN) 
#
#       Notes:   None
#              
#       Module:  RLC 
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.16">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
         "Verification of Concatenation procedure"
      </tapa.desc>

      <tapa.longdesc>
          "Acceptance test case No:25
           1. configure RLC through LM
           2. configure RLC entities
           3. PDCP sends 3 SDU'S with size 100 each
           4. MAC notifies the StaInd() with BO (306)
           5. MAC receives only one PDU 
           6. MAC sends PDU to Peer RLC
           7. Peer RLC sends 3 SDU'S to Peer PDCP"
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg/>
   </tapa.cfg>
     
   # Test Steps subsection
   <tapa.test>
      #PDCP sends data request with SDU size as 100
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="100" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>
      
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="100" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="2" sduSize="100" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="200" estHdrSz="5" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="3" sduSize="100" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #MAC expects the Status Response from RLC
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="300" estHdrSz="7" staPduPrsnt="0"/>
      </tapa.expect>
      
      #MAC notifies BO with size as 306
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="315" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1"/>
      </tapa.send>

      #MAC expects the data request from RLC 
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="0:0:0:1:1:305:
                        0:0:1:0:0"/>
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:1:0"/>
      </tapa.send>

      #RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" cellId="1" ueId="2" rbId="1" rbType="1" sduId="0"/>
      </tapa.expect>

      #RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" cellId="1" ueId="2" rbId="1" rbType="1" sduId="1"/>
      </tapa.expect>

      #RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" cellId="1" ueId="2" rbId="1" rbType="1" sduId="2"/>
      </tapa.expect>

      <tapa.delay delay="5"/> 

   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
   <tapa.delay delay="5"/> 

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.17
#
#       Desc:    verification of segmentation (10bit SN) 
#
#       Notes:   None
#              
#       Module:  rlc 
#
#       File:    kwac_grp4.xml
#
#
<tapa.testcase id="1.17">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
         "Verification of segmentation"
      </tapa.desc>

      <tapa.longdesc>
          "Acceptance test case No:27
           1. configure RLC through LM
           2. configure RLC entities
           3. RLC sends 1 SDU with maximum size
           4. MAC notifies the StaInd() with BO (minimum size)
           5. MAC receives two PDU'S"
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>
      
      <tapa.ifdef/>
        
      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      # PDCP sends data request with SDU size as 750
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="750" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      # MAC expects the Status Response from RLC
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="750" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      # MAC notifies BO with size as 254
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="255" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
      </tapa.send>

      # MAC expects data from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="500:3:0:1:1:252:
                        0:1:1:0:0"/>
      </tapa.expect>

    #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:1:0"/>
      </tapa.send>


      # MAC notifies BO with size as 254
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="255" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="2" />
      </tapa.send>

     
      # MAC expects data from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="2"
               lchData="250:3:0:1:1:252:
                        1:3:1:0:0"/>
      </tapa.expect>
    
      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="2"
            lchData="1:1:0"/>
      </tapa.send>
      
      # MAC notifies BO with size as 254
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="255" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="3" />
      </tapa.send>
     
      # MAC expects data from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="3"
               lchData="0:0:0:1:1:252:
                        2:2:1:0:0"/>
      </tapa.expect>

     #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:1:0"/>
      </tapa.send>

      #RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" cellId="1" ueId="2" rbId="1" rbType="1" sduId="0"/>
      </tapa.expect>

      <tapa.delay delay="5"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>
   <tapa.kw.deinit/>

   <tapa.delay delay="5"/> 

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.18
#
#       Desc:    Verification of Successful delivery of a sdu
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.18">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance Test Case No:1
         1.Configure RLC with general configuration , sap configuration
         2.RLC entity Configuration.
         3.Tx PDCP sends Dat request with size (configured value)
         4.Tx RLC sends DStaRsp()
         5.MAC sends DStaInd()
         6.Tx RLC sends DDatReq() to MAC
         7.MAC sends DDatInd() to RLC
         8.Rx RLC sends DDatInd() to Rx PDCP
         9.Rx RLC send DStaRsp() to MAC
         10.MAC sends DStaInd() to Rx RLC
         11.Rx RLC sends DDatReq() to MAC
         12.MAC sends DDatInd() to Tx RLC
         13.Tx RLC sends DatCfm() to Tx PDCP"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>
        #<tapa.repeat.start repeatCount="10"/>
         #Send SDU from PDCP for DCCH in ue 1
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
               sduId="1" sduSize="300"/>
         </tapa.send>
         #Expect Status Response for the received SDU
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="300" estHdrSz="2" staPduPrsnt="0"/>
         </tapa.expect>

         ########################################################################################
         #Expect the first SDU with size 302
         <tapa.send>
            <tapa.dummy.rgu.dstaind totBufSize="305" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
         </tapa.send>
        <tapa.expect>
            <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
               lchData="0:0:0:1:1:302:
                        -1:-1:1:1:-1"  />
         </tapa.expect>
         ########################################################################################
         #Send the PDU in uplink for lcId 1 in ue 2
         <tapa.send>
            <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
               lchData="1:1:0:0:0:0"/>
         </tapa.send>
         #Expect a Data Indication to KWU in ue 2
         <tapa.expect>
            <tapa.kwu.datind  entity="ENTPJ" sduSize="300" 
               cellId="1" ueId="2" rbId="1" rbType="1" />
         </tapa.expect>
         #Expect a starsp for logical channel 1 in ue 2 for the control PDU
         #since we have a trigger for status report as duplicate pdu is received
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
               bo="2" estHdrSz="0"  staPduPrsnt="1"/>
         </tapa.expect>
         ########################################################################################
         #Send a datind for logical channel 1 in ue 2 for the status pdu
         <tapa.send>
            <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
               totBufSize="5" transId="2" />
         </tapa.send>
         #Expect a data request for logical channel 1 in ue 2
         <tapa.expect>
            <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="2"
               lchData="0:0:1:1:1:2:
                        -1:-1:-1:0:-1" />
         </tapa.expect>
         #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
         <tapa.send>
            <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="2"
               lchData="1:1:0:0:0:0" />
         </tapa.send>
         #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
         <tapa.expect>
            <tapa.kwu.datcfm entity="ENTPJ" ueId="1" cellId="1"
               rbId="1" rbType="1" numSduIds="1" sduId="0"/>
         </tapa.expect>  
    #  <tapa.repeat.end/> 
   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>


#
#
#       Test:    1.19
#
#       Desc:    Verification of Successful delivery of a SDUs 
#                which are concatenated into a PDU
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.19"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:2
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends DatReq with 2 SDUs size of 300.
         4.Tx RLC sends DStaRsp()
         5.MAC sends DStaInd()
         6.Tx RLC sends DDatReq() to MAC with 2 PDUs (1st PDU = Concatenation of 1st SDU
         and partial of 2nd SDU, 2nd PDU=Remaining 2nd SDU).
         7.MAC sends DDatInd() to Rx RLC
         8.Rx RLC sends DDatInd() to Rx PDCP
         9.Rx RLC send DStaRsp() to MAC
         10.MAC sends DStaInd() to Rx RLC
         11.Rx RLC sends DDatReq() to MAC
         12.MAC sends DDatInd() to Tx RLC
         13.Tx RLC sends DatCfm() to Tx PDCP"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

    <tapa.test>
       #Send SDU from PDCP for DCCH
       <tapa.send>
          <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
             sduId="1" sduSize="300"/>
       </tapa.send>

       #Expect Status Response for the received SDU
       <tapa.expect>
          <tapa.dummy.rgu.dstarsp ueId="1" cellId="1" lcId="1" 
             bo="300" estHdrSz="2" staPduPrsnt="0"/>
       </tapa.expect>

       #Send SDU from PDCP for DCCH
       <tapa.send>
          <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
             sduId="2" sduSize="300"/>
       </tapa.send>
       #Expect Status Response for the received SDU
       <tapa.expect>
          <tapa.dummy.rgu.dstarsp ueId="1" cellId="1" lcId="1" 
             bo="600" estHdrSz="4" staPduPrsnt="0"/>
       </tapa.expect>

       ########################################################################################
       #Expect the first SDU with size 454 
       <tapa.send>
          <tapa.dummy.rgu.dstaind lcId="1" ueId="1" cellId="1" numLch="1" 
             totBufSize="457" transId="1"/>
       </tapa.send>
       <tapa.expect>
          <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" numLch="1" transId="1"
             lchData="150:2:0:1:1:454:
             0:1:1:1:0" />
       </tapa.expect>
       ########################################################################################
       #Send the PDU in uplink
       <tapa.send>
          <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
             lchData="1:2:0,0:0,0:0,0:0,0"/>
       </tapa.send>

       #Expect a Data Indication to KWU
       <tapa.expect>
          <tapa.kwu.datind  entity="ENTPJ" cellId="1" ueId="2" rbId="1"
             rbType="1" sduSize="300"  />
       </tapa.expect>
       #Expect a starsp for logical channel 1 in ue 2 for the control PDU
       <tapa.expect>
          <tapa.dummy.rgu.dstarsp  ueId="2" cellId="1" lcId="1" 
             bo="2" estHdrSz="0"  staPduPrsnt="1"/>
       </tapa.expect>
       #######################################################################################
       #Send a staind for logical channel 1 in ue 2 for the status pdu
       <tapa.send>
          <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1"
             totBufSize="5" transId="2" />
       </tapa.send>
       #Expect a data request for logical channel 1 in ue 2
       <tapa.expect>
          <tapa.dummy.rgu.ddatreq  ueId="2" cellId="1" numLch="1" transId="2"
             lchData="0:0:1:1:1:2:
             -1:-1:-1:0:-1" /> 
       </tapa.expect>
       #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
       <tapa.send>
          <tapa.dummy.rgu.ddatind numLch="1" transId="2" cellId="1"  ueId="1" 
             lchData="1:1:0:0:0:0"/>
       </tapa.send>
       #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
       <tapa.expect>
          <tapa.kwu.datcfm entity="ENTPJ"  numSduIds="1" sduId="0" rbId="1" rbType="1" cellId="1" ueId="1"/>
       </tapa.expect>
       #######################################################################################
       #Expect the second PDU with size 153
       <tapa.send>
          <tapa.dummy.rgu.dstaind lcId="1" ueId="1" cellId="1" numLch="1" 
             totBufSize="155" transId="3"/>
       </tapa.send>
       <tapa.expect>
          <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="3"
             lchData="0:0:0:1:1:152:
             1:2:1:1:0"/>
       </tapa.expect>
       ###############################Changes start from here########################################################

       #Send the PDU in uplink
       <tapa.send>
          <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
             lchData="1:2:0,0:0,0:0,0:0,0"/>
       </tapa.send>
       #Expect a Data Indication to KWU
       <tapa.expect>
          <tapa.kwu.datind  entity="ENTPJ" sduSize="300" cellId="1" ueId="2"
             rbId="1" rbType="1" />
       </tapa.expect>
       ##################################Status Rsp for Logical Channel 1 in Ue 2##################################
       #Expect a status response for logical channel 2 for the control PDU
       <tapa.expect>
          <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="2" lcId="1" estHdrSz="0"  staPduPrsnt="1"/>
       </tapa.expect>
       #Send a status indication for logical channel 2 for the status pdu
       <tapa.send>
          <tapa.dummy.rgu.dstaind totBufSize="5" lcId="1" ueId="2" cellId="1" numLch="1" transId="4" />
       </tapa.send>

       #Expect a data request for logical channel 1 in UE 2
       <tapa.expect>
          <tapa.dummy.rgu.ddatreq numLch="1" ueId="2" cellId="1" transId="4"
             lchData="0:0:1:1:1:2:
             -1:-1:-1:0:-1"/>
       </tapa.expect>
       #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
       <tapa.send>
          <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="4"
             lchData="1:1:0:0:0:0"/>
       </tapa.send>
       #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
       <tapa.expect>
          <tapa.kwu.datcfm numSduIds="1" sduId="1" entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"/>
       </tapa.expect>
    </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>


#       Test:    1.20
#
#       Desc:    Verification of Segmentation and Concatenation of SDUs 
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.20">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:3
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends DatReq with 3 SDUs size of 300, 400, 500.
         4.Tx RLC sends DStaRsp()
         5.MAC sends DStaInd() with BO=305
         6.Tx RLC sends DDatReq() to MAC with 1 PDU
         7.MAC sends DDatInd() to Rx RLC
         8.Rx RLC sends DDatInd() to Rx PDCP
         9.Rx RLC send DStaRsp() to MAC
         10.MAC sends DStaInd() to Rx RLC
         11.Rx RLC sends DDatReq() to MAC
         12.MAC sends DDatInd() to Tx RLC
         13.Tx RLC sends DatCfm() to Tx PDCP
         14.Steps 4-13 will repeat for remaining 2 SDUs (400 and 500)."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>
   #Send SDU from PDCP for DCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="300"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="300" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="2" sduSize="400"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="700" lcId="1" estHdrSz="4" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="3" sduSize="500"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="1200" lcId="1" estHdrSz="6" staPduPrsnt="0"/>
      </tapa.expect>

      #Expect the first SDU with size 302
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="305" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="900:4:0:1:1:302:
                    0:0:1:1:0"  />
      </tapa.expect>
      ########################################################################################
      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>
      #Expect a Data Indication to KWU in ue 2
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="300" 
            cellId="1" ueId="2" rbId="1" rbType="1" />
      </tapa.expect>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>
      ########################################################################################
      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="5" transId="2" />
      </tapa.send>
      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="2"
            lchData="0:0:1:1:1:2:
                    -1:-1:-1:0:-1" />
      </tapa.expect>
      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="2"
            lchData="1:1:0:0:0:0" />
      </tapa.send>
      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
         <tapa.kwu.datcfm entity="ENTPJ" numSduIds="1" sduId="0" ueId="1" cellId="1" rbId="1"
            rbType="1"/>
      </tapa.expect>

      #########Send Another Data Request for Logical channel 1 and verify the same path

      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="405" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="3" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="3"
            lchData="500:2:0:1:1:402:
                    1:0:1:1:0"  />
      </tapa.expect>
      ############################################################################################
      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>
      #Expect a Data Indication to KWU in ue 2
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="400" 
            cellId="1" ueId="2" rbId="1" rbType="1" />
      </tapa.expect>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>      
      ############################################################################################here 

      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="5" transId="4" />
      </tapa.send>
      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="4"
            lchData="0:0:1:1:1:2:
                    -1:-1:-1:0:-1" />
      </tapa.expect>
      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="4"
            lchData="1:1:0:0:0:0" />
      </tapa.send>
      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
         <tapa.kwu.datcfm entity="ENTPJ" numSduIds="1" sduId="1" ueId="1" cellId="1" rbId="1"
            rbType="1"/>
      </tapa.expect>
      ######################Should work till here############################################### 
      #########Send Another Data Request for Logical channel 1 and verify the same path
       <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="505" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="5" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="5"
            lchData="0:0:0:1:1:502:
                    2:0:1:1:0"  />
      </tapa.expect>
      ############################################################################################
      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="5"
            lchData="1:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>
      #Expect a Data Indication to KWU in ue 2
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="500" 
            cellId="1" ueId="2" rbId="1" rbType="1" />
      </tapa.expect>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>
      ########################################################################################################
      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="5" transId="6" />
      </tapa.send>
      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="6"
            lchData="0:0:1:1:1:2:
                    -1:-1:-1:0:-1" />
      </tapa.expect>
      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="6"
            lchData="1:1:0:0:0:0" />
      </tapa.send>
      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
         <tapa.kwu.datcfm entity="ENTPJ" numSduIds="1" sduId="2" ueId="1" cellId="1" rbId="1"
            rbType="1"/>
      </tapa.expect>
#########################################################################################################


   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>




#
#       Test:    1.21
#
#       Desc:    Verification of handling of corrupted PDUs
#
#       Notes:   None
#        
#       Module:  RLC
#       
#       File:    kwac_pj_grp5.xml
#     
#     
<tapa.testcase id="1.21">
   
   # Document subsection
   <tapa.doc> 
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>
       
      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>
      
      <tapa.longdesc>
        "Acceptance test case No:10
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends DatReq with 4 SDUs size of 100.
         4.MAC sends DStaInd to Tx RLCi with BO=410.
         5.Tx RLC sends 1 DDatReq() to MAC.
         6.MAC sends DDatInd() to Rx RLC with last 100 bytes corrupted.
         7.MAC sends DDatInd() to Rx RLC with middle 100 bytes corrupted.
         8.MAC sends DDatInd() to Rx RLC with first 100 bytes corrupted.
         9.Rx RLC should not send any Data to Tx PDCP."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>
      #Send SDU from PDCP for DCCH for AM entity 1
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" ueId="1" cellId="1" rbType="1" 
            sduId="1" sduSize="100"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="2" sduSize="100"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="1" estHdrSz="4" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="3" sduSize="100"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="300" lcId="1" estHdrSz="6" staPduPrsnt="0"/>
      </tapa.expect>


      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="4" sduSize="100"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="400" lcId="1" estHdrSz="8" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="410"  transId="1"/> 
      </tapa.send>
      # The SDU size should be 2053 and not 2052 as the first one is discarded
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="1" numLch="1"
            lchData="0:0:0:1:1:407:
                     0:
                     0:
                     1:
                     1:
                     0" />
      </tapa.expect>


      #Send a data indication of the Status PDU  which is corrputed not to fit within the sum of LIs
      <tapa.send>
         <tapa.dummy.rgu.ddatind cellId="1"  ueId="2" numLch="1" transId="1" remove="0" 
            lchData="1:1:0:
                     3:-1"  />
      </tapa.send>
    
      #Send a data indication of the Status PDU  which is corrputed not to fit within the sum of LIs
      <tapa.send>
         <tapa.dummy.rgu.ddatind cellId="1"  ueId="2" numLch="1" transId="1" remove="0"
            lchData="1:1:0:
                     2:-1"  />
      </tapa.send>
      #Send a data indication of the Status PDU  which is corrputed not to fit within the sum of LIs
      <tapa.send>
         <tapa.dummy.rgu.ddatind cellId="1"  ueId="2" numLch="1" transId="1" remove="0"
            lchData="1:1:0:
                     1:-1"  />
      </tapa.send> 


      #do not expect a dat indication because the pdu has to be discarded

   </tapa.test>
   # Clean subsection
   <tapa.clean/> 
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.22
#       
#       Desc:    Verification of status indication with zero BO 
#       
#       Notes:   None
#        
#       Module:  RLC
#       
#       File:    kwac_pj_grp5.xml
#       
#
<tapa.testcase id="1.22">
   
   # Document subsection
   <tapa.doc> 
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>
       
      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>
      
      <tapa.longdesc>
        "Acceptance test case No:11
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.MAC sends DStaInd with BO=0 without any DStaRsp to Tx RLC.
         4.Tx RLC should be idle."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" lcId="1" 
            bo="0" numLch="1" transId="1"/>
      </tapa.send>
      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" lcId="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:-1:0:0:
                     -1:-1:-1:-1:-1"  />
      </tapa.expect>
   </tapa.test>
   # Clean subsection 
   <tapa.clean/> 

   # Shutdown subsectitn
   <tapa.shutdown>
         
   <tapa.kw.deinit/>
         
   <tapa.delay delay="5"/>
         
   </tapa.shutdown>
</tapa.testcase> 


#
#       Test:    1.23
#
#       Desc:    Verification of invalid LC id in status indication
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.23">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:12
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.MAC sends DStaInd with invalid LC ID to Tx RLC.
         4.Tx RLC should be idle."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" lcId="10" 
            bo="6165" numLch="1" transId="1"/>
      </tapa.send>
      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:10:0:0:
                     -1:-1:-1:-1:-1"  />
      </tapa.expect>
      
   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>


#     
#       Test:    1.24
#  
#       Desc:    Verification of Resegmentation mechanism along with Retransmission
#       - TC15
#  
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.24">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:23
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends DatReq with 3 SDUs size of 10.
         4.Tx RLC sends DDatReq() to MAC.
         5.MAC sends HarqFailInd() to Tx RLC.
         6.Tx RLC sends DStaRsp() to MAC.
         7.MAC sends DStaInd() BO=150 to Tx RLC.
         8.Tx RLC sends DDatReq() to MAC.
         9.MAC sends DStaInd() BO=150 to Tx RLC.
         10.Tx RLC sends DDatReq() to MAC.
         11.MAC sends 2 DDatInd() to Rx RLC.
         12.Rx RLC sends 3 DatInd() to Rx PDCP."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>

      <tapa.repeat.start repeatCount="3"/>

         #Send KWU Data Request
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="1" rbType="1" ueId="1" cellId="1"/>
         </tapa.send>

         #Expect RGU Status Response to skip validation put valdType="1"
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
         </tapa.expect>

      <tapa.repeat.end/>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="312" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:305:
                     0:0:1:1:0"  />
      </tapa.expect>

      <tapa.repeat.start repeatCount="3"/>

         #Send KWU Data Request
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="1" rbType="1" ueId="1" cellId="1"/>
         </tapa.send>

         #Expect RGU Status Response to skip validation put valdType="1"
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
         </tapa.expect>

      <tapa.repeat.end/>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="312" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="2" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="2"
            lchData="0:0:0:1:1:305:
                     1:0:1:1:0"  />
      </tapa.expect>

      <tapa.repeat.start repeatCount="3"/>

         #Send KWU Data Request
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="1" rbType="1" ueId="1" cellId="1"/>
         </tapa.send>

         #Expect RGU Status Response to skip validation put valdType="1"
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
         </tapa.expect>

      <tapa.repeat.end/>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="312" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="3" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="3"
            lchData="0:0:0:1:1:305:
                     2:0:1:1:0"  />
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:1:0"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:1:0"/>
      </tapa.send>

      #Delay till reorder timer expiry
      #kw005.201 changed delay to 3
      <tapa.delay delay="3"/>

      # Expect 3 KWU Data Indications
      <tapa.repeat.start repeatCount="3"/>

         #Expect a Data Indication to KWU in ue 2 for 3 SDUs
         <tapa.expect>
            <tapa.kwu.datind  entity="ENTPJ" sduSize="100" 
               cellId="1" ueId="2" rbId="1" rbType="1" />
         </tapa.expect>

      <tapa.repeat.end/>

      #Expect StaRsp for Status PDU
     <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect> 
# Venki -  expect BO as 4 since it includes NACK as well for transId 3
      (Received transId 1 and 3)
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="4" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect> 
# poll retransmit timer expiry for Ue 1      
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
            bo="300" estHdrSz="5"  staPduPrsnt="0"/>
      </tapa.expect>

      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="6" transId="4" />
      </tapa.send>

      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="4"
            lchData="0:0:1:1:1:4:
                     -1:-1:-1:0:-1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="4"
            lchData="1:1:0:0:0:0" />
      </tapa.send>

      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
          <tapa.kwu.datcfm numSduIds="6" sduId="0,1,2,3,4,5" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

      <!--  #Expect StaRsp for Status PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
            bo="600" estHdrSz="10"  staPduPrsnt="0"/>
      </tapa.expect>  -->
      <!-- #Send HARQ Fail Indication
      <tapa.send>
         <tapa.dummy.rgu.hqflind ueId="1" cellId="1" numLch="1" lcId="1" dataId="0" />
      </tapa.send>
      -->
# Venki - Expected this BO already
      <!--
      #Expect RGU Status Response to skip validation put valdType="1"
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1"
            bo="300" estHdrSz="5" staPduPrsnt="0"/>
      </tapa.expect>
      -->
      #Send the first SDU with size 154 only 148 + 4 will come next pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="154" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="5" />
      </tapa.send>

      # Expect RGU Dat Request
      #kw003.201 - estHdrSz should be 6 - Product should be fixed for this
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="5"
            lchData="155:6:0:1:1:151:
                     1:1:0:1:1:1"  />
      </tapa.expect>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="134" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="6" />
      </tapa.send>

      #Expect RGU Dat Request
      #kw003.201 - estHdrSz should be 6 - Product should be fixed for this
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="6"
            lchData="30:4:0:1:1:131:
                     1:3:0:1:1:1"  />
      </tapa.expect>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="134" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="7" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="7"
            lchData="0:0:0:1:1:34:
                     1:2:1:1:1:0"  />
      </tapa.expect>

      <!--
      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="14" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="4" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="4"
            lchData="0:0:0:1:1:12:
                     0:2:1:1:1:0"  />
      </tapa.expect>
      -->

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="5"
            lchData="1:1:0"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="6"
            lchData="1:1:0"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="7"
            lchData="1:1:0"/>
      </tapa.send>

      <!--
      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="4"
            lchData="1:1:0"/>
      </tapa.send>
      -->

      #Expect a Data Indication to KWU in ue 2 for 3 SDU
      <tapa.repeat.start repeatCount="6"/>
         <tapa.expect>
            <tapa.kwu.datind  entity="ENTPJ" sduSize="100" 
               cellId="1" ueId="2" rbId="1" rbType="1" />
         </tapa.expect>
      <tapa.repeat.end/>

      #Expect StaRsp for Status PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="6" transId="8" />
      </tapa.send>

      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="8"
            lchData="0:0:1:1:1:2:
                     -1:-1:-1:0:-1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="8"
            lchData="1:1:0:0:0:0" />
      </tapa.send>

      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
          <tapa.kwu.datcfm numSduIds="3" sduId="3,4,5" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#     
#       Test:    1.25
#  
#       Desc:    Verification of Resegmentation mechanism along with
#       Retransmission with extra SDUs
#       - TC15
#  
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.25">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:24
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends DatReq with 3 SDUs size of 100.
         4.Tx RLC sends DDatReq() to MAC.
         5.MAC sends HarqFailInd() to Tx RLC.
         6.Tx RLC sends DStaRsp() to MAC.
         7.MAC sends DStaInd() BO=150 to Tx RLC.
         8.Tx RLC sends DDatReq() to MAC.
         9.Tx PDCP sends DatReq with 3 SDUs size of 100.
         10.Tx RLC sends DStaRsp() to MAC.
         11.MAC sends DStaInd() BO=500 to Tx RLC.
         10.Tx RLC sends DDatReq() to MAC.
         11.MAC sends 2 DDatInd() to Rx RLC.
         12.Rx RLC sends 6 DatInd() to Rx PDCP.
         13.Rx RLC send DStaRsp() to MAC.
         14.MAC sends DStaInd() to Rx RLC.
         15.Rx RLC sends DDatReq() to MAC.
         16.MAC sends DDatInd() to Tx RLC.
         17.Tx RLC sends DatCfm() to Tx PDCP"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>

      #Send 3 SDUs
      <tapa.repeat.start repeatCount="3"/>

         #Send KWU Data Request
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="1" rbType="1" ueId="1" cellId="1"/>
         </tapa.send>

         #Expect RGU Status Response to skip validation put valdType="1"
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
         </tapa.expect>

      <tapa.repeat.end/>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="311" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:305:
                     0:0:1:1:0:2"  />
      </tapa.expect>

      #Send 3 SDUs
      <tapa.repeat.start repeatCount="3"/>

         #Send KWU Data Request
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="1" rbType="1" ueId="1" cellId="1"/>
         </tapa.send>

         #Expect RGU Status Response to skip validation put valdType="1"
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
         </tapa.expect>

      <tapa.repeat.end/>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="311" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="2" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="2"
            lchData="0:0:0:1:1:305:
                     1:0:1:1:0:2"  />
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="2"
            lchData="1:1:0"/>
      </tapa.send>

      #Delay till reorder timer expiry
      #kw005.201 changed delay to 3
      <tapa.delay delay="3"/>

      #Expect StaRsp for Status PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="4" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="6" transId="3" />
      </tapa.send>

      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="3"
            lchData="0:0:1:1:1:4:
                     -1:-1:-1:0:-1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="3"
            lchData="1:1:0:0:0:0" />
      </tapa.send>

      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
          <tapa.kwu.datcfm numSduIds="3" sduId="3,4,5" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

      <!--
      #Send HARQ Fail Indication
      <tapa.send>
         <tapa.dummy.rgu.hqflind ueId="1" cellId="1" numLch="1" lcId="1"
            dataId="0" />
      </tapa.send>
      -->

      #Expect RGU Status Response to skip validation put valdType="1"
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1"
            bo="300" estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="154" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="2" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="2"
            lchData="155:6:0:1:1:151:
                     0:1:0:1:1:1"  />
      </tapa.expect>

      <tapa.repeat.start repeatCount="3"/>

         #Send KWU Data Request
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="1" rbType="1" ueId="1" cellId="1"/>
         </tapa.send>

         #Expect RGU Status Response to skip validation put valdType="1"
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
         </tapa.expect>

      <tapa.repeat.end/>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="483" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="3" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="3"
            lchData="-1:-1:0:1:2:161,305:
                     0,2:2,0:0,1:1,1:1,0:1,2"  />
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="2"
            lchData="1:1:0"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:1:1" remove="0"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC Duplication
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:1:1" remove="0"/>
      </tapa.send>

      #MAC indicates FULL Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:2:0,1"/>
      </tapa.send>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="8" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect> 
      <!--    #adding one more starsp for 2 Poll bits
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="8" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>  -->

      # Expect 3 KWU Data Indications
      <tapa.repeat.start repeatCount="6"/>

         #Expect a Data Indication to KWU in ue 2 for 3 SDUs
         <tapa.expect>
            <tapa.kwu.datind  entity="ENTPJ" sduSize="100" 
               cellId="1" ueId="2" rbId="1" rbType="1" />
         </tapa.expect>

      <tapa.repeat.end/>

     # Expect next 3 KWU Data Indications
      <tapa.repeat.start repeatCount="3"/>

         #Expect a Data Indication to KWU in ue 2 for 3 SDUs
         <tapa.expect>
            <tapa.kwu.datind  entity="ENTPJ" sduSize="100" 
               cellId="1" ueId="2" rbId="1" rbType="1" />
         </tapa.expect>

      <tapa.repeat.end/>

      <!--   #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect> -->
      # Venki - poll timer expiry for ueId - 1
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
            bo="300" estHdrSz="5"  staPduPrsnt="0"/>
      </tapa.expect>

      #Send a datind for logical channel 1 in ue 2 for the status pdu
# Venki - grant for status Pdu should include statusPdu size + Mac header(3bytes)
# modified totBufSize = 4 to 5
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="5" transId="4" />
      </tapa.send>

      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="4"
            lchData="0:0:1:1:1:2:
                     -1:-1:-1:0:-1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="4"
            lchData="1:1:0:0:0:0" />
      </tapa.send>
      
      <tapa.delay delay="1"/>
      <!--
      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
         <tapa.kwu.datcfm numSduIds="6" sduId="0:1:2:6:7:8" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>    -->

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#     
#       Test:    1.26
#  
#       Desc:    Verification of Assembly and Reassembly mechanism in
#                 the case of byte segments
#       - TC18
#  
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.26">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:26
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends DatReq with 5 SDUs size of 200.
         4.Tx RLC sends DDatReq() to MAC.
         5.MAC sends HarqFailInd() to Tx RLC.
         6.Tx RLC sends DStaRsp() to MAC.
         7.MAC sends DStaInd() to Tx RLC with BO=208.
         8.Tx RLC sends DDatReq() to MAC.
         9.MAC sends DStaInd() to Tx RLC with BO=208.
         10.Tx RLC sends DDatReq() to MAC.
         11.MAC sends DStaInd() to Tx RLC with BO=208.
         12.Tx RLC sends DDatReq() to MAC.
         13.MAC sends DStaInd() to Tx RLC with BO=208.
         14.Tx RLC sends DDatReq() to MAC.
         15.MAC sends DStaInd() to Tx RLC with BO=208.
         16.Tx RLC sends DDatReq() to MAC.
         17.MAC sends DDatInd() to Rx RLC with Duplicate PDUs.
         18.Rx RLC sends 5 DatInd() to Rx PDCP.
         19.Rx RLC send DStaRsp() to MAC.
         20.MAC sends DStaInd() to Rx RLC.
         21.Rx RLC sends DDatReq() to MAC.
         22.Tx RLC sends DatCfm() to Tx PDCP"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>

      <tapa.repeat.start repeatCount="5"/>

         #Send KWU Data Request
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="1" rbType="1" ueId="1" cellId="1"/>
         </tapa.send>

         #Expect RGU Status Response to skip validation put valdType="1"
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
         </tapa.expect>

      <tapa.repeat.end/>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="1050" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:-1:
                     -1:-1:-1:-1:-1"  />
      </tapa.expect>

      #Send 3 SDUs
      <tapa.repeat.start repeatCount="3"/>

         #Send KWU Data Request
         <tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="1" rbType="1" ueId="1" cellId="1"/>
         </tapa.send>

         #Expect RGU Status Response to skip validation put valdType="1"
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
         </tapa.expect>

      <tapa.repeat.end/>

      #Send the first SDU with size 306 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="311" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="2" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="2"
            lchData="0:0:0:1:1:305:
                     1:0:1:1:0:2"  />
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="2"
            lchData="1:1:0"/>
      </tapa.send>

      #Delay till reorder timer expiry
      #kw005.201 changed delay to 3
      <tapa.delay delay="3"/>

      #Expect StaRsp for Status PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="4" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="6" transId="3" />
      </tapa.send>

      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="3"
            lchData="0:0:1:1:1:4:
                     -1:-1:-1:0:-1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="3"
            lchData="1:1:0:0:0:0" />
      </tapa.send>

      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
          <tapa.kwu.datcfm numSduIds="3" sduId="5:6:7" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

      <!--
      #Send HARQ Fail Indication
      <tapa.send>
         <tapa.dummy.rgu.hqflind ueId="1" cellId="1" numLch="1" lcId="1" dataId="0" />
      </tapa.send>
      -->

      #Expect RGU Status Response to skip validation put valdType="1"
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1"
            bo="1000" estHdrSz="8" staPduPrsnt="0"/>
      </tapa.expect>

      #Send the first SDU with size 204 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="209" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="4" />
      </tapa.send>

      #Expect RGU Dat Request
      #kw003.201 - estHdrSz needs to be fixed
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="4"
            lchData="800:9:0:1:1:204:
                     0:0:0:1:1:0"  />
      </tapa.expect>

      #Send the first SDU with size 204 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="209" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="5" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="5"
            lchData="600:7:0:1:1:204:
                     0:0:0:1:1:0"  />
      </tapa.expect>

      #Send the first SDU with size 204 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="209" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="6" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="6"
            lchData="400:6:0:1:1:204:
                     0:0:0:1:1:0"  />
      </tapa.expect>

      #Send the first SDU with size 204 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="209" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="7" />
      </tapa.send>

      #Expect RGU Dat Request
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="7"
            lchData="200:4:0:1:1:204:
                     0:0:0:1:1:0"  />
      </tapa.expect>

      #Send the first SDU with size 204 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="209" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="8" />
      </tapa.send>

      #Expect RGU Dat Request.
      #For the last segment of the PDU, Poll bit should be set.
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="8"
            lchData="0:0:0:1:1:204:
                     0:0:1:1:1:0"  />
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="4"
            lchData="1:2:0,0"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="5"
            lchData="1:2:0,0" remove="FALSE"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="6"
            lchData="1:2:0,0" />
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="5"
            lchData="1:2:0,0"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="7"
            lchData="1:2:0,0" remove="FALSE"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="7"
            lchData="1:2:0,0" remove="FALSE"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="8"
            lchData="1:2:0,0" remove="FALSE"/>
      </tapa.send>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="7"
            lchData="1:2:0,0"/>
      </tapa.send>

      <!--
      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="6" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>
      -->

      <tapa.repeat.start repeatCount="8"/>

         #Expect a Data Indication to KWU in ue 2 for 3 SDUs
         <tapa.expect>
            <tapa.kwu.datind  entity="ENTPJ" sduSize="100" 
               cellId="1" ueId="2" rbId="1" rbType="1" />
         </tapa.expect>

      <tapa.repeat.end/>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>
#Pradeep
<!--
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>
-->
      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="5" transId="9" />
      </tapa.send>

      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="9"
            lchData="0:0:1:1:1:2:
                     -1:-1:-1:0:-1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="9"
            lchData="1:1:0:0:0:0" />
      </tapa.send>

      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
         <tapa.kwu.datcfm numSduIds="5" sduId="0:1:2:3:4" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#     
#       Test:    1.27
#  
#       Desc:    Control PDU with invalid Sequence Number (SN) (TX side -
#       Control PDU formation in XTA and send to TX side of RLC)
#       - TC24
#  
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.27">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration
         2.Send 3 SDUs of size 100 to TX RLC
         3.RLC sends single PDU (PDU-1) to MAC
         4.MAC sends PDU-1 to RX RLC
         5.MAC sends again PDU-1 to RX RLC as duplicate.
         6.RX RLC send Control PDU.
         7.MAC constructs wrong control PDU and sends to TX RLC
         8.TX RLC should discard this control PDU.
         9.Meanwhile send actual control PDU to TX RLC.
         10.Expect KwuDatInd and KwuDatCfm in PDCP.
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>

      #######################################################################
      #Send SDU from PDCP for DCCH in ue 1 
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="300"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
            bo="300" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>
      
      ########################################################################################
      #Expect the first SDU with size 302 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="314" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:302:
                     0:0:1:1:0"  />
      </tapa.expect>
      ########################################################################################
      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:2:0,0:0,0:0,0:0,0" remove="0"/>
      </tapa.send>
      #Send the PDU in uplink for lcId 1 in ue 2 Duplication
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:2:0,0:0,0:0,0:0,0"/>
      </tapa.send>
      #Expect a Data Indication to KWU in ue 2
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="300" 
            cellId="1" ueId="2" rbId="1" rbType="1" />
      </tapa.expect>
      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      ########################################################################################
      #Internal function to build the control PDU - pdutype : 1 - UM PDU
      # 2 - Control
      # default - AM PDU
      <tapa.send>
         <tapa.dummy.rgu.rxPduCreate cellId="1" ueId="1" numLch="1" transId="3"
            lchData="3:1:1:0:0:10:0:0:0:0:0" pduType="2"/>
      </tapa.send>

      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="5" transId="2" />
      </tapa.send>

      <!--  #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect> -->

      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="2"
            lchData="0:0:1:1:1:2:
                     -1:-1:-1:0:-1" />
      </tapa.expect>

      #Send the corrupted data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="3"
            lchData="1:1:0:0:0:1" />
      </tapa.send>

      #Send the corrupt the SN(KWAC_CRPT_SN=4) data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="2"
            lchData="1:1:0:0:0:4" remove="0"/>
      </tapa.send>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="2"
            lchData="1:1:0:0:0:0" />
      </tapa.send>

      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
         <tapa.kwu.datcfm numSduIds="1" sduId="0" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.28
#
#       Desc:    Testing BO (in DStaInd BO with more size than requested BO in
#       DStaRsp) with PDU size in simple end-to-end scenario with single SDU and PDU.
#                 - TC36
#
#       Notes:   None
#              
#       Module:  RLC 
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.28"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration.
         2.Configures 2 AM Entities.
         3.Send SDU of size 2000 to TX RLC.
         4.RLC sends the DStaRsp of 2000 to MAC.
         5.MAC sends the DStaInd with BO of size more than requested 3000.
         6.TX RLC should send only 2000 + hdrSize(2)= 2002 of PDU.
         7.Later DDatInd and KwuDatInd expects.
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>
        
      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>

      #Send SDU from PDCP for DCCH in ue 1 
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="2000"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
            bo="2000" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>
      
      ########################################################################################
      #Expect the first SDU with size 302 
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="3004" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:2002:
                     0:0:1:1:0"  />
      </tapa.expect>
      ########################################################################################
      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:1:0" remove="0"/>
      </tapa.send>
      #Expect a Data Indication to KWU in ue 2
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="2000" 
            cellId="1" ueId="2" rbId="1" rbType="1" />
      </tapa.expect>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      ########################################################################################
      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="5" transId="2" />
      </tapa.send>
      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="2"
            lchData="0:0:1:1:1:2:
                     -1:-1:-1:0:-1" />
      </tapa.expect>
      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="2"
            lchData="1:1:0:0:0:0" />
      </tapa.send>
      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
      <tapa.expect>
         <tapa.kwu.datcfm numSduIds="1" sduId="0" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

   </tapa.test> 
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="5"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#     
#       Test:    1.29
#  
#       Desc:    Testing the re-assembly mechanism (RX) by sending duplicate PDU segments
#                 Only RX side scenario
#       - TC17
#  
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_pj_grp5.xml
#
#
<tapa.testcase id="1.29">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration
         2.Prepare 5 PDU segments of single PDU size of 400
         2.1.1st PDU segment = 0-100
         2.2 2nd PDU segment = 100-200
         2.3 3rd PDU segment = 200-300
         2.4 4th PDU segment = 300-400
         2.5 5th PDU segment = 100-300

      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

   <tapa.test>

      #######################################################################
      #Internal function to build the PDU
      <tapa.send>
         <tapa.dummy.rgu.rxPduCreate cellId="1" ueId="1" numLch="1" transId="1"
            lchData="3:1:1:100:1:0:1:0:1:1:0:0:1:100"/>
      </tapa.send>

      #Internal function to build the PDU
      <tapa.send>
         <tapa.dummy.rgu.rxPduCreate cellId="1" ueId="1" numLch="1" transId="2"
            lchData="3:1:1:100:1:0:3:0:1:1:0:100:1:100"/>
      </tapa.send>

      #Internal function to build the PDU
      <tapa.send>
         <tapa.dummy.rgu.rxPduCreate cellId="1" ueId="1" numLch="1" transId="3"
            lchData="3:1:1:100:1:0:3:0:1:1:0:200:1:100"/>
      </tapa.send>

      #Internal function to build the PDU
      <tapa.send>
         <tapa.dummy.rgu.rxPduCreate cellId="1" ueId="1" numLch="1" transId="4"
            lchData="3:1:1:100:1:0:2:1:1:1:1:300:1:100"/>
      </tapa.send>

      #Internal function to build the PDU
      <tapa.send>
         <tapa.dummy.rgu.rxPduCreate cellId="1" ueId="1" numLch="1" transId="5"
            lchData="3:1:1:200:1:0:3:1:1:1:0:100:1:200"/>
      </tapa.send>

      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:1:0"/>
      </tapa.send>

      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="2"
            lchData="1:1:0"/>
      </tapa.send>

      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:1:0"/>
      </tapa.send>

      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="5"
            lchData="1:1:0"/>
      </tapa.send>

      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="4"
            lchData="1:1:0" remove="0"/>
      </tapa.send>

      #Send the PDU in uplink for lcId 1 in ue 2
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="4"
            lchData="1:1:0"/>
      </tapa.send>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>
      #Expect a Data Indication to KWU in ue 2
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="400" 
            cellId="1" ueId="2" rbId="1" rbType="1" valdType="1"/>
      </tapa.expect>

      #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      <!--  #Expect a starsp for logical channel 1 in ue 2 for the control PDU 
      #since we have a trigger for status report as duplicate pdu is received
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>     -->

   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>


#     
#       Test:    1.30
#     
#       Desc:    Verify Control path with the NACK for the last segment
#
#       Notes:   None
#     
#       Module:  RLC
#     
#       File:    kwac_pj_grp5.xml
#     
#     
<tapa.testcase id="1.30">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "RLC AM mode data transfer for a SDU"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration
         2.Configurre RLC entity with BCCH PCCH and CCCH.
         4.Dummy RRC sends Dat request with size (configured value) for all the three entity types
         5.RLC sends StaRes()
         6.Dummy MAC sends StaInd()
         7.RLC sends DatReq() to MAC
         8.Dummy MAC sends DatInd() to RLC for CCCH data
         9.RLC sends DatInd() to Dummy RRC"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg7/>
    </tapa.cfg>

   <tapa.test>

      #Send SDU from PDCP for DCCH for AM entity 1
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="100"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="104"  transId="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="1" numLch="1"
            lchData="0:-1:0:1:1:102"/>
      </tapa.expect>

      #Send SDU from PDCP for DCCH for AM entity 1
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="2" sduSize="100"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="104"  transId="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="2" numLch="1"
            lchData="0:-1:0:1:1:102"/>
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="2"
            lchData="1:1:0"/>
      </tapa.send>

      #Delay till reorder timer expiry
      #kw005.201 changed delay to 3
      <tapa.delay delay="3"/>

      #Expect StaRsp for Status PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="4" estHdrSz="0"  staPduPrsnt="1"/>
      </tapa.expect>

      #Send a datind for logical channel 1 in ue 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="6" transId="3" />
      </tapa.send>

      #Expect a data request for logical channel 1 in ue 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="3"
            lchData="0:0:1:1:1:4:
                     -1:-1:-1:0:-1" />
      </tapa.expect>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="3"
            lchData="1:1:0:0:0:0" />
      </tapa.send>

      #Expect Data Confirmation for SDU=2
      <tapa.expect>
         <tapa.kwu.datcfm numSduIds="1" sduId="1" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

      <!--
      <tapa.send>
         <tapa.dummy.rgu.hqflind ueId="1" cellId="1" dataId="0" numLch="1" lcId="1" />
      </tapa.send>
      -->

      #Do we have to expect a status response after harq failure
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="56"  transId="2"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="2" numLch="1"
            lchData="50:-1:0:1:1:54"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="56"  transId="3"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="3" numLch="1"
            lchData="0:0:0:1:1:54"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="3"
            lchData="1:1:0"/>
      </tapa.send>

      #Expect StaRsp for NACK
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="8" lcId="1"
         estHdrSz="-1" staPduPrsnt="1"/>
      </tapa.expect>

      #Send One SDU from KWU to get Status Report with NACK for segments.
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="100"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="104"  transId="4"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="4" numLch="1"
            lchData="0:-1:0:1:1:102"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="4"
            lchData="1:1:0"/>
      </tapa.send>

      #Expect StaRsp for Status PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="8" estHdrSz="-1"  staPduPrsnt="1"/>
      </tapa.expect>

      # For ReOrder Tmr Expiry
      #kw005.201 changed delay to 3
      <tapa.delay delay="3"/>

      #Expect StaRsp for Status PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="8" estHdrSz="-1"  staPduPrsnt="1"/>
      </tapa.expect>

      # For ReOrder Tmr Expiry
      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="10" transId="5" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="5"
            lchData="0:-1:1:1:1:8"/>
      </tapa.expect>
      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="5"
            lchData="1:1:0" />
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datcfm numSduIds="1" sduId="2" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

      <!--
      <tapa.send>
         <tapa.dummy.rgu.hqflind ueId="1" cellId="1" dataId="1" numLch="1" lcId="1" />
      </tapa.send>
      -->

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="1016"  transId="6"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="6" numLch="1"
            lchData="0:-1:0:1:2:54,54"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="100"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="104"  transId="7"/>
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="7" numLch="1"
            lchData="0:-1:0:1:1:102"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="6"
            lchData="1:1:0"/>
      </tapa.send>

      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="7"
            lchData="1:1:0"/>
      </tapa.send>

      #Expect a Data Indication to KWU in ue 2
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" sduId="1"
            cellId="1" ueId="2" rbId="1" rbType="1" valdType="0"/>
      </tapa.expect>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" sduId="2"
            cellId="1" ueId="2" rbId="1" rbType="1" valdType="0"/>
      </tapa.expect>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" sduId="3"
            cellId="1" ueId="2" rbId="1" rbType="1" valdType="0"/>
      </tapa.expect>
      #kw002.201
#      <tapa.expect>
#         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
#            bo="2" estHdrSz="-1"  staPduPrsnt="1"/>
#      </tapa.expect>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" sduId="0"
            cellId="1" ueId="2" rbId="1" rbType="1" valdType="0"/>
      </tapa.expect>

      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="1" 
            bo="2" estHdrSz="-1"  staPduPrsnt="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="1" numLch="1" 
            totBufSize="10" transId="8" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="1" ueId="2" transId="8"
            lchData="0:-1:1:1:1:2"/>
      </tapa.expect>

      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="8"
            lchData="1:1:0" />
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datcfm numSduIds="2" sduId="0:3" ueId="1" cellId="1" rbId="1" rbType="1"/>
      </tapa.expect>

   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#kw005.201 Added test cases for R9 upgrade
#
#
#       Test:    1.31
#
#       Desc:    Verification of ignoring R1 fields (10bit SN)
#
#       Notes:   None
#
#       Module:  rlc
#
#       File:    kwac_grp5.xml
#
#
<tapa.testcase id="1.31" altid="5.20">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="rlc"/>

      <tapa.desc>
       "Verification of ignoring R1 fields (10bit SN)"
      </tapa.desc>

      <tapa.longdesc>
          "1. configure RLC layer and interfaces through LM
           2. configure RLC entities
           3. Create a UE with 1 DRB in UM mode with 10 bit SN
	   4. Start a loop for 10
           5. Pump a Pdcp PDUs of size 100 to RLC
           6. RLC sends the status response to MAC
	   7. MAC sends the Status indication to RLC
	   8. RLC sends the DDataReq to MAC
	   9. MAC sends the DDatInd to Rx RLC with changed R1 field (001)
	   10. RLC sends the SDU to PDCP after reassembly."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.kw.umcfg/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.repeat.start repeatCount="10"/>
      # PDCP sends data request with SDU size as 100
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="100" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      # MAC expects the Status Response from RLC
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1"
               bo="100" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      # MAC notifies BO with size as 106
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
               numLch="1" transId="1" />
      </tapa.send>

      # MAC expects data from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="0:0:-1:1:1:102:
                        -1:0:-1:0:0"/>
      </tapa.expect>

      # MAC indicates Data Indication to Peer RLC and also tamepers the R1 field
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
            lchData="1:1:0" newR1Field="1"/>
      </tapa.send>

      # RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" cellId="1" ueId="2" rbId="1" rbType="1" sduId="0"
                        valdType="1"/>
      </tapa.expect>
      <tapa.repeat.end/>
      <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>
   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.32
#
#       Desc:    Verification of VR(H) updation
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp6.xml
#
#
<tapa.testcase id="1.32" altid="6.37">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "Verification of VR(H) updation"
      </tapa.desc>

      <tapa.longdesc>
        "1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends 1 SDU size of 2050.
         4.Tx RLC sends 1 DDatReq(SN=0) to MAC.
         5.Tx PDCP sends 40 DatReq with 40 SDUs with size of 2050.
         6.Tx RLC sends 40 PDUs (DDatReq) with SN=0 to 39 to MAC.
         7.MAC sends 40 DDatInd to Rx RLC.
         8.MAC sends the 1st PDU(SN=0) DDatInd to Rx RLC.
         9.Rx RLC sends 41 SDUs (DatInd) to Rx PDCP.
         10.Tx RLC sends 41 DatCfm to Tx PDCP."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfgr9/>
    </tapa.cfg>

   <tapa.test>
      #Send SDU from PDCP for DCCH for AM entity
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
            sduId="1" sduSize="2050"/>
      </tapa.send>
      #MAC expects Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2050" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      #RLC Sends Data Request to MAC
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="10285" lcId="1" ueId="1" cellId="1"
            numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:2052:-1:0:1:-1:-1"  />
      </tapa.expect>

   <tapa.repeat.start repeatCount="40"/>
      #Send SDU from PDCP for DCCH for AM entity
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
            sduId="1" sduSize="2050"/>
      </tapa.send>
      #MAC expects Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2050" lcId="1" estHdrSz="2" staPduPrsnt="0"
           valdType="1" />
      </tapa.expect>

      #RLC sends Data Request to MAC
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="10285" lcId="1" ueId="1" cellId="1"
            numLch="1" transId="2" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="2"
            lchData="0:0:0:1:-1:2052:-1:0:-1:-1:-1"  />
      </tapa.expect>

      #MAC sends the PDU in uplink to Rx RLC
       <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="2" transId="2"
            lchData="1:4:0,0,0,0:0,0,0,0,0,0:0,0,0,0,0,0:0,0,0,0,0,0"/>
      </tapa.send>

      <!--
      #RLC sends a status response to MAC for the control PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2050" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      #MAC sends a status indication to RLC for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="5" lcId="1" ueId="2" cellId="1" numLch="1" transId="3"/>
      </tapa.send>

      #Expect a data request for status pdu
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" transId="3"
            lchData="0:0:0:1:-1:2:
                    -1:-1:-1:-1:-1"  />
      </tapa.expect>
      #Send a data indication of the Status PDU
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="3"
            lchData="1:1:0:0:0:0"/>
      </tapa.send>    -->
   <tapa.repeat.end/>

      #Send the 1st PDU(RLC SN=0) in uplink to Rx RLC
       <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="2" transId="1"
            lchData="1:4:0,0,0,0:0,0,0,0,0,0:0,0,0,0,0,0:0,0,0,0,0,0"/>
      </tapa.send>

      <!--  <tapa.delay delay="10" />
      <tapa.expect>
          <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="2" lcId="1" estHdrSz="0" staPduPrsnt="1"/> 
      </tapa.expect> -->
     #Rx RLC sends data indication to Rx PDCP
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="2050" cellId="1" ueId="2"
            rbId="1" rbType="1" />
      </tapa.expect>

   <tapa.repeat.start repeatCount="40"/>
     #Rx RLC sends data indication to Rx PDCP
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="2050" cellId="1" ueId="2"
            rbId="1" rbType="1" />
      </tapa.expect>
   <tapa.repeat.end/>

      #RLC sends a status response to MAC for the control PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="2" lcId="1" estHdrSz="0" staPduPrsnt="1"/>
      </tapa.expect> 

      #MAC sends a status indication to RLC for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="5" lcId="1" ueId="2" cellId="1" numLch="1" transId="4"/>
      </tapa.send>

      #Expect a data request for status pdu
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" transId="4"
            lchData="0:0:1:1:1:2:
                    -1:-1:0:-1:-1"  />
      </tapa.expect>

      #Send a data indication of the Status PDU
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="4"
            lchData="1:1:0:0:0:0"/>
      </tapa.send>

      #Expect a data confirm to PDCP about reception of the SDU at the peer entity
       <tapa.expect>
         <tapa.kwu.datcfm entity="ENTPJ" numSduIds="41" sduId="-1" ueId="1" cellId="1" rbId="1"
            rbType="1"/>
      </tapa.expect>

   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.33
#
#       Desc:    Verification of condition for stopping t-reordering timer
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp6.xml
#
#
<tapa.testcase id="1.33" altid="6.39">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "Verification of condition for stopping t-reordering timer"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1.33
         1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends 100 DatReq with 100 SDUs size of 2050.
         4.Tx RLC sends 100 PDUs with SN=0 to 99 to MAC.
         5.Tx PDCP sends 1 DatReq with 1 SDUs size of 2050.
         6.Tx RLC sends 1 PDU with SN=100 to MAC.
         7.Tx PDCP sends 410 DatReq with 410 SDUs size of 2050
         8.Tx RLC sends 410 PDUs with SN=101 to 510 to MAC.
         9.Tx PDCP sends 1 DatReq with 1 SDUs size of 2050.
         10.Tx RLC sends 1 PDU with SN=511 to MAC.
         11.MAC sends 1 DatInd to Rx RLC.
	 12.MAC sends 1 more DatInd(for RLC SN=100) to Rx RLC."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfgr9/>
    </tapa.cfg>

    <tapa.test>
       <!--    
   <tapa.repeat.start repeatCount="100"/>
      # Send SDU from PDCP for DCCH for AM entity
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
            sduId="1" sduSize="2050"/>
      </tapa.send>
      # MAC expects Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2050" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      # RLC Sends Data Request to MAC
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="10285" lcId="1" ueId="1" cellId="1"
            numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="0:0:0:1:1:2052:-1:0:1:-1:-1"  />
      </tapa.expect>
    <tapa.repeat.end/>

      # Send SDU from PDCP for DCCH for AM entity
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
            sduId="1" sduSize="2050"/>
      </tapa.send>
      # MAC expects Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2050" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      # RLC Sends Data Request to MAC
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="10285" lcId="1" ueId="1" cellId="1"
            numLch="1" transId="2" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="2"
            lchData="0:0:0:1:1:2052:-1:0:1:-1:-1"  />
      </tapa.expect>

   <tapa.repeat.start repeatCount="410"/>
      # Send SDU from PDCP for DCCH for AM entity
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
            sduId="1" sduSize="2050"/>
      </tapa.send>
      # MAC expects Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2050" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      # RLC Sends Data Request to MAC
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="10285" lcId="1" ueId="1" cellId="1"
            numLch="1" transId="3" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="3"
            lchData="0:0:0:1:1:2052:-1:0:1:-1:-1"  />
      </tapa.expect>
    <tapa.repeat.end/>

      #Send SDU from PDCP for DCCH for AM entity
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
            sduId="1" sduSize="2050"/>
      </tapa.send>
      #MAC expects Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2050" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      #RLC Sends Data Request to MAC
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="10285" lcId="1" ueId="1" cellId="1"
            numLch="1" transId="4" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="4"
            lchData="0:0:0:1:1:2052:-1:0:1:-1:-1"  />
      </tapa.expect>
      #MAC sends the PDU in uplink to Rx RLC
       <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="2" transId="4"
            lchData="1:4:0,0,0,0:0,0,0,0,0,0:0,0,0,0,0,0:0,0,0,0,0,0"/>
      </tapa.send>

      #RLC sends a status response to MAC for the control PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="2" lcId="1" estHdrSz="0" staPduPrsnt="1" valdType="1"/>
      </tapa.expect>

      #MAC sends a status indication to RLC for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="5" lcId="1" ueId="2" cellId="1" numLch="1" transId="5"/>
      </tapa.send>

      #Expect a data request for status pdu
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" transId="5"
            lchData="0:0:-1:1:-1:-1:
                    -1:-1:-1:-1:-1"  />
      </tapa.expect>
      #Send a data indication of the Status PDU
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="5"
            lchData="1:1:0:0:0:0"/>
      </tapa.send>  

      #MAC sends the PDU in uplink to Rx RLC(RLC SN=100)
       <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="2" transId="2"
            lchData="1:4:0,0,0,0:0,0,0,0,0,0:0,0,0,0,0,0:0,0,0,0,0,0"/>
      </tapa.send>
      
      #RLC sends a status response to MAC for the control PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="2" lcId="1" estHdrSz="0" staPduPrsnt="1" valdType="1"/>
      </tapa.expect> 

      #MAC sends a status indication to RLC for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="5" lcId="1" ueId="2" cellId="1" numLch="1" transId="6"/>
      </tapa.send>
      #Expect a data request for status pdu
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" transId="6"
            lchData="0:0:-1:1:-1:-1:
                    -1:-1:-1:-1:-1"  />
      </tapa.expect>
      #Send a data indication of the Status PDU
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="6"
            lchData="1:1:0:0:0:0"/>
      </tapa.send>
      -->
   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.34
#
#       Desc:    Statistics verification in RLC
#
#       Notes:   None
#              
#       Module:  RLC 
#
#       File:    kwac_grp2.xml
#
#
<tapa.testcase id="1.34" altid="2.10">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="TM"/>

      <tapa.desc>
         "Verification of statistics in RLC. This test case verifies 
          numOfRb, sduRx, sduTx, pdusRecv, pdusSent, bytesRecv and bytesSent
          statistics variables."
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration
         2.Configurre RLC entity with BCCH PCCH and CCCH.
         4.Dummy RRC sends Dat request with size (configured value) for all the three entity types
         5.RLC sends StaRes()
         6.Dummy MAC sends StaInd()
         7.RLC sends DatReq() to MAC
         8.Dummy MAC sends DatInd() to RLC for CCCH data
         9.RLC sends DatInd() to Dummy RRC 
         10. Repeat step 4 to 9 100 times.
         11. Send stsReq to RLC, to measure sduRx and sduTx.
         12. Verify stsCfm received from RLC."
      </tapa.longdesc>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.kw.init/>
      <tapa.ckw.tmcfg/>
   </tapa.cfg>

   <tapa.test>
      <tapa.repeat.start repeatCount="100"/>
      #Send SDU from RRC for BCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="1" rbType="0" ueId="0" cellId="1" 
            sduId="1" sduSize="300" sfn="2" subframe="5" type="1"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="300" cellId="1" lcId="1" sfn="2" subframe="3"/>
      </tapa.expect>

      #Send SDU from RRC for PCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="2" rbType="0" ueId="0" cellId="1"
            sduId="2" sduSize="400" sfn="3" subframe="6" type="2"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="400" cellId="1" lcId="2" sfn="3" subframe="4"/>
      </tapa.expect>

      #Send SDU from RRC for CCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTNH" rbId="3" rbType="0" ueId="0" cellId="1"
            type="3" sduId="3" sduSize="500" conResId="100" rnti="30"
            isRej="FALSE"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.cstarsp bo="500" cellId="1" lcId="3" 
            conResId="100" rnti="30" isRej="FALSE"/>
      </tapa.expect>

      ########################################################################################
      #Expect the first SDU with sfn 2 and subframe 3 for BCCH
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="300" lcId="1" cellId="1" transId="515"/>
      </tapa.send>

      # Expect CDatReq
      <tapa.expect guardTmr="80">
         <tapa.dummy.rgu.cdatreq  cellId="1" lcId="1" lcType="1"
            pduSz="300" sfn="2" subframe="3" transId="1"/>
      </tapa.expect>

      #Expect the second SDU with sfn 3 and subframe 4 for PCCH
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="400" lcId="2" cellId="1" transId="772"/>
      </tapa.send>

      # Expect CDatReq
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="2" lcType="2"
            pduSz="400" sfn="3" subframe="4" transId="2"/>
      </tapa.expect>

      #Expect the third SDU with conResId 100 rnti 30 and isRej False for CCCH
      <tapa.send>
         <tapa.dummy.rgu.cstaind bo="500" lcId="3" cellId="1" transId="3"
            rnti="30"/>
      </tapa.send>

      # Expect CDatReq
      <tapa.expect>
         <tapa.dummy.rgu.cdatreq cellId="1" lcId="3" lcType="3"
            pduSz="500" conResId="100" rnti="30" isRej="FALSE" transId="3"/>
      </tapa.expect>

      #Send only CCCH data in uplink
      <tapa.send>
         <tapa.dummy.rgu.cdatind lcId="3" cellId="2" rnti="30"
            pduSize="500" transId="3"/>
      </tapa.send>

      # Expect DatInd in KWU
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTNH" sduSize="500" rnti="30" />
      </tapa.expect>

      <tapa.repeat.end/>

      # Send stsReq to measure sduRx and sduTx.
      <tapa.send>
        <tapa.lkw.stsreq action="1" elmnt="185" inst="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.lkw.stscfm elmnt="185" kwuSduTx="300" kwuSduRx="300" validType="1" inst="1"/>
      </tapa.expect>

      # Send stsReq to measure pdusRecv and pdusSent.
      <tapa.send>
        <tapa.lkw.stsreq action="1" elmnt="1" inst="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.lkw.stscfm elmnt="1" pdusRecv="100" pdusSent="300"
            bytesSent="120000" bytesRecv="50000" numOfRb="8" validType="1" inst="1"/>
      </tapa.expect>
     <tapa.delay delay="2"/>

   </tapa.test> 
   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="5"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.35
#
#       Desc:    Statistics verification in RLC
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp2.xml
#
#
<tapa.testcase id="1.35" altid="2.11">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
         "Statistics verification in RLC. This test case verifies statistics variables
          pdusRecv, pdusSent, pdusRetx, bytesRecv, bytesSent, numUe, numOfRb"
      </tapa.desc>

      <tapa.longdesc>
        "1.Configure RLC with general configuration , sap configuration.
         2.RLC entity Configuration.
         3.Tx PDCP sends DatReq with 3 SDUs size of 3000.
         4.Tx RLC sends DDatReq() to MAC with 1 PDU.
         5.MAC sends DDatInd() to Rx RLC.
         6.Rx RLC sends DatInd() to Rx PDCP.
         7.Rx RLC send DStaRsp() to MAC.
         8.MAC sends DStaInd() to Rx RLC.
         9.Rx RLC sends DDatReq() to MAC.
         10.MAC sends DDatInd() to Tx RLC.
         11.Tx RLC sends DatCfm() to Tx PDCP.
         12.Repeat step 3 to 11, 100 times.
         13.Send statistics request to RLC.
         14.Verify the statistics confirm.
         15.Shutdown the layer."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg/>
    </tapa.cfg>

    <tapa.test>

      #Send SDU from PDCP for DCCH
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="3000"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="3000" lcId="1" estHdrSz="2" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="2" sduSize="3000"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="6000" lcId="1" estHdrSz="4" staPduPrsnt="0"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="3" sduSize="3000"/>
      </tapa.send>
      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="9000" lcId="1" estHdrSz="6" staPduPrsnt="0"/>
      </tapa.expect>

      #########Send Data Request for Logical channel 1 and verify path
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="9015" lcId="1" ueId="1" cellId="1" 
            numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
            lchData="3000:2:0:1:2:3002,3002:
                    0,1:0,0:1,1:1,1:0,0"  />
      </tapa.expect>
      #Send the PDU in uplink
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="2" transId="1"
            lchData="1:4:0,1,2,2:0,0,0:0,0,0:0,0,0"/>
      </tapa.send>
      #Expect a Data Indication to KWU for PDU 1
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="3000" cellId="1" ueId="2"
            rbId="1" rbType="1" />
      </tapa.expect>

       #Expect a Data Indication to KWU for PDU 2
      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="3000" cellId="1" ueId="2"
            rbId="1" rbType="1" />
      </tapa.expect>
  
      #Expect a status response for logical channel 2 for the control PDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="2" lcId="1" estHdrSz="0" staPduPrsnt="1"/>
      </tapa.expect>
      #Send a status indication for logical channel 2 for the status pdu
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="5" lcId="1" ueId="2" cellId="1" numLch="1" transId="2"/>
      </tapa.send>

      #Expect a data request for logical channel 2
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" transId="2"
            lchData="0:0:1:1:1:2:
            -1:0:0:-1:-1"/>
      </tapa.expect>
      #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="2"
            lchData="1:1:0:0:0:0"/>
      </tapa.send>
      #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
       <tapa.expect>
         <tapa.kwu.datcfm entity="ENTPJ" numSduIds="2" sduId="0:1" ueId="1" cellId="1" rbId="1"
            rbType="1"/>
      </tapa.expect>

      #Send stsReq 
      <tapa.send>
        <tapa.lkw.stsreq action="1" elmnt="1" inst="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.lkw.stscfm numUe="2" numOfRb="4" pdusRecv="5" pdusSent="3" 
            bytesSent="9000" bytesRecv="12000" unexpPdusRecv="1" elmnt="1" validType="1" inst="1"/>
      </tapa.expect>

      #Send stsReq 
      <tapa.send>
        <tapa.lkw.stsreq action="1" elmnt="185" spId="1" inst="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.lkw.stscfm elmnt="185" kwuSduTx="3" kwuSduRx="3" validType="1" inst="1"/>
      </tapa.expect>
      
      #Send stsReq 
      <tapa.send>
        <tapa.lkw.stsreq action="1" elmnt="184" spId="1" inst="1"/>
      </tapa.send>

      <tapa.expect>
         <tapa.lkw.stscfm elmnt="184" ckwStatMsgs="1" validType="1" inst="1"/>
      </tapa.expect>

   </tapa.test>
   # Clean subsection 
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>
         
   <tapa.kw.deinit/>
         
   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#     
#       Test:    1.36
#     
#       Desc:    Verify that if allocation from MAC is too lesser than the RLC header
#                size then MAC will get nothing from RLC. Also if pduSz remains less
#                than the rlc header size after the partial formation of PDU then RLC
#                takes next available SDU and completes the PDU.
#                formation if 
#
#       Notes:   None
#     
#       Module:  RLC
#     
#       File:    kwac_pj_grp1.xml
#     
#     
<tapa.testcase id="1.36">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="AM"/>

      <tapa.desc>
       "Verify that if allocation from MAC is too lesser than the RLC header
        size then MAC will get nothing from RLC. Also if pduSz remains less
        than the rlc header size after the partial formation of PDU then RLC
        takes next available SDU and completes the PDU."
      </tapa.desc>

      <tapa.longdesc>
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg7/>
    </tapa.cfg>

   <tapa.test>

      #Send SDU from PDCP for DCCH for AM entity 1
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="100"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      #Send SDU from PDCP for DCCH for AM entity 1
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="2" sduSize="2"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
      
      #Send SDU from PDCP for DCCH for AM entity 1
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="3" sduSize="2"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
    
      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="4"  transId="2"/>
      </tapa.send>
      #Expect nothing from RLC as totBufSize is lesser than minimum rlc size
      
      #Expect only one pdu from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="2" numLch="1"  lcId="1"
            lchData="0:-1:-1:-1:0:0"/>
      </tapa.expect>
      #Send again staInd with totBufSize is 110
      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="112"  transId="3"/>
      </tapa.send>

      #Expect only one pdu from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="3" numLch="1"  lcId="1"
            lchData="1:-1:-1:-1:1:108"/>
      </tapa.expect>
      
      #Send again staInd with totBufSize as 5
      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="5"  transId="4"/>
      </tapa.send>

      #Expect only one pdu from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="4" numLch="1"  lcId="1"
            lchData="0:-1:-1:-1:1:3"/>
      </tapa.expect>
      
      #Send SDU from PDCP for DCCH for AM entity 1
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="2501"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2501" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>
      
      #Send SDU from PDCP for DCCH for AM entity 1
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1" 
            sduId="1" sduSize="250"/>
      </tapa.send>

      #Expect Status Response for the received SDU
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="2751" lcId="1"
         estHdrSz="-1" staPduPrsnt="0"/>
      </tapa.expect>

      #Send again staInd with totBufSize as 2510
      <tapa.send>
         <tapa.dummy.rgu.dstaind ueId="1" cellId="1" numLch="1" lcId="1"
            totBufSize="3000"  transId="4"/>
      </tapa.send>

      #Expect only one pdu from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq ueId="1" cellId="1" transId="4" numLch="1"  lcId="1"
            lchData="0:-1:-1:-1:2:2503,252"/>
      </tapa.expect>

   </tapa.test>
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="5"/>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.37
#
#       Desc:    RLC L2 Measurement validation 
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.37" altid="7.1"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Validating  L2 Measurement request message"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    # Send Measurement request from LM to RLC as measType as 100
    <tapa.send>
         <tapa.lkw.l2measreq measType="100"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="100"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE"
          measData="0:0;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numSamples as 0
    <tapa.send>
         <tapa.lkw.l2measreq measType="1" numSamples="0" numQci="1" qci="1"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_ZERO_NUMSAM"
          measData="0:0;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numSamples as not multiple
    # of measPeriod
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="3" measPeriod="10"
          numQci="1" qci="1"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="1" 
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_NUMSAM"
          measData="0:0;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numQci as 100
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2" 
          measPeriod="10" numQci="100"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="1" 
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_NUMQCI"
          measData="0:0;"/>
    </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 0
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2" 
          measPeriod="10" numQci="0"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_NUMQCI"
          measData="0:0;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC as measType as 0
    <tapa.send>
         <tapa.lkw.l2measreq measType="0"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="0"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE"
          measData="0:0;"/>
    </tapa.expect>

    # Send Measurement request from LM to RLC with numQci as 1 qnd qci as 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="3"/>
    </tapa.send>
    
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI"
          measType="1" measData="3:0;"/>
    </tapa.expect>
    # Configure 1 UE with 10 RB
    #Send configuration request to configure 1 UE
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="10"
            cfgType="1:1:1:1:1:1:1:1:1:1"
            rbId="4:5:6:7:8:9:10:11:12:13"
            rbType="1:1:1:1:1:1:1:1:1:1"
            entMode="3:3:3:3:3:3:3:3:3:3"
            dir="3:3:3:3:3:3:3:3:3:3"
            logChId0Id="4:5:6:7:8:9:10:11:12:13"
            logChId0Type="4:4:4:4:4:4:4:4:4:4"
            logChId1Id="4:5:6:7:8:9:10:11:12:13"
            logChId1Type="4:4:4:4:4:4:4:4:4:4"
            amDlPollRetxTmr="200:200:200:200:200:200:200:200:200:200"
            amDlPollPdu="10:10:10:10:10:10:10:10:10:10"
            amDlPollByte="2500:2500:2500:2500:2500:2500:2500:2500:2500:2500"
            amDlMaxRetx="7:7:7:7:7:7:7:7:7:7"
            amUlStaProhTmr="300:300:300:300:300:300:300:300:300:300"
            amUlReOrdTmr="300:300:300:300:300:300:300:300:300:300"
            qci ="0:1:2:3:4:5:6:7:8:9"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="10" 
            rbId="4:5:6:7:8:9:10:11:12:13"
            rbType="1:1:1:1:1:1:1:1:1:1"
            status="1:1:1:1:1:1:1:1:1:1"
         />
   </tapa.expect>

    # Send Measurement request from LM to RLC with measType as active UE
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="2"/>
    </tapa.send>
    
    # Send Measurement request from LM to RLC with measType as Active UE again
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="2"/>
    </tapa.send>
    
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_MEAS_ALREADY_ENA"
         measType="4"  measData="2:0;"/>
   </tapa.expect>

   #Wait for previous meas to expire
   <tapa.delay delay="10"/>

   <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="2:0;"/>
   </tapa.expect>
   #Send 10 measrequest for diff qci
    # Send Measurement request from LM to RLC with measType as active UE
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="0"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="1"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="2"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="3"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="4"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="5"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="6"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="7"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="8"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="9"/>
    </tapa.send>

    #Send measReq again with measType as 1 
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2" 
          measPeriod="10" numQci="1" qci="5"/>
    </tapa.send>
    # Expect negative confirmation from RLC(Exceeded maximum number of meas)
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" status="LCM_PRIM_NOK" reason="LKW_CAUSE_EXCEED_NUMMEAS"
          measType="1" />
   </tapa.expect>

   #Expect measCfm for all 10 measReq
   <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="0:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="1:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="2:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="3:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="4:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="5:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="6:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="7:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="8:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="9:0;"/>
   </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.38
#
#       Desc:    Find the number of active ue 
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.38" altid="7.2"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE when there is a data in RB"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>

    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numQci as 1 qnd qci as 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>
    
    # Wait for Measurement confirm to come 
    <tapa.delay delay="2"/>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2:1;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.39
#
#       Desc:    Find the number of active ue with multiple qci
#                when there are more than 1 UE.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.39" altid="7.5"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE with mutliple qci configured
         in same UE and when there are more than 1 UE."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:4:5"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="2" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:6:7"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="5" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="6" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
   
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="7" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="7" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="8" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="8" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="9" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="9" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="5" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="6" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
   
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="7" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="7" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="8" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="8" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="9" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="9" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>

    # Send Measurement request from LM to RLC for qci 0,1,2 and 6
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="4" qci="0:1:2:6"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="4" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:2;1:2;2:2;6:1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="8" qci="0:1:2:3:4:5:6:7"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="8" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:2;1:2;2:2;3:2;4:1;5:1;6:1;7:1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="8" qci="0:1:2:3:4:5:6:7"/>
    </tapa.send>

    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 6
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 6
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 7
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="7" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 7
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 8
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="8" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 8
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 9
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="9" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 9
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Expect L2 Measurement confirm
    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="8" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:1;1:1;2:1;3:1;4:0;5:0;6:1;7:1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
    </tapa.expset>

 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.40
#
#       Desc:    Find the number of active ue with multiple qci
#                when there are 10 UEs
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.40" altid="7.7"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE with mutliple qci configured
         in same UE and when there are 10 UE"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure UE 1 with 6 RBs ueId 1
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:4:5"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 2 with 6 Rbs ueId 2
      <tapa.send>
         <tapa.ckw.cfgreq ueId="2" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="1:2:3:4:5:6"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 3 with 6 Rbs ueId 3
      <tapa.send>
         <tapa.ckw.cfgreq ueId="3" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="2:3:4:5:6:7"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 4 with 6 Rbs ueId 4
      <tapa.send>
         <tapa.ckw.cfgreq ueId="4" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="3:4:5:6:7:8"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 5 with 6 Rbs ueId 5
      <tapa.send>
         <tapa.ckw.cfgreq ueId="5" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="4:5:6:7:8:9"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 6 with 6 Rbs ueId 6
      <tapa.send>
         <tapa.ckw.cfgreq ueId="6" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:4:5"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 7 with 6 Rbs ueId 7
      <tapa.send>
         <tapa.ckw.cfgreq ueId="7" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="1:2:3:4:5:6"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 8 with 6 Rbs ueId 8
      <tapa.send>
         <tapa.ckw.cfgreq ueId="8" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="2:3:4:5:6:7"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 9 with 6 Rbs ueId 9
      <tapa.send>
         <tapa.ckw.cfgreq ueId="9" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="3:4:5:6:7:8"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 10 with 6 Rbs ueId 10
      <tapa.send>
         <tapa.ckw.cfgreq ueId="10" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="4:5:6:7:8:9"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   <!--
    -->
   #############Send data to UE 1 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="9" valdType="1"/>
    </tapa.expect>
    
    #############Send data to UE 2 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="9" valdType="1"/>
    </tapa.expect>

   #############Send data to UE 3 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="9" valdType="1"/>
    </tapa.expect>
    
   #############Send data to UE 4 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="9" valdType="1"/>
    </tapa.expect>

   #############Send data to UE 5 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="9" valdType="1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 0,1,2 3 and 4
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="5" qci="0:1:2:3:4"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="5" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:1;1:2;2:3;3:4;4:5"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 5,6,7,8, and 9
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="5" qci="5:6:7:8:9"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="5" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="5:5;6:4;7:3;8:2;9:1"/>
    </tapa.expect>
    
    #############Send data to UE 6 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="9" valdType="1"/>
    </tapa.expect>
    
    #############Send data to UE 7 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="9" valdType="1"/>
    </tapa.expect>

   #############Send data to UE 8 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="9" valdType="1"/>
    </tapa.expect>
    
   #############Send data to UE 9 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="9" valdType="1"/>
    </tapa.expect>

   #############Send data to UE 10 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="9" valdType="1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 0,1,2 3 and 4
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="5" qci="0:1:2:3:4"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="5" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:2;1:4;2:6;3:8;4:10"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 5,6,7,8, and 9
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="5" qci="5:6:7:8:9"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="5" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="5:10;6:8;7:6;8:4;9:2"/>
    </tapa.expect>
 
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.41
#
#       Desc:    To test the packet discard rate in DL per qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.41" altid="7.9"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 1 AM DRB.
          In this test case PDCP sends sdu discard request to RLC after RLC sends
          the data to MAC. RLC shall not send any discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
 
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Do not expect Discard sdu confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
    </tapa.expect>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.42
#
#       Desc:    To test the packet discard rate in DL per qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.42" altid="7.11"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 1 AM DRB.
          In this test case PDCP sends sdu discard request to RLC before RLC sends
          the data to MAC. RLC will send  discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>

    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Expect Discard sdu confirm
    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="0"/>
    </tapa.expset>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.43
#
#       Desc:    To test the packet discard rate in DL per qci
#                with 1 UE having 2 DRB and same qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.43" altid="7.15"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 2 UM DRB with same
          QCI for 2 DRB. In this test case PDCP sends sdu discard request to RLC before
          RLC sends the partial data to MAC. RLC will send discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="2:2"
            dir="2:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1:1"
            umUlSnLen="1:1"
            qci ="2:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="20" numQci="1" qci="2"/>
    </tapa.send>

    <tapa.repeat.start repeatCount="10"/>
   #Send data request from App to RLC for rbId=4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
    
   #Send data request from App to RLC for rbId=5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="5" rbType="1" 
          ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    #Expect Sdu discard confirm
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="0"/>
    </tapa.expect>
    
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="2" />
    </tapa.send>
    
    #Expect Sdu discard confirm
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="2"/>
    </tapa.expect>
    
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="1" />
    </tapa.send>
    
    #Expect Sdu discard confirm
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="5" ueId="1" cellId="1" rbType="1" sduId="1"/>
    </tapa.expect>
    
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="3" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Do not expect Discard sdu confirm
    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
       <tapa.kwu.discsducfm rbId="5" ueId="1" cellId="1" rbType="1" sduId="3"/>
    </tapa.expset>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.44
#
#       Desc:    To find the packet delay in DL per qci with multiple RB
#                in single UE.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.44" altid="7.17"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is informed to PDCP after RLC
         sends the data to MAC when 1 UE contains multiple RB(1 in AM and
         another in UM)."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="1000" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="5" rbType="1" 
          ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="5" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:4,0;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4(lcId 4)
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="0"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expset>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="5" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:5,0;"/>
    </tapa.send>

    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="2" measType="2"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="1"/>
    </tapa.expset>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.45
#
#       Desc:    To test the packet delay in DL per qci with multiple RB
#                in single UE.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.45" altid="7.36"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is informed to PDCP after RLC
         sends the data to MAC when 1 UE contains multiple RB(1 in AM and
         another in UM) where  SDU does not completely fit in to 1 PDU."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:4,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:4,1;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:4,2;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4(lcId 4)
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="0"/>
    </tapa.expect>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:4,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:4,4;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:1:4,5;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4(lcId 4)
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:5,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:1:5,1;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:5,2;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 5(lcId 5)
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="2"/>
    </tapa.expect>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:1:5,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="11:1:5,4;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="12:1:5,5;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 5(lcId 5)
    # Expect L2 Measurement confirm now.
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="3"/>
       <tapa.lkw.l2meascfm numCfm="2" measType="2" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
    </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.46
#
#       Desc:    To test the packet delay in DL per qci with multiple RB
#                in single UE.Here PDU contains multiple SDUs(2 sdus)
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.46" altid="7.39"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is informed to PDCP after RLC
         sends the data to MAC when 1 UE contains multiple RB(1 in AM and
         another in UM) where  PDU contains atleast 2 SDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 RBs in a UE one in AM and another one in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="200" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="200" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:4,0;"/>
    </tapa.send>
    
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="0"/>
    </tapa.expect>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:4,1;"/>
    </tapa.send>
   
    # Expect datAck indication at kwu for rbId 4(lcId 4)
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="1"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="2"/>
    </tapa.expset>
 
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="200" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="200" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:5,0;"/>
    </tapa.send>
    
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="3"/>
    </tapa.expect>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:5,1;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 5(lcId 5)
    # Expect L2 Measurement confirm now.
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="4"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="5"/>
       <tapa.lkw.l2meascfm numCfm="2" measType="2" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
    </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    1.47
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 1 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.47" altid="7.42"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 1 RB configured in AM,
          with QCI as 1. In this test case MAC schedules for every data request 
          from Application, and 1 SDU fits in to 1 PDU"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:500000;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.48
#
#       Desc:    To test UU loss rate in RLC with 2 UE and 1 RB in UM
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.48" altid="7.45"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 2 UE and 1 RB configured in UM,
          with QCI as 1 and 2. In this test case MAC schedules for every data request 
          from Application, and 1 SDU fits in to 1 PDU"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="100"
            qci ="1" 
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
   #Configure 1 RBs in a UE in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="2" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="100"
            qci ="2" 
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

    <tapa.repeat.start repeatCount="20"/>
    ###############Send data on UE 1 ################3
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    ###############Send data on UE 2 ################3
    <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="2" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    ###########Send Harq ind on UE 1 #############
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19;"/>
    </tapa.send>
    
    ###########Send Harq ind on UE 2 #############
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="21:2:4,0;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="22:2:4,1;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="23:2:4,2;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="24:2:4,3;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="25:2:4,4;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="26:2:4,5;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="27:2:4,6;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="28:2:4,7;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="29:2:4,8;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="30:2:4,9;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="31:2:4,10;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="32:2:4,11;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="33:2:4,12;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="34:2:4,13;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="35:2:4,14;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="36:2:4,15;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="37:2:4,16;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="38:2:4,17;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="39:2:4,18;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="40:2:4,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="2" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:500000;2:0:500000"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.49
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 2 RB with same qci
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.49" altid="7.49"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 2 RB configured in UM,
          with QCI as 1. In this test case MAC schedules in such away that 
          1 PDU contains atleast 2 SDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="2:2"
            dir="2:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1:1"
            umUlSnLen="1:1"
            umUlReOrdTmr="100:100"
            qci ="1:1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="110:110" numLch="2" lcId="4:5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0.5,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1.5,1;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2.5,2;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3.5,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4.5,4;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5.5,5;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6.5,6;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7.5,7;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8.5,8;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9.5,9;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10.5,10;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11.5,11;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12.5,12;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13.5,13;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14.5,14;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15.5,15;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16.5,16;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17.5,17;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18.5,18;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19.5,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:666666;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.50
#
#       Desc:    DL IP Throughput (Validation)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.50"  altid="7.18">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

# Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg.l2m1/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="1" qci="2" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
        cellId="1" ueId="1" measType="16" measData="2:0:0;"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>

   ####################END OF FIRST PART######################

   # Create UE(CRNTI=1) with 6 DRBs(Mode:Qci)(UM:0,UM:1,UM:2,UM:3,UM:4,UM:5)
   <tapa.ckw.amcfg.l2m2/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="6" qci="0:1:2:3:4:5" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="6"
         cellId="1" ueId="1" measType="16" measData="0:0:0;1:0:0;2:0:0;3:0:0;4:0:0;5:0:0;"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF SECOND PART######################

   # Create UE(crnti=1) with 3 DRBs(Mode:Qci)(UM:0,UM:1,UM:2)
   <tapa.ckw.umcfg.l2m3/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="3" qci="3:4:5" cellId="1" ueId="2"/>
   </tapa.send>

   # Put delay for 2 sec for the confirmation to be received
   # Delay value also depends on SS_TICKS value
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" numCfm="0" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_INVALID_UE" 
      cellId="1" ueId="2" measType="16"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF THIRD PART######################

   # Create UE(crnti=1) with 6 DRBs (Mode:Qci)(UM:0,UM:1,UM:2,AM:3,AM:4,AM:5)
   <tapa.ckw.amumcfg.l2m4/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="3" qci="0:1:2:3:4:5" cellId="1" ueId="2"/>
   </tapa.send>

   # Put delay for 2 sec for the confirmation to be received
   # Delay value also depends on SS_TICKS value
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" numCfm="0" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_INVALID_UE" 
      cellId="1" ueId="2" measType="16"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF FOURTH PART######################

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.51
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.51" altid="7.21">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 4 DRB(Mode:Qci:RbId)(AM:3:1, AM:4:2, AM:6:3, AM:7:4)
   <tapa.ckw.amcfg.l2m6/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3,4,7 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId= "1" valdType="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="2" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId= "2" valdType="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="4" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId= "4" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="3" qci="3:4:6" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 1050B for both LCHs
   #  with qci = 3 and qci = 4
   <tapa.send>
      <tapa.dummy.rgu.dstaind totBufSize="1050" lcId="1" ueId="1" cellId="1"
       numLch="1" transId="1" />
   </tapa.send> 

   <tapa.expect>
      <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
       valdType="1"/>
   </tapa.expect>

   <tapa.send>
      <tapa.dummy.rgu.dstaind totBufSize="1050" lcId="2" ueId="1" cellId="1"
       numLch="1" transId="1" />
   </tapa.send> 

   <tapa.expect>
      <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
       valdType="1"/>
   </tapa.expect>

   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="3"
       cellId="1" ueId="1" measType="16" measData="3:0:0;4:0:0;6:0:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    1.52
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.52" altid="7.23">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 3 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 3 times
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>

   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:200:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    1.53
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.53" altid="7.26">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when multiple allocations from MAC empties the RLC 
		 data buffer and there is few but not all HARQ Ack indication received."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=5s.
       6. Send DStaInd from MAC stub to RLC of PDU size = 105B for 10 times.
       7. Send HARQ Ack indication for TbId=1,2,3,4,5."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=5 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ status indication for TbId=1,2,3,4,5
   
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 4
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="4:1:1,3;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 5
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="5:1:1,4;"/>
   </tapa.send>
   
   # Put delay for 6 sec the confirmation to be received
   <tapa.delay delay="60"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    1.54
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.54" altid="7.30">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when multiple allocations from MAC empties the RLC data 
		 buffer and all HARQ Ack indications are received after the corresponding DStaInd."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 3 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=5s.
       6. Send 1 DStaInd from MAC stub to RLC of PDU size = 106B.
       7. Send HARQ Ack indication for TbId=0.
       8. Send 1 DStaInd from MAC stub to RLC of PDU size = 106B.
       9. Send HARQ Ack indication for TbId=1.
       10. Send 1 DStaInd from MAC stub to RLC of PDU size = 200B(It empties the buffer).
       11. Send HARQ Ack indication for TbId=2."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 3 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=1 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="1000" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 200B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="200" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>
   
   # Put delay for 10 sec the confirmation to be received
   <tapa.delay delay="100"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:200:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    1.55
#
#       Desc:    UL IP Throughput (Validation)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.55" altid="7.33">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 6 DRBs(CRNTI=1) (Mode:Qci)(UM:0,UM:1,UM:2)
   <tapa.ckw.umcfg.l2m3/>
	
   # Send UL IP Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="32" 
       numQci="3" qci="3:4:5" cellId="1" ueId="2"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_UE" 
	  cellId="1" ueId="2" numCfm="0" measType="32"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF FIRST PART######################

   # Create UE with 6 DRBs(CRNTI=1) (Mode:Qci)(UM:0,UM:1,UM:2,AM:3,AM:4,AM:5)
   <tapa.ckw.amumcfg.l2m4/>

   # Send UL IP Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="100" measType="32"
       numQci="6" qci="0:1:2:3:4:5" cellId="1" ueId="2"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_INVALID_UE" 
	  cellId="1" ueId="2" numCfm="0" measType="32"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF SECOND PART######################

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    1.56
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.56" altid="7.35">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>
	
   # Send UL IP Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="32" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from MAC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
	  numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:0;"/>
   </tapa.expect>

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    1.57
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.57" altid="7.50">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 4 DRB(CRNTI=1) (Mode:Qci)(AM:3,AM:5,UM:4,UM:6)
   <tapa.ckw.amcfg.l2m7/>
	
   # Send UL IP measurement request for CRNTI=1, List of QCI=3,4,5,6 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32" 
       numQci="4" qci="3:4:5:6" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="4" lcIds="1,3,2,4"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="4" lcIds="1,3,2,4"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
       numCfm="4" cellId="1" ueId="1" measType="32" measData="3:0:0;4:0:0;5:0:0;6:0:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>




#
#       Test:    1.58
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="1.58" altid="7.54">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          4th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20ms.
          5th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          6th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          7th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 10ms."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>
	
   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Send DDatInd from MAC stub to RLC
   # 1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 4th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 20ms
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 5th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 6th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 7th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 10ms
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:10:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
       numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:20;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.59
#
#       Desc:    Verification of Multi-Cell Configuration
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp1.xml
#
#
<tapa.testcase id="1.59">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="um"/>

      <tapa.desc>
         "Verification of BO"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration
         2.RLC entity Configuration for 2 cells
         4.Tx PDCP sends DatReq() with size (configured value) to Tx RLC
         5.Tx RLC sends StaRes()
         6.MAC sends StaInd() to Tx RLC
         7.Tx RLC sends DatReq() to MAC
         8.MAC sends DatInd() to Rx RLC
         9.Rx RLC sends DatInd() to Rx PDCP"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection

    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.kw.umcfg/>
       <tapa.kw.umcfg.cell2/>
    </tapa.cfg>
   # Test Steps subsection
   <tapa.test>
      # PDCP sends data request with SDU size 300
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="300" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #MAC expects the Status Response from RLC
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="300" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      # MAC notifies BO with size as 304
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="305" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
      </tapa.send>

      #MAC expects data request from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="0:0:0:1:1:302:
                        0:0:1:0:0"/>
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="2" transId="1"
               lchData="1:1:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      #RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" 
               cellId="1" ueId="2" rbId="1" rbType="1"/>
      </tapa.expect>



	  # PDCP sends data request with SDU size 300
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="300" rbId="1"
            rbType="1" ueId="3" cellId="2"/>
      </tapa.send>

      #MAC expects the Status Response from RLC
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="2" ueId="3" lcId="1" 
               bo="300" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      # MAC notifies BO with size as 304
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="305" lcId="1" ueId="3" cellId="2" 
               numLch="1" transId="1" />
      </tapa.send>

      #MAC expects data request from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="3" cellId="2" transId="1"
               lchData="0:0:0:1:1:302:
                        0:0:1:0:0"/>
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="2"  ueId="4" transId="1"
               lchData="1:1:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      #RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" 
               cellId="2" ueId="4" rbId="1" rbType="1"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#
#       Test:    1.60
#
#       Desc:    Verification of Multi-Cell Configuration
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp1.xml
#
#
<tapa.testcase id="1.60">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="um"/>

      <tapa.desc>
         "Verification of BO"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration
         2.RLC entity Configuration for 2 cells
         4.Tx PDCP sends DatReq() with size (configured value) to Tx RLC
         5.Tx RLC sends StaRes()
         6.MAC sends StaInd() to Tx RLC
         7.Tx RLC sends DatReq() to MAC
         8.MAC sends DatInd() to Rx RLC
         9.Rx RLC sends DatInd() to Rx PDCP"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection

    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.kw.umcfg.crossCell/>
    </tapa.cfg>
   # Test Steps subsection
   <tapa.test>
      # PDCP sends data request with SDU size 300
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduId="1" sduSize="300" rbId="1"
            rbType="1" ueId="1" cellId="1"/>
      </tapa.send>

      #MAC expects the Status Response from RLC
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="300" estHdrSz="3" staPduPrsnt="0"/>
      </tapa.expect>

      # MAC notifies BO with size as 304
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="305" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
      </tapa.send>

      #MAC expects data request from RLC
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq numLch="1" ueId="1" cellId="1" transId="1"
               lchData="0:0:0:1:1:302:
                        0:0:1:0:0"/>
      </tapa.expect>

      #MAC indicates Data Indication to Peer RLC
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" cellId="2"  ueId="2" transId="1"
               lchData="1:1:0,0:0,0:0,0:0,0"/>
      </tapa.send>

      #RLC Indicates Data Indication to Peer PDCP
      <tapa.expect>
         <tapa.kwu.datind entity="ENTPJ" 
               cellId="2" ueId="2" rbId="1" rbType="1"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    1.61
#
#       Desc:    Verification of Multi-Cell Configuration and data for SRB
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp1.xml
#
#
<tapa.testcase id="1.61">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="um"/>

      <tapa.desc>
         "Verification of BO"
      </tapa.desc>

      <tapa.longdesc>
        "Acceptance test case No:1
         1.Configure RLC . With general configuration , sap configuration
         2.RLC entity Configuration for 2 cells
         4.Tx PDCP sends DatReq() with size (configured value) to Tx RLC
         5.Tx RLC sends StaRes()
         6.MAC sends StaInd() to Tx RLC
         7.Tx RLC sends DatReq() to MAC
         8.MAC sends DatInd() to Rx RLC
         9.Rx RLC sends DatInd() to Rx PDCP"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection

    <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfgSrb/>
    </tapa.cfg>
   # Test Steps subsection
   <tapa.test>
		<tapa.send>
            <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="0" ueId="1" cellId="1" 
               sduId="1" sduSize="300"/>
         </tapa.send>
         #Expect Status Response for the received SDU
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" 
               bo="300" estHdrSz="2" staPduPrsnt="0"/>
         </tapa.expect>

         ########################################################################################
         #Expect the first SDU with size 302
         <tapa.send>
            <tapa.dummy.rgu.dstaind totBufSize="305" lcId="1" ueId="1" cellId="1" 
               numLch="1" transId="1" />
         </tapa.send>
        <tapa.expect>
            <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
               lchData="0:0:0:1:1:302:
                        -1:-1:1:1:-1"  />
         </tapa.expect>
         ########################################################################################
         #Send the PDU in uplink for lcId 1 in ue 2
         <tapa.send>
            <tapa.dummy.rgu.ddatind numLch="1" cellId="2"  ueId="2" transId="1"
               lchData="1:1:0:0:0:0"/>
         </tapa.send>
         #Expect a Data Indication to KWU in ue 2
         <tapa.expect>
            <tapa.kwu.datind  entity="ENTPJ" sduSize="300" 
               cellId="2" ueId="2" rbId="1" rbType="0" />
         </tapa.expect>
         #Expect a starsp for logical channel 1 in ue 2 for the control PDU
         #since we have a trigger for status report as duplicate pdu is received
         <tapa.expect>
            <tapa.dummy.rgu.dstarsp cellId="2" ueId="2" lcId="1" 
               bo="2" estHdrSz="0"  staPduPrsnt="1"/>
         </tapa.expect>
         ########################################################################################
         #Send a datind for logical channel 1 in ue 2 for the status pdu
         <tapa.send>
            <tapa.dummy.rgu.dstaind lcId="1" ueId="2" cellId="2" numLch="1" 
               totBufSize="5" transId="2" />
         </tapa.send>
         #Expect a data request for logical channel 1 in ue 2
         <tapa.expect>
            <tapa.dummy.rgu.ddatreq  numLch="1"  cellId="2" ueId="2" transId="2"
               lchData="0:0:1:1:1:2:
                        -1:-1:-1:0:-1" />
         </tapa.expect>
         #Send a data indication of the Status PDU for the PDU sent to 2nd AM entity
         <tapa.send>
            <tapa.dummy.rgu.ddatind numLch="1" cellId="1"  ueId="1" transId="2"
               lchData="1:1:0:0:0:0" />
         </tapa.send>
         #Expect a Status Indication to PDCP about reception of the SDU at the peer entity
         <tapa.expect>
            <tapa.kwu.datcfm entity="ENTPJ" ueId="1" cellId="1"
               rbId="1" rbType="0" numSduIds="1" sduId="0"/>
         </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************30**
#
#         End of file:     $SID$
#
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#/main/1         ---     gk  1. Initial Release.
#$SID$           ---     gk  1. LTERLC Release 2.1.
#/main/2      kw002.201  vp  1. Patch for optimization,fixes for multi-region
#                                 and retransmission.
#/main/5      kw003.201 vp  1. Fixes for re-segmentation, segement offset
#                               value and optimization 
#/main/6      kw005.201 ap  1. Added test cases for R9 upgrade and LM statistics.
                        rd  1. Changed delay to "3" for TC 24,25,26,30 since
                               wait calculation has been changed.
#*********************************************************************91*/
