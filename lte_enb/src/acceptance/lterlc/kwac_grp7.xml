#
#/********************************************************************20**
#
#     Name:    RLC 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Cases
#
#     File:    kwac_grp1.xml
#
#     Sid:      $SID$
#
#     Prg:     Group 7 Test Cases  
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=1:1:Group 1 Test Cases :kwac_grp1.xml

#
#
#       Test:    7.1
#
#       Desc:    RLC L2 Measurement validation 
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.1"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Validating  L2 Measurement request message"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    # Send Measurement request from LM to RLC as measType as 100
    <tapa.send>
         <tapa.lkw.l2measreq measType="100"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="100"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE"
          measData="0:0;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numSamples as 0
    <tapa.send>
         <tapa.lkw.l2measreq measType="1" numSamples="0" numQci="1" qci="1"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_ZERO_NUMSAM"
          measData="0:0;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numSamples as not multiple
    # of measPeriod
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="3" measPeriod="10"
          numQci="1" qci="1"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="1" 
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_NUMSAM"
          measData="0:0;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numQci as 100
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2" 
          measPeriod="10" numQci="100"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="1" 
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_NUMQCI"
          measData="0:0;"/>
    </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 0
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2" 
          measPeriod="10" numQci="0"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_NUMQCI"
          measData="0:0;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC as measType as 0
    <tapa.send>
         <tapa.lkw.l2measreq measType="0"/>
    </tapa.send>
   
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" measType="0"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE"
          measData="0:0;"/>
    </tapa.expect>

    # Send Measurement request from LM to RLC with numQci as 1 qnd qci as 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="3"/>
    </tapa.send>
    
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI"
          measType="1" measData="3:0;"/>
    </tapa.expect>
    # Configure 1 UE with 10 RB
    #Send configuration request to configure 1 UE
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="10"
            cfgType="1:1:1:1:1:1:1:1:1:1"
            rbId="4:5:6:7:8:9:10:11:12:13"
            rbType="1:1:1:1:1:1:1:1:1:1"
            entMode="3:3:3:3:3:3:3:3:3:3"
            dir="3:3:3:3:3:3:3:3:3:3"
            logChId0Id="4:5:6:7:8:9:10:11:12:13"
            logChId0Type="4:4:4:4:4:4:4:4:4:4"
            logChId1Id="4:5:6:7:8:9:10:11:12:13"
            logChId1Type="4:4:4:4:4:4:4:4:4:4"
            amDlPollRetxTmr="200:200:200:200:200:200:200:200:200:200"
            amDlPollPdu="10:10:10:10:10:10:10:10:10:10"
            amDlPollByte="2500:2500:2500:2500:2500:2500:2500:2500:2500:2500"
            amDlMaxRetx="7:7:7:7:7:7:7:7:7:7"
            amUlStaProhTmr="300:300:300:300:300:300:300:300:300:300"
            amUlReOrdTmr="300:300:300:300:300:300:300:300:300:300"
            qci ="0:1:2:3:4:5:6:7:8:9"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="10" 
            rbId="4:5:6:7:8:9:10:11:12:13"
            rbType="1:1:1:1:1:1:1:1:1:1"
            status="1:1:1:1:1:1:1:1:1:1"
         />
   </tapa.expect>

    # Send Measurement request from LM to RLC with measType as active UE
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="2"/>
    </tapa.send>
    
    # Send Measurement request from LM to RLC with measType as Active UE again
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="2"/>
    </tapa.send>
    
    # Expect negative confirmation from RLC
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_MEAS_ALREADY_ENA"
         measType="4"  measData="2:0;"/>
   </tapa.expect>

   #Wait for previous meas to expire
   <tapa.delay delay="10"/>

   <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="2:0;"/>
   </tapa.expect>
   #Send 10 measrequest for diff qci
    # Send Measurement request from LM to RLC with measType as active UE
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="0"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="1"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="2"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="3"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="4"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="5"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="6"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="7"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="8"/>
    </tapa.send>
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="100"
          numQci="1" qci="9"/>
    </tapa.send>

    #Send measReq again with measType as 1 
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2" 
          measPeriod="10" numQci="1" qci="5"/>
    </tapa.send>
    # Expect negative confirmation from RLC(Exceeded maximum number of meas)
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="0" status="LCM_PRIM_NOK" reason="LKW_CAUSE_EXCEED_NUMMEAS"
          measType="1" />
   </tapa.expect>

   #Expect measCfm for all 10 measReq
   <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="0:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="1:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="2:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="3:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="4:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="5:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="6:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="7:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="8:0;"/>
       <tapa.lkw.l2meascfm numCfm="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
         measType="4"  measData="9:0;"/>
   </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.2
#
#       Desc:    Find the number of active ue 
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.2"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE when there is a data in RB"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>

    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numQci as 1 qnd qci as 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>
    
    # Wait for Measurement confirm to come 
    <tapa.delay delay="2"/>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2:1;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.3
#
#       Desc:    Find the number of active ue when RB is inactive
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.3"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE when RB is inactive"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
    
    # Send Measurement request from LM to RLC with numQci as 1 qnd qci as 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>
    
    # Wait for Measurement confirm to come 
    <tapa.delay delay="2"/>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2:0;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.4
#
#       Desc:    Find the number of active ue with multiple qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.4"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE with mutliple qci configured
         in same UE"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="0:1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="5" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numQci as 1 qnd qci as 0
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="0"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:1;"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC with numQci as 1 qnd qci as 0
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="2" qci="0:1"/>
    </tapa.send>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect Data request at RGU for lcId 4
    # Expect L2 Measurement confirm
    # Expect rguStaRsp after pollRetxTmrExp 
    <tapa.expset>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
       <tapa.lkw.l2meascfm numCfm="2" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:0;1:0;"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expset>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.5
#
#       Desc:    Find the number of active ue with multiple qci
#                when there are more than 1 UE.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.5"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE with mutliple qci configured
         in same UE and when there are more than 1 UE."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:4:5"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="2" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:6:7"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="5" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="6" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
   
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="7" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="7" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="8" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="8" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="9" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="9" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="5" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="6" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
   
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="7" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="7" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="8" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="8" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="9" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="9" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>

    # Send Measurement request from LM to RLC for qci 0,1,2 and 6
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="4" qci="0:1:2:6"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="4" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:2;1:2;2:2;6:1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="8" qci="0:1:2:3:4:5:6:7"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="8" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:2;1:2;2:2;3:2;4:1;5:1;6:1;7:1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="8" qci="0:1:2:3:4:5:6:7"/>
    </tapa.send>

    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 6
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 6
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 7
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="7" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 7
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 8
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="8" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 8
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 9
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="9" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 9
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Expect L2 Measurement confirm
    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="8" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:1;1:1;2:1;3:1;4:0;5:0;6:1;7:1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
    </tapa.expset>

 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.6
#
#       Desc:    Find the number of active ue with multiple qci
#                when there are more than 1 UE.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.6"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE with mutliple qci configured
         in same UE and when there are more than 1 UE. Here measReq comes
         before DataRequest from PDCP"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:4:5"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="2" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:6:7"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
    # Send Measurement request from LM to RLC for qci 0,1,2 and 6
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="4" qci="0:1:2:6"/>
    </tapa.send>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="5" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="100" lcId="6" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
   
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="7" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="7" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="8" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="8" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="9" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="9" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="4" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="5" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="100" lcId="6" estHdrSz="2" staPduPrsnt="0"/>
    </tapa.expect>
   
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="7" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="7" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="8" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="8" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="9" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" bo="200" lcId="9" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
   
    # Send StaInd from dummy MAC to RLC for LcId 4 ueId 1
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 ueId 1
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 ueId 2
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="2" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 ueId 2
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    #Send StaInd from dummy MAC to RLC for LcId 5 ueId 1
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5 ueId 1
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5 ueId 2
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="2" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 ueId 2
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    #Send StaInd from dummy MAC to RLC for LcId 6 ueId 1
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 6 ueId 1
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 6 ueId 2
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="6" ueId="2" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 ueId 2
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 8 ueId 2
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="8" ueId="2" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 ueId 2
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Expect L2 Measurement confirm
    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="4" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:0;1:0;2:0;6:0"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="5" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="6" valdType="1"/>
    </tapa.expset>
  
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.7
#
#       Desc:    Find the number of active ue with multiple qci
#                when there are 10 UEs
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.7"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE with mutliple qci configured
         in same UE and when there are 10 UE"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure UE 1 with 6 RBs ueId 1
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:4:5"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 2 with 6 Rbs ueId 2
      <tapa.send>
         <tapa.ckw.cfgreq ueId="2" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="1:2:3:4:5:6"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 3 with 6 Rbs ueId 3
      <tapa.send>
         <tapa.ckw.cfgreq ueId="3" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="2:3:4:5:6:7"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 4 with 6 Rbs ueId 4
      <tapa.send>
         <tapa.ckw.cfgreq ueId="4" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="3:4:5:6:7:8"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 5 with 6 Rbs ueId 5
      <tapa.send>
         <tapa.ckw.cfgreq ueId="5" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="4:5:6:7:8:9"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 6 with 6 Rbs ueId 6
      <tapa.send>
         <tapa.ckw.cfgreq ueId="6" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="0:1:2:3:4:5"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 7 with 6 Rbs ueId 7
      <tapa.send>
         <tapa.ckw.cfgreq ueId="7" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="1:2:3:4:5:6"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 8 with 6 Rbs ueId 8
      <tapa.send>
         <tapa.ckw.cfgreq ueId="8" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="2:3:4:5:6:7"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 9 with 6 Rbs ueId 9
      <tapa.send>
         <tapa.ckw.cfgreq ueId="9" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="3:4:5:6:7:8"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   
   #Configure Ue 10 with 6 Rbs ueId 10
      <tapa.send>
         <tapa.ckw.cfgreq ueId="10" cellId="1" numEnt="6"
            cfgType="1:1:1:1:1:1"
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            entMode="3:3:3:2:2:2"
            dir="3:3:3:2:2:2"
            logChId0Id="4:5:6:7:8:9"
            logChId0Type="4:4:4:4:4:4"
            logChId1Id="4:4:4:0:0:0"
            logChId1Type="4:0"
            umDlSnLen="1:1:1"
            umUlSnLen="1:1:1"
            umUlReOrdTmr="2:2:2"
            amDlPollRetxTmr="200:200:200"
            amDlPollPdu="10:10:10"
            amDlPollByte="2500:2500:2500"
            amDlMaxRetx="7:7:7"
            amUlStaProhTmr="300:300:300"
            amUlReOrdTmr="300:300:300"
            qci ="4:5:6:7:8:9"
            />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="6" 
            rbId="4:5:6:7:8:9"
            rbType="1:1:1:1:1:1"
            status="1:1:1:1:1:1"
         />
   </tapa.expect>
   <!--
    -->
   #############Send data to UE 1 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="9" valdType="1"/>
    </tapa.expect>
    
    #############Send data to UE 2 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="9" valdType="1"/>
    </tapa.expect>

   #############Send data to UE 3 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="3" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="3" lcId="9" valdType="1"/>
    </tapa.expect>
    
   #############Send data to UE 4 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="4" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="4" lcId="9" valdType="1"/>
    </tapa.expect>

   #############Send data to UE 5 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="5" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="5" lcId="9" valdType="1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 0,1,2 3 and 4
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="5" qci="0:1:2:3:4"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="5" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:1;1:2;2:3;3:4;4:5"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 5,6,7,8, and 9
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="5" qci="5:6:7:8:9"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="5" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="5:5;6:4;7:3;8:2;9:1"/>
    </tapa.expect>
    
    #############Send data to UE 6 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="6" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="6" lcId="9" valdType="1"/>
    </tapa.expect>
    
    #############Send data to UE 7 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="7" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="7" lcId="9" valdType="1"/>
    </tapa.expect>

   #############Send data to UE 8 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="8" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="8" lcId="9" valdType="1"/>
    </tapa.expect>
    
   #############Send data to UE 9 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="9" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="9" lcId="9" valdType="1"/>
    </tapa.expect>

   #############Send data to UE 10 for all 6 RB
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="5" valdType="1"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="6" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="7" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="7" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="8" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="8" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="9" rbType="1" ueId="10" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="10" lcId="9" valdType="1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 0,1,2 3 and 4
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="5" qci="0:1:2:3:4"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="5" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="0:2;1:4;2:6;3:8;4:10"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 5,6,7,8, and 9
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="5" qci="5:6:7:8:9"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="5" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="5:10;6:8;7:6;8:4;9:2"/>
    </tapa.expect>
 
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.8
#
#       Desc:    Find the number of active ue with multiple qci
#                when there is 1 ue, also sending multiple measReq 
#                when measReq is ongoing for invalid qci. 
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.8"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Measures the number of active UE with mutliple qci configured
         in 1 UE also sending multiple measurement request when previous 
         measurement is ongoing."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:3"
            dir="3:3"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:4"
            logChId1Type="4"
            amDlPollRetxTmr="200:200"
            amDlPollPdu="10:10"
            amDlPollByte="2500:2500"
            amDlMaxRetx="7:7"
            amUlStaProhTmr="300:300"
            amUlReOrdTmr="300:300"
            qci ="2:5"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 11
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="11"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI"
          measData="11:0"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 3
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="3"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI"
          measData="3:0"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2:1"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 11, 2 and 5
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="3" qci="11:2:5"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI"
          measData="11:0"/>
    </tapa.expect>

    # Send Measurement request from LM to RLC for qci 2, 11 and 5
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="3" qci="2:11:5"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI"
          measData="11:0"/>
    </tapa.expect>

    # Send Measurement request from LM to RLC for qci 2, 5 and 11
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="3" qci="2:5:11"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="1"
          status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI"
          measData="11:0"/>
    </tapa.expect>
    
    # Send Measurement request from LM to RLC for qci 2 and 5
    <tapa.send>
       <tapa.lkw.l2measreq measType="1" numSamples="2"
          measPeriod="10" numQci="2" qci="2:5"/>
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="2" measType="1"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2:1;5:1"/>
    </tapa.expect>
 
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.9
#
#       Desc:    To test the packet discard rate in DL per qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.9"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 1 AM DRB.
          In this test case PDCP sends sdu discard request to RLC after RLC sends
          the data to MAC. RLC shall not send any discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
 
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Do not expect Discard sdu confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
    </tapa.expect>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.10
#
#       Desc:    To test the packet discard rate in DL per qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.10"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 1 UM DRB.
          In this test case PDCP sends sdu discard request to RLC after RLC sends
          the data to MAC. RLC shall not send any discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
 
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Do not expect Discard sdu confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
    </tapa.expect>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.11
#
#       Desc:    To test the packet discard rate in DL per qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.11"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 1 AM DRB.
          In this test case PDCP sends sdu discard request to RLC before RLC sends
          the data to MAC. RLC will send  discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>

    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Expect Discard sdu confirm
    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="0"/>
    </tapa.expset>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.12
#
#       Desc:    To test the packet discard rate in DL per qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.12"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 1 UM DRB.
          In this test case PDCP sends sdu discard request to RLC before RLC sends
          the data to MAC. RLC will send discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
 
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Do not expect Discard sdu confirm
    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="0"/>
    </tapa.expset>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.13
#
#       Desc:    To test the packet discard rate in DL per qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.13"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 1 AM DRB.
          In this test case PDCP sends sdu discard request to RLC after RLC sends
          the partial data to MAC. RLC shall not send any discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
 
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Do not expect Discard sdu confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
    </tapa.expect>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.14
#
#       Desc:    To test the packet discard rate in DL per qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.14"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 1 UM DRB.
          In this test case PDCP sends sdu discard request to RLC after RLC sends
          the partial data to MAC. RLC shall not send any discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" numQci="1" qci="2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
 
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Do not expect Discard sdu confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
    </tapa.expect>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.15
#
#       Desc:    To test the packet discard rate in DL per qci
#                with 1 UE having 2 DRB and same qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.15"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE and 2 UM DRB with same
          QCI for 2 DRB. In this test case PDCP sends sdu discard request to RLC before
          RLC sends the partial data to MAC. RLC will send discard confirm back to PDCP after
          receiving the sdu discard request."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="2:2"
            dir="2:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1:1"
            umUlSnLen="1:1"
            qci ="2:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for qci 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="20" numQci="1" qci="2"/>
    </tapa.send>

    <tapa.repeat.start repeatCount="10"/>
   #Send data request from App to RLC for rbId=4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="4" rbType="1" 
          ueId="1" cellId="1" sduId="0"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
    
   #Send data request from App to RLC for rbId=5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="5" rbType="1" 
          ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    #Expect Sdu discard confirm
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="0"/>
    </tapa.expect>
    
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="2" />
    </tapa.send>
    
    #Expect Sdu discard confirm
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="2"/>
    </tapa.expect>
    
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="1" />
    </tapa.send>
    
    #Expect Sdu discard confirm
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="5" ueId="1" cellId="1" rbType="1" sduId="1"/>
    </tapa.expect>
    
    # Send Sdu discard request to discard the sdu reviuosly sent
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="3" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    # Do not expect Discard sdu confirm
    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="1" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2"/>
       <tapa.kwu.discsducfm rbId="5" ueId="1" cellId="1" rbType="1" sduId="3"/>
    </tapa.expset>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.16
#
#       Desc:    To test the packet discard rate in DL per qci
#                with 1 UE having 2 DRB with different qci
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.16"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To test the packet discard rate in DL per qci with 1 UE
          and 2 UM DRB with diff QCI."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 Drbs in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="4"
            cfgType="1:1:1:1"
            rbId="4:5:6:7"
            rbType="1:1:1:1"
            entMode="3:3:3:3"
            dir="3:3:3:3"
            logChId0Id="4:5:6:7"
            logChId0Type="4:4:4:4"
            logChId1Id="4:4:4:4"
            logChId1Type="4"
            amDlPollRetxTmr="200:200:200:200"
            amDlPollPdu="10:10:10:10"
            amDlPollByte="2500:2500:2500:2500"
            amDlMaxRetx="7:7:7:7"
            amUlStaProhTmr="300:300:300:300"
            amUlReOrdTmr="300:300:300:300"
            qci ="2:4:5:9"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="4" 
            rbId="4:5:6:7"
            rbType="1:1:1:1"
            status="1:1:1:1"
         />
   </tapa.expect>
   
   # Send Measurement request from LM to RLC for qci 2,4,5 and 9
    <tapa.send>
       <tapa.lkw.l2measreq measType="4" measPeriod="10" 
          numQci="4" qci="2:4:5:9"/>
    </tapa.send>

   ###############Send 5 dataReq on rbId 4
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>

   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="4"/>
    </tapa.expect>

    ###############Send 10 dataReq on rbId 5
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>

   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>

   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="50" rbId="5" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="5"/>
    </tapa.expect>
    
    ###############Send 3 dataReq on rbId 6
    #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="6"/>
    </tapa.expect>
    
   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="6"/>
    </tapa.expect>

   #Send data request from App to RLC 
    <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="6" rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" valdType="1" lcId="6"/>
    </tapa.expect>

    <tapa.repeat.start repeatCount="5"/>
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="40" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    # Send sdu discard request on lcId 4, 5 times.i,e for 5 SDUs
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="0" />
    </tapa.send>
    
    # do not expect sduDiscCfm for this SDU, since the sdu is allready transmitted

    #Send sdu discard request for sduId 1
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="1" />
    </tapa.send>
    
    # do not expect sduDiscCfm for this SDU, since the sdu is allready transmitted
    
    #Send sdu discard request for sduId 2
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="2" />
    </tapa.send>
   
    #Expect sdu discard confirm for this sdu
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="2"/>
    </tapa.expect>

    #Send sdu discard request for sduId 3
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="3" />
    </tapa.send>
   
    #Expect sdu discard confirm for this sdu
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="3"/>
    </tapa.expect>

    #Send sdu discard request for sduId 4
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="4" rbType="1" sduId="4" />
    </tapa.send>
    
    #Expect sdu discard confirm for this sdu
    <tapa.expect>
       <tapa.kwu.discsducfm rbId="4" ueId="1" cellId="1" rbType="1" sduId="4"/>
    </tapa.expect>

    <tapa.repeat.start repeatCount="10"/>
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="40" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    # Send 10 sdu discard request, but we should get 2 sduCfm
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="5" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="6" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="7" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="8" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="9" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="10" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="11" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="12" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="13" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="5" rbType="1" sduId="14" />
    </tapa.send>

    #Expect sdu discard confirm for  last 3 sdu(sduId 12, 13,14)
    <tapa.expset>
       <tapa.kwu.discsducfm rbId="5" ueId="1" cellId="1" rbType="1" sduId="12"/>
       <tapa.kwu.discsducfm rbId="5" ueId="1" cellId="1" rbType="1" sduId="13"/>
       <tapa.kwu.discsducfm rbId="5" ueId="1" cellId="1" rbType="1" sduId="14"/>
    </tapa.expset>

    <tapa.repeat.start repeatCount="3"/>
    # Send StaInd from dummy MAC to RLC for LcId 6
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="100" lcId="6" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 6
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    #Send sdu discard request 3 times, and do not expect sduDiscCfm
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="6" rbType="1" sduId="15" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="6" rbType="1" sduId="16" />
    </tapa.send>
    <tapa.send>
       <tapa.kwu.discsdu ueId="1" cellId="1" rbId="6" rbType="1" sduId="17" />
    </tapa.send>
    
    # Expect L2 Measurement confirm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="4" measType="4"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2:0:0;4:0:0;5:0:0;9:0:0"/>
    </tapa.expect>
 
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.17
#
#       Desc:    To find the packet delay in DL per qci with multiple RB
#                in single UE.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.17"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is informed to PDCP after RLC
         sends the data to MAC when 1 UE contains multiple RB(1 in AM and
         another in UM)."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="1000" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC 
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="5" rbType="1" 
          ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" bo="200" lcId="5" estHdrSz="3" staPduPrsnt="0"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="215" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="4" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:4,0;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4(lcId 4)
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="0"/>
       <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expset>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind lcId="5" ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:5,0;"/>
    </tapa.send>

    <tapa.expset>
       <tapa.lkw.l2meascfm numCfm="2" measType="2"
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="1"/>
    </tapa.expset>
    
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.18
#
#       Desc:    DL IP Throughput (Validation)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.18">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

# Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg.l2m1/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="1" qci="2" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
        cellId="1" ueId="1" measType="16" measData="2:0:0;"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>

   ####################END OF FIRST PART######################

   # Create UE(CRNTI=1) with 6 DRBs(Mode:Qci)(UM:0,UM:1,UM:2,UM:3,UM:4,UM:5)
   <tapa.ckw.amcfg.l2m2/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="6" qci="0:1:2:3:4:5" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="6"
         cellId="1" ueId="1" measType="16" measData="0:0:0;1:0:0;2:0:0;3:0:0;4:0:0;5:0:0;"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF SECOND PART######################

   # Create UE(crnti=1) with 3 DRBs(Mode:Qci)(UM:0,UM:1,UM:2)
   <tapa.ckw.umcfg.l2m3/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="3" qci="3:4:5" cellId="1" ueId="2"/>
   </tapa.send>

   # Put delay for 2 sec for the confirmation to be received
   # Delay value also depends on SS_TICKS value
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" numCfm="0" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_INVALID_UE" 
      cellId="1" ueId="2" measType="16"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF THIRD PART######################

   # Create UE(crnti=1) with 6 DRBs (Mode:Qci)(UM:0,UM:1,UM:2,AM:3,AM:4,AM:5)
   <tapa.ckw.amumcfg.l2m4/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="3" qci="0:1:2:3:4:5" cellId="1" ueId="2"/>
   </tapa.send>

   # Put delay for 2 sec for the confirmation to be received
   # Delay value also depends on SS_TICKS value
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" numCfm="0" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_INVALID_UE" 
      cellId="1" ueId="2" measType="16"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF FOURTH PART######################

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>





#
#       Test:    7.19
#
#       Desc:    DL IP Throughput (Validation)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.19">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE with 2 DRBs(Mode:Qci)(AM:1,AM:2)
   <tapa.ckw.amcfg.l2m8/>
 
   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16" 
       numQci="2" qci="2:3" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI" numCfm="1"
      cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF FIRST PART######################

   # Create UE with 3 DRBs(Mode:Qci)(AM:6,AM:8,AM:9)
   <tapa.ckw.amcfg.l2m9/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="3" qci="6:9:3" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI" numCfm="1"
      cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF SECOND PART######################

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.20
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.20">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>
   
   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 1050B
   <tapa.send>
      <tapa.dummy.rgu.dstaind totBufSize="1050" lcId="1" ueId="1" cellId="1"
       numLch="1" transId="1"/>
   </tapa.send> 

   <tapa.expect>
      <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
       valdType="1"/>
   </tapa.expect>

   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    7.21
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.21">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 4 DRB(Mode:Qci:RbId)(AM:3:1, AM:4:2, AM:6:3, AM:7:4)
   <tapa.ckw.amcfg.l2m6/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3,4,7 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId= "1" valdType="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="2" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId= "2" valdType="1"/>
      </tapa.expect>

      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="4" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId= "4" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="3" qci="3:4:6" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 1050B for both LCHs
   #  with qci = 3 and qci = 4
   <tapa.send>
      <tapa.dummy.rgu.dstaind totBufSize="1050" lcId="1" ueId="1" cellId="1"
       numLch="1" transId="1" />
   </tapa.send> 

   <tapa.expect>
      <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
       valdType="1"/>
   </tapa.expect>

   <tapa.send>
      <tapa.dummy.rgu.dstaind totBufSize="1050" lcId="2" ueId="1" cellId="1"
       numLch="1" transId="1" />
   </tapa.send> 

   <tapa.expect>
      <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
       valdType="1"/>
   </tapa.expect>

   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="3"
       cellId="1" ueId="1" measType="16" measData="3:0:0;4:0:0;6:0:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.22
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.22">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 1050B
   <tapa.send>
      <tapa.dummy.rgu.dstaind totBufSize="509" lcId="1" ueId="1" cellId="1"
       numLch="1" transId="1" />
   </tapa.send> 

   <tapa.expect>
      <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
       valdType="1"/>
   </tapa.expect>

   <tapa.send>
      <tapa.dummy.rgu.dstaind totBufSize="550" lcId="1" ueId="1" cellId="1"
       numLch="1" transId="1" />
   </tapa.send> 

   <tapa.expect>
      <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
       valdType="1"/>
   </tapa.expect>

   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.23
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.23">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 3 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 3 times
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>

   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:200:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.24
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.24">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 15 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="15"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 2 times
   <tapa.repeat.start repeatCount="2"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>
   
   # Send Measurement request from LM to RLC with T=10 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="100" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 13 times
   <tapa.repeat.start repeatCount="13"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1 to TbId = 15 in sequential order

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 4
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="4:1:1,3;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 5
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="5:1:1,4;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 6
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="6:1:1,5;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 7
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="7:1:1,6;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 8
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="8:1:1,7;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 9
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="9:1:1,8;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 10
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="10:1:1,9;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 11
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="11:1:1,10;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 12
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="12:1:1,11;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 13
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="13:1:1,12;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 14
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="14:1:1,13;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 15
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="15:1:1,14;"/>
   </tapa.send>


   # Put delay for 10 sec the confirmation to be received
   <tapa.delay delay="100"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:1200:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.25
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.25">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=5 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Put delay for 6 sec the confirmation to be received
   <tapa.delay delay="60"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.26
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.26">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when multiple allocations from MAC empties the RLC 
		 data buffer and there is few but not all HARQ Ack indication received."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=5s.
       6. Send DStaInd from MAC stub to RLC of PDU size = 105B for 10 times.
       7. Send HARQ Ack indication for TbId=1,2,3,4,5."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=5 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ status indication for TbId=1,2,3,4,5
   
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 4
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="4:1:1,3;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 5
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="5:1:1,4;"/>
   </tapa.send>
   
   # Put delay for 6 sec the confirmation to be received
   <tapa.delay delay="60"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    7.27
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.27">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when measurement request is received in between data flow and RLC 
		 data buffer is emptied in multiple allocations from MAC and HARQ Ack Ind is received 
		 in non-sequential order."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 15 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 105B for 2 times.
       6. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=5s.
       7. Send DStaInd from MAC stub to RLC of PDU size = 105B for 13 times.
       8. Send HARQ Ack Indication from MAC stub to RLC for TbIds from 3 to 15 in non-sequential order."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 15 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="15"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 2 times
   <tapa.repeat.start repeatCount="2"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>
   
   # Send Measurement request from LM to RLC with T=5 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 13 times
   <tapa.repeat.start repeatCount="13"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbIds from 3 to 15 in non-sequential order.
   
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 5
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="5:1:1,4;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 6
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="6:1:1,5;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 4
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="4:1:1,3;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 7
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="7:1:1,6;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 8
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="8:1:1,7;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 9
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="9:1:1,8;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 11
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="11:1:1,10;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 12
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="12:1:1,11;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 10
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="10:1:1,9;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 13
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="13:1:1,12;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 14
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="14:1:1,13;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 15
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="15:1:1,14;"/>
   </tapa.send>
   
   # Put delay for 6 sec the confirmation to be received
   <tapa.delay delay="60"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:1200:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.28
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.28">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when multiple allocations from MAC empties the RLC data 
		 buffer and only last PDU's HARQ Ack indication is received."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=5s.
       6. Send DStaInd from MAC stub to RLC of PDU size = 105B for 10 times.
       7. Send HARQ Ack indication for TbId=9"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=5 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 9.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="9:1:1,8;"/>
   </tapa.send>
   
   # Put delay for 6 sec the confirmation to be received
   <tapa.delay delay="60"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.29
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.29">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when two allocations from MAC empties the RLC data 
		  buffer and both HARQ Ack indications are received after the corresponding 
		  DStaInd."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 3 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=5s.
       6. Send 1 DStaInd from MAC stub to RLC of PDU size = 155B.
       7. Send HARQ Ack indication for TbId=0.
       8. Send 1 DStaInd from MAC stub to RLC of PDU size = 200B(It empties the buffer).
       9. Send HARQ Ack indication for TbId=1."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 3 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=5 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 155B.
  <tapa.send>
	 <tapa.dummy.rgu.dstaind totBufSize="155" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
  </tapa.send> 
  <tapa.expect>
	 <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
  </tapa.expect>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>
   
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 200B(It empties the buffer).
  <tapa.send>
	 <tapa.dummy.rgu.dstaind totBufSize="200" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
  </tapa.send> 
  <tapa.expect>
	 <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
  </tapa.expect>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>
   
   
   # Put delay for 6 sec the confirmation to be received
   <tapa.delay delay="60"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    7.30
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.30">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when multiple allocations from MAC empties the RLC data 
		 buffer and all HARQ Ack indications are received after the corresponding DStaInd."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 3 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=5s.
       6. Send 1 DStaInd from MAC stub to RLC of PDU size = 106B.
       7. Send HARQ Ack indication for TbId=0.
       8. Send 1 DStaInd from MAC stub to RLC of PDU size = 106B.
       9. Send HARQ Ack indication for TbId=1.
       10. Send 1 DStaInd from MAC stub to RLC of PDU size = 200B(It empties the buffer).
       11. Send HARQ Ack indication for TbId=2."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 3 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=1 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="1000" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 200B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="200" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>
   
   # Put delay for 10 sec the confirmation to be received
   <tapa.delay delay="100"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:200:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    7.31
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.31">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when multiple(N) allocations from MAC empties the RLC data 
		 buffer and (N-1) HARQ Ack indications are received after the corresponding DStaInd."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
	   3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 5 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=10s.
       6. Send 1 DStaInd from MAC stub to RLC of PDU size = 106B.
       7. Send HARQ Ack indication for TbId=1.
       8. Send 1 DStaInd from MAC stub to RLC of PDU size = 106B.
       9. Send HARQ Ack indication for TbId=2.
       10. Send 1 DStaInd from MAC stub to RLC of PDU size = 106B.
       11. Send HARQ Ack indication for TbId=3.
       12. Send 1 DStaInd from MAC stub to RLC of PDU size = 106B.
       13. Send 1 DStaInd from MAC stub to RLC of PDU size = 150B(It empties the buffer).
       14. Send HARQ Ack indication for TbId=5."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 5 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="5"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=1 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="1000" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>
   
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>
   
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>
   
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Send one DStaInd from MAC stub to RLC of PDU size = 150B (It empties the buffer).
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="150" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>
   
   # Put delay for 1 tick for HARQ status to be received.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 5.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="5:1:1,4;"/>
   </tapa.send>
   
   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    7.32
#
#       Desc:    DL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.32">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when multiple(N) allocations from MAC empties the RLC data 
		 buffer and (N-1) HARQ Ack indications are received after the corresponding DStaInd. 
		 After some delay, the remaining HARQ Ack Ind has been received."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
	   3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 5 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=10s.
       6. Send 1 DStaInd from MAC stub to RLC of PDU size = 105B.
       7. Send HARQ Ack indication for TbId=1.
       8. Send 1 DStaInd from MAC stub to RLC of PDU size = 105B.
       9. Send HARQ Ack indication for TbId=2.
       10. Send 1 DStaInd from MAC stub to RLC of PDU size = 105B.
       11. Send HARQ Ack indication for TbId=3.
       12. Send 1 DStaInd from MAC stub to RLC of PDU size = 105B.
       13. Send 1 DStaInd from MAC stub to RLC of PDU size = 105B(It empties the buffer).
       14. Send HARQ Ack indication for TbId=5.
       15. Delay of 200ms (For HARQ re-Tx).
       16. Send HARQ Ack indication for TbId=4."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
	   <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
   
   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>

   # Pump 5 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="5"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=1 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="1000" measType="16" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>
   
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>
   
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Put delay for 1 ticks for HARQ re-Tx.
   <tapa.delay delay="1"/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>
   
   
   # Send one DStaInd from MAC stub to RLC of PDU size = 106B.
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>

   # Send one DStaInd from MAC stub to RLC of PDU size = 150B (It empties the buffer).
   <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="150" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
   </tapa.send> 
   <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
   </tapa.expect>
   
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 5.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="5:1:1,4;"/>
   </tapa.send>
   
   # Put delay for 2 ticks for HARQ re-Tx.
   <tapa.delay delay="2"/>
   
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 4.
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="4:1:1,3;"/>
   </tapa.send>
   
   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="3:400:0;"/>
   </tapa.expect>

   </tapa.test>
	
   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.33
#
#       Desc:    UL IP Throughput (Validation)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.33">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 6 DRBs(CRNTI=1) (Mode:Qci)(UM:0,UM:1,UM:2)
   <tapa.ckw.umcfg.l2m3/>
	
   # Send UL IP Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="32" 
       numQci="3" qci="3:4:5" cellId="1" ueId="2"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_UE" 
	  cellId="1" ueId="2" numCfm="0" measType="32"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF FIRST PART######################

   # Create UE with 6 DRBs(CRNTI=1) (Mode:Qci)(UM:0,UM:1,UM:2,AM:3,AM:4,AM:5)
   <tapa.ckw.amumcfg.l2m4/>

   # Send UL IP Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="100" measType="32"
       numQci="6" qci="0:1:2:3:4:5" cellId="1" ueId="2"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_INVALID_UE" 
	  cellId="1" ueId="2" numCfm="0" measType="32"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF SECOND PART######################

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    7.34
#
#       Desc:    UL IP Throughput (Validation)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.34">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput (Validation)"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 2 DRBs(CRNTI=1) (Mode:Qci)(AM:1,AM:2)
   <tapa.ckw.amcfg.l2m8/>
	
   # Send UL IP Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="32" 
       numQci="2" qci="2:3" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_QCI" 
	  cellId="1" ueId="1" numCfm="1" measType="32" measData="3:0:0"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF FIRST PART######################

   # Create UE with 3 DRBs(CRNTI=1) (Mode:Qci)(AM:6,AM:8,AM:9)
   <tapa.ckw.amcfg.l2m9/>

   # Send UL IP Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="32"
       numQci="3" qci="6:9:3" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_INVALID_QCI" 
	  cellId="1" ueId="1" numCfm="1" measType="32" measData="3:0:0"/>
   </tapa.expect>

   # Delete the UE
   <tapa.send>
      <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1" cfgType="5"/>
   </tapa.send>
   <tapa.expect>
      <tapa.ckw.cfgcfm ueId="1" cellId="1" numEnt="1" status="1" reason="0"/>
   </tapa.expect>
   ####################END OF SECOND PART######################

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.35
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.35">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>
	
   # Send UL IP Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="32" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from MAC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
	  numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:0;"/>
   </tapa.expect>

   <tapa.delay delay="2"/>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.36
#
#       Desc:    To test the packet delay in DL per qci with multiple RB
#                in single UE.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.36"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is informed to PDCP after RLC
         sends the data to MAC when 1 UE contains multiple RB(1 in AM and
         another in UM) where  SDU does not completely fit in to 1 PDU."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:4,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:4,1;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:4,2;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4(lcId 4)
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="0"/>
    </tapa.expect>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:4,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:4,4;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:1:4,5;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4(lcId 4)
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:5,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:1:5,1;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:5,2;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 5(lcId 5)
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="2"/>
    </tapa.expect>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:1:5,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="11:1:5,4;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="12:1:5,5;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 5(lcId 5)
    # Expect L2 Measurement confirm now.
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="3"/>
       <tapa.lkw.l2meascfm numCfm="2" measType="2" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
    </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.37
#
#       Desc:    To test the packet delay in DL per qci with multiple RB
#                in single UE and data request contains 2 logical channel.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.37"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is informed to PDCP after RLC
         sends the data to MAC when 1 UE contains multiple RB(1 in AM and
         another in UM) where  SDU does not completely fit in to 1 PDU also
         Data request to MAC contains multiple logical channel."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 RBs in a UE one in AM and another in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115:115" numLch="2" lcId="4:5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115:115" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115:115" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0.5,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1.5,1;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2.5,2;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4 and 5
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="0"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="1"/>
    </tapa.expset>
    
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115:115" numLch="2" lcId="4:5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115:115" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115:115" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3.5,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4.5,4;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5.5,5;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4 and 5
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="2"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="3"/>
       <tapa.lkw.l2meascfm numCfm="2" measType="2" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
    </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.38
#
#       Desc:    To test the packet delay in DL per qci with multiple RB
#                in single UE and data request contains 2 logical channel.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.38"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is not informed to PDCP after RLC
         sends the data to MAC when 1 UE contains multiple RB(1 in AM and
         another in UM) where  SDU does not completely fit in to 1 PDU also
         Data request to MAC contains multiple logical channel and harq ack 
         comes as failed for part of the SDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 RBs in a UE one in AM and another one in UM.
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115:115" numLch="2" lcId="4:5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115:115" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115:115" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0.5,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1.5,1;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="3:2:4,2.5,2;"/>
    </tapa.send>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="300" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115:115" numLch="2" lcId="4:5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115:115" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="115:115" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3.5,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4.5,4;"/>
    </tapa.send>
   
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5.5,5;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4 and 5
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="2"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="3"/>
       <tapa.lkw.l2meascfm numCfm="2" measType="2" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
    </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#
#       Test:    7.39
#
#       Desc:    To test the packet delay in DL per qci with multiple RB
#                in single UE.Here PDU contains multiple SDUs(2 sdus)
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.39"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is informed to PDCP after RLC
         sends the data to MAC when 1 UE contains multiple RB(1 in AM and
         another in UM) where  PDU contains atleast 2 SDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 RBs in a UE one in AM and another one in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="200" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="200" lcId="4" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:4,0;"/>
    </tapa.send>
    
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="0"/>
    </tapa.expect>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:4,1;"/>
    </tapa.send>
   
    # Expect datAck indication at kwu for rbId 4(lcId 4)
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="1"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="2"/>
    </tapa.expset>
 
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="200" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="200" lcId="5" ueId="1" cellId="1" 
            numLch="1" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:5,0;"/>
    </tapa.send>
    
    <tapa.expect>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="3"/>
    </tapa.expect>
    
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:5,1;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 5(lcId 5)
    # Expect L2 Measurement confirm now.
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="4"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="5"/>
       <tapa.lkw.l2meascfm numCfm="2" measType="2" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
    </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.40
#
#       Desc:    To test the packet delay in DL per qci with multiple RB
#                in single UE and data request contains 2 logical channel.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.40"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is informed to PDCP after RLC
          sends the data to MAC when 1 UE contains multiple RB(1 in AM and
          another in UM) where  PDU contains multiple SDU(atleast 2)
          and  Data request to MAC contains multiple logical channel."
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 RBs in a UE one  in AM and another one in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115:115" numLch="2" lcId="4:5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="125:125" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0.5,0;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4 and 5
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="0"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="2"/>
    </tapa.expset>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1.5,1;"/>
    </tapa.send>
    
    # Expect datAck indication at kwu for rbId 4 and 5
    <tapa.expset>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="4" sduId="1"/>
       <tapa.kwu.datackind ueId="1" cellId="1" rbId="5" sduId="3"/>
       <tapa.lkw.l2meascfm numCfm="2" measType="2" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
    </tapa.expset>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.41
#
#       Desc:    To test the packet delay in DL per qci with multiple RB
#                in single UE and data request contains 2 logical channel.
#
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.41"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify that datAck indication is not informed to PDCP after RLC
          sends the data to MAC when 1 UE contains multiple RB(1 in AM and
          another in UM) where  PDU contains multiple SDU(atleast 2)
          and  Data request to MAC contains multiple logical channel and
          status is negative in harq ack"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 RBs in a UE one in AM and another in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:0"
            logChId1Type="4:0"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="2"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1:2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC with numQci as 2 qnd qci as 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="2"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115:115" numLch="2" lcId="4:5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
      </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 4 and 5
    <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="125:125" lcId="4:5" ueId="1" cellId="1" 
            numLch="2" transId="1" />
    </tapa.send>
    
    # Expect data request at RGU for lcId 4 and 5
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
  
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="1:2:4,0.5,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1.5,1;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="2" measType="2" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0;2:0;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.42
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 1 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.42"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 1 RB configured in AM,
          with QCI as 1. In this test case MAC schedules for every data request 
          from Application, and 1 SDU fits in to 1 PDU"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:500000;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.43
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 1 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.43"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 1 RB configured in AM,
          with QCI as 1. In this test case MAC schedules in such away that 
          1 PDU contains atleast 2 SDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="200" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:604166;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.44
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 1 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.44"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 1 RB configured in AM,
          with QCI as 1. In this test case MAC schedules in such away that 
          SDUs span across multiple PDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="3"
            dir="3"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:750000;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.45
#
#       Desc:    To test UU loss rate in RLC with 2 UE and 1 RB in UM
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.45"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 2 UE and 1 RB configured in UM,
          with QCI as 1 and 2. In this test case MAC schedules for every data request 
          from Application, and 1 SDU fits in to 1 PDU"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="100"
            qci ="1" 
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
   #Configure 1 RBs in a UE in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="2" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="100"
            qci ="2" 
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>

    <tapa.repeat.start repeatCount="20"/>
    ###############Send data on UE 1 ################3
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    ###############Send data on UE 2 ################3
    <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="2" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    ###########Send Harq ind on UE 1 #############
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19;"/>
    </tapa.send>
    
    ###########Send Harq ind on UE 2 #############
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="21:2:4,0;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="22:2:4,1;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="23:2:4,2;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="24:2:4,3;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="25:2:4,4;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="26:2:4,5;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="27:2:4,6;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="28:2:4,7;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="29:2:4,8;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="30:2:4,9;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="31:2:4,10;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="32:2:4,11;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="33:2:4,12;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="34:2:4,13;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="35:2:4,14;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="36:2:4,15;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="37:2:4,16;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="38:2:4,17;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="39:2:4,18;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="40:2:4,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="2" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:500000;2:0:500000"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.46
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 1 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.46"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 1 RB configured in UM,
          with QCI as 1. In this test case MAC schedules in such away that 
          1 PDU contains atleast 2 SDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="100"
            qci ="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="200" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:604166;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.47
#
#       Desc:    To test UU loss rate in RLC with 2 UE and 1 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.47"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 2 UE and 1 RB configured in UM,
          with QCI as 1 and 2. In this test case MAC schedules in such away that 
          SDUs span across multiple PDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE1 in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="100"
            qci ="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
   #Configure 1 RBs in a UE2 in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="2" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="100"
            qci ="2"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="2" qci="1:2"/>
    </tapa.send>
   
    ###############Send data on UE 1 ################
   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    ###############Send data on UE 2 ################
   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="4" 
          rbType="1" ueId="2" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="2" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="2" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="2" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    ##############Send Harq on UE 1 ###############
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:4,0;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:4,1;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:4,2;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:4,3;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:4,4;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:1:4,5;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:4,6;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:1:4,7;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:4,8;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:1:4,9;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:1:4,10;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:1:4,11;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:1:4,12;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:1:4,13;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:1:4,14;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:1:4,15;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:1:4,16;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:1:4,17;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:1:4,18;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:1:4,19;"/>
    </tapa.send>
    
    ##############Send Harq on UE 2 ###############
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="21:1:4,0;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="22:1:4,1;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="23:1:4,2;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="24:1:4,3;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="25:1:4,4;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="26:1:4,5;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="27:1:4,6;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="28:1:4,7;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="29:1:4,8;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="1" snMapInfo="30:1:4,9;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="31:1:4,10;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="32:1:4,11;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="33:1:4,12;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="34:1:4,13;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="35:1:4,14;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="36:1:4,15;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="37:1:4,16;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="38:1:4,17;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="39:1:4,18;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="2" cellId="1" 
          numTbs="1" status="0" snMapInfo="40:1:4,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="2" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:750000;2:0:750000"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.48
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 2 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.48"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1 UE and 2 RB configured in AM and UM,
          with QCI as 2 and 3. In this test case MAC schedules in such away that 
          SDUs span across multiple PDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 2 RBs in a UE1 in AM and UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="3:2"
            dir="3:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4:5"
            logChId1Type="4:4"
            umDlSnLen="1"
            umUlSnLen="1"
            umUlReOrdTmr="100"
            amDlPollRetxTmr="200"
            amDlPollPdu="10"
            amDlPollByte="2500"
            amDlMaxRetx="7"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="2:3"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
   # Send Measurement request from LM to RLC for QCI 1 and 2
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="2" qci="2:3"/>
    </tapa.send>
   
    ###############Send data on RB 1 ################
   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    ###############Send data on RB 2 ################
   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="200" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="115" numLch="1" lcId="5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>
    
    ##############Send Harq on RB 1 ###############
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:1:4,0;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:1:4,1;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:1:4,2;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:1:4,3;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:1:4,4;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:1:4,5;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:1:4,6;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:1:4,7;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:1:4,8;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:1:4,9;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:1:4,10;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:1:4,11;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:1:4,12;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:1:4,13;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:1:4,14;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:1:4,15;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:1:4,16;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:1:4,17;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:1:4,18;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:1:4,19;"/>
    </tapa.send>
    
    ##############Send Harq on RB 2 ###############
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="21:1:5,0;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="22:1:5,1;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="23:1:5,2;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="24:1:5,3;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="25:1:5,4;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="26:1:5,5;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="27:1:5,6;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="28:1:5,7;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="29:1:5,8;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="30:1:5,9;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="31:1:5,10;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="32:1:5,11;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="33:1:5,12;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="34:1:5,13;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="35:1:5,14;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="36:1:5,15;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="37:1:5,16;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="38:1:4,17;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="39:1:5,18;"/>
    </tapa.send>
    # Send Harq ack indication on LcId 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="40:1:5,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="2" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="2:0:750000;3:0:750000"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.49
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 2 RB with same qci
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.49"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 2 RB configured in UM,
          with QCI as 1. In this test case MAC schedules in such away that 
          1 PDU contains atleast 2 SDUs"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in UM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="2"
            cfgType="1:1"
            rbId="4:5"
            rbType="1:1"
            entMode="2:2"
            dir="2:2"
            logChId0Id="4:5"
            logChId0Type="4:4"
            logChId1Id="4"
            logChId1Type="4"
            umDlSnLen="1:1"
            umUlSnLen="1:1"
            umUlReOrdTmr="100:100"
            qci ="1:1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="2" 
            rbId="4:5"
            rbType="1:1"
            status="1:1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   <tapa.repeat.start repeatCount="20"/>
   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    #Send data request from App to RLC on rbId 5
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="5" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="5" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 5
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="110:110" numLch="2" lcId="4:5" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 5.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="2" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    <tapa.repeat.end/>

    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="1:2:4,0.5,0;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="2:2:4,1.5,1;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="3:2:4,2.5,2;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="4:2:4,3.5,3;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="5:2:4,4.5,4;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="6:2:4,5.5,5;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="7:2:4,6.5,6;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="8:2:4,7.5,7;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="9:2:4,8.5,8;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="1" snMapInfo="10:2:4,9.5,9;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="11:2:4,10.5,10;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="12:2:4,11.5,11;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="13:2:4,12.5,12;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="14:2:4,13.5,13;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="15:2:4,14.5,14;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="16:2:4,15.5,15;"/>
    </tapa.send>

    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="17:2:4,16.5,16;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="18:2:4,17.5,17;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="19:2:4,18.5,18;"/>
    </tapa.send>
    
    # Send Harq ack indication on LcId 4 and 5
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="20:2:4,19.5,19;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:666666;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.50
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.50">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 4 DRB(CRNTI=1) (Mode:Qci)(AM:3,AM:5,UM:4,UM:6)
   <tapa.ckw.amcfg.l2m7/>
	
   # Send UL IP measurement request for CRNTI=1, List of QCI=3,4,5,6 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32" 
       numQci="4" qci="3:4:5:6" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="4" lcIds="1,3,2,4"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="4" lcIds="1,3,2,4"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
       numCfm="4" cellId="1" ueId="1" measType="32" measData="3:0:0;4:0:0;5:0:0;6:0:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.51
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.51">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=20s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0
          3rd to 9th DDatInd shall be same as 2nd DDatInd.
          10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20ms"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>
	
   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # MAC sends the PDU in uplink to Rx RLC
   # 1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 2nd DDatInd to 9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0
   <tapa.repeat.start repeatCount="8"/>
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
            lchData="1:1:0:0:0:0:3"/>
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
            rbId="1" rbType="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # 10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
       numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:45;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.52
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.52">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 105B for 10 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=20s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          4th to 8th DDatInd shall be same as 3rd DDatInd.
          9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20ms.
          10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>
	
   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Send DDatInd from MAC stub to RLC
   # 1st and 2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.repeat.start repeatCount="2"/>
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
            lchData="1:1:0:0:0:0:0"/>
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
            rbId="1" rbType="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # 3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 4th DDatInd to 8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.repeat.start repeatCount="5"/>
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
            lchData="1:1:0:0:0:0:3"/>
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
            rbId="1" rbType="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # 9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 20
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
       numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:30;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.53
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.53">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3.
       4. Pump 2 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 106B for 2 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=10s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 0."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>
	
   # Pump 2 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="2"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 2 times
   <tapa.repeat.start repeatCount="2"/>
      <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Send DDatInd from MAC stub to RLC
   # 1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
       numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.54
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.54">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          4th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20ms.
          5th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          6th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          7th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 10ms."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>
	
   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Send DDatInd from MAC stub to RLC
   # 1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 4th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 20ms
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 5th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 6th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 7th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 10ms
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:10:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
       numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:20;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>



#
#       Test:    7.55
#
#       Desc:    UL IP Throughput
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.55">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3 
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          4th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          5th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20ms.
          6th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          7th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 0.
          9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>
    
   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(AM:3)
   <tapa.ckw.amcfg.l2m5/>
	
   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
	  <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
	  numLch="1" transId="1" />
      </tapa.send> 
      <tapa.expect>
	  <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
	  valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=3 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32" 
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Send DDatInd from MAC stub to RLC
   # 1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 4th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 5th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 20ms
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 6th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 7th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
       numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:20;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>










t:    7.56
#
#       Desc:    DL IP Throughput (UM Mode)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.56">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "DL IP Throughput: To verify measurement when RLC
         data buffer is emptied in multiple allocations from MAC."
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(UM:6)
   <tapa.ckw.umcfg.l2m10/>

   # Pump 3 RLC SDUs(size=100B) to the bearer with qci=6 at PJU interface
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 3 times
   <tapa.repeat.start repeatCount="3"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>

   # Put delay for 5 sec the confirmation to be received
   <tapa.delay delay="50"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="6:200:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.57
#
#       Desc:    DL IP Throughput (UM Mode)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.57">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when measurement request is received in
          between data flow and RLC data buffer is emptied in multiple
          allocations from MAC and HARQ Ack Ind is received in sequential
          order."
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
           <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(UM:6)
   <tapa.ckw.umcfg.l2m10/>

   # Pump 15 RLC SDUs(size=100B) to the bearer with qci=6 at PJU interface
   <tapa.repeat.start repeatCount="15"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 2 times
   <tapa.repeat.start repeatCount="2"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=1 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="1000" measType="16"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 13 times
   <tapa.repeat.start repeatCount="13"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send>

      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1 to TbId = 15 in sequential order

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 1
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="1:1:1,0;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 2
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="2:1:1,1;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 4
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="4:1:1,3;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 5
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="5:1:1,4;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 6
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="6:1:1,5;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 7
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="7:1:1,6;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 8
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="8:1:1,7;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 9
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="9:1:1,8;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 10
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="10:1:1,9;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 11
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="11:1:1,10;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 12
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="12:1:1,11;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 13
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="13:1:1,12;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 14
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="14:1:1,13;"/>
   </tapa.send>
   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 15
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="15:1:1,14;"/>
   </tapa.send>


   # Put delay for 10 sec the confirmation to be received
   <tapa.delay delay="100"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="6:1200:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.58
#
#       Desc:    DL IP Throughput (UM Mode)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.58">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "To verify measurement when measurement request is received in between data flow and RLC
          data buffer is emptied in multiple allocations from MAC and HARQ Ack Ind is received
          in non-sequential order."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--UM:6
       4. Pump 15 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 105B for 2 times.
       6. Send DL IP measurement request for CRNTI=1, List of QCI=6 for a time period T=5s.
       7. Send DStaInd from MAC stub to RLC of PDU size = 105B for 13 times.
       8. Send HARQ Ack Indication from MAC stub to RLC for TbIds from 3 to 15 in non-sequential order."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
           <tapa.delay delay="2"/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Create UE(CRNTI=1) with 1 DRB(Mode:Qci)(UM:6)
   <tapa.ckw.umcfg.l2m10/>

   # Pump 15 RLC SDUs(size=100B) to the bearer with qci=6 at PJU interface
   <tapa.repeat.start repeatCount="15"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 105B for 2 times
   <tapa.repeat.start repeatCount="2"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send Measurement request from LM to RLC with T=5 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="50" measType="16"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 13 times
   <tapa.repeat.start repeatCount="13"/>
      <tapa.send>
         <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send HARQ Ack Indication from MAC stub to RLC for TbIds from 3 to 15 in non-sequential order.

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 5
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="5:1:1,4;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 3
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="3:1:1,2;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 6
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="6:1:1,5;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 4
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="4:1:1,3;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 7
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="7:1:1,6;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 8
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="8:1:1,7;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 9
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="9:1:1,8;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 11
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="11:1:1,10;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 12
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="12:1:1,11;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 10
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="10:1:1,9;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 13
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="13:1:1,12;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 14
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="14:1:1,13;"/>
   </tapa.send>

   # Send HARQ Ack Indication from MAC stub to RLC for TbId = 15
   <tapa.send>
      <tapa.dummy.rgu.hqstaind cellId="1" ueId="1" numTbs="1" status="1"
       snMapInfo="15:1:1,14;"/>
   </tapa.send>

   # Put delay for 6 sec the confirmation to be received
   <tapa.delay delay="60"/>

   # Expect Measurement Confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason = "LCM_REASON_NOT_APPL" numCfm="1"
       cellId="1" ueId="1" measType="16" measData="6:1200:0;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.59
#
#       Desc:    UL IP Throughput (Um Mode)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.59">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput - To verify measurement for one LCH when
         there is a uplink data burst split across 10 TTIs"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--UM:6
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=6 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=6 for a time period T=20s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0
          3rd to 9th DDatInd shall be same as 2nd DDatInd.
          10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20ms"
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(UM:6)
   <tapa.ckw.umcfg.l2m10/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=3 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
          <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send>
      <tapa.expect>
          <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=6 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # MAC sends the PDU in uplink to Rx RLC
   # 1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 2nd DDatInd to 9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0
   <tapa.repeat.start repeatCount="8"/>
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
            lchData="1:1:0:0:0:0:3"/>
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
            rbId="1" rbType="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # 10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
       numCfm="1" cellId="1" ueId="1" measType="32" measData="6:0:45;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.60
#
#       Desc:    UL IP Throughput (UM Mode)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.60">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput - To verify measurement for one LCH when
         there is a uplink data burst split across 7 TTIs."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--UM:6
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=6 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 105B for 10 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=6 for a time period T=20s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          4th to 8th DDatInd shall be same as 3rd DDatInd.
          9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20ms.
          10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(UM:6)
   <tapa.ckw.umcfg.l2m10/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=6 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
          <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send>
      <tapa.expect>
          <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=6 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Send DDatInd from MAC stub to RLC
   # 1st and 2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.repeat.start repeatCount="2"/>
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
            lchData="1:1:0:0:0:0:0"/>
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
            rbId="1" rbType="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # 3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 4th DDatInd to 8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.repeat.start repeatCount="5"/>
      <tapa.send>
         <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
            lchData="1:1:0:0:0:0:3"/>
      </tapa.send>

      <tapa.expect>
         <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
            rbId="1" rbType="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # 9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 20
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
       numCfm="1" cellId="1" ueId="1" measType="32" measData="6:0:30;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.61
#
#       Desc:    UL IP Throughput (UM Mode)
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.61">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "UL IP Throughput - To verify measurement for one LCH when there are
         2 uplink data bursts split across multiple TTIs one after the other
         within the same Measurement Period."
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--UM:6
       4. Pump 10 RLC SDUs(size=100B) to the bearer with qci=6 at PJU interface.
       5. Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times.
       6. Send UL IP measurement request for CRNTI=1, List of QCI=6 for a time period T=2s.
       7. Send DDatInd from MAC stub to RLC. The details of DDatInd are:
          1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          4th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 20ms.
          5th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          6th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF, thrpTimeUl = 0.
          7th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST, thrpTimeUl = 0.
          8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM, thrpTimeUl = 0.
          10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST, thrpTimeUl = 10ms."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Create UE with 1 DRB(CRNTI=1) (Mode:Qci)(UM:6)
   <tapa.ckw.umcfg.l2m10/>

   # Pump 10 RLC SDUs(size=100B) to the bearer with qci=6 at PJU interface
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
         <tapa.kwu.datreq entity="ENTPJ" rbId="1" rbType="1" ueId="1" cellId="1"
          sduId="1" sduSize="100"/>
      </tapa.send>
      <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="1" valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send DStaInd from MAC stub to RLC of PDU size = 106B for 10 times
   <tapa.repeat.start repeatCount="10"/>
      <tapa.send>
          <tapa.dummy.rgu.dstaind totBufSize="106" lcId="1" ueId="1" cellId="1"
          numLch="1" transId="1" />
      </tapa.send>
      <tapa.expect>
          <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" transId="1"
          valdType="1"/>
      </tapa.expect>
   <tapa.repeat.end/>

   # Send UL IP measurement request for CRNTI=1, List of QCI=6 for a time period T=2 sec
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="2000" measType="32"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expect>

   # Send DDatInd from MAC stub to RLC
   # 1st DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 2nd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 3rd DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 4th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 20ms
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:20:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 5th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 6th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_NOTDEF(0), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:0"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 7th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_FIRST(1), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:1"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 8th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 9th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_INTERIM(3), thrpTimeUl = 0
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:0:3"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # 10th DDatInd: firstLastSegInd = RGU_L2M_ULTHRP_LAST(2), thrpTimeUl = 10ms
   <tapa.send>
      <tapa.dummy.rgu.ddatind numLch="1" lcId="1" cellId="1"  ueId="1" transId="1"
         lchData="1:1:0:0:0:10:2"/>
   </tapa.send>

   <tapa.expect>
      <tapa.kwu.datind  entity="ENTPJ" sduSize="100" cellId="1" ueId="1"
         rbId="1" rbType="1" valdType="1"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # After timer expiry, MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expect>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
   </tapa.expect>

   # Put delay for 2 sec the confirmation to be received
   <tapa.delay delay="20"/>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
       numCfm="1" cellId="1" ueId="1" measType="32" measData="6:0:20;"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

  # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.62
#
#       Desc:    Validation of measurement in R9
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.62">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Validation of measurement in R9"
      </tapa.desc>

      <tapa.longdesc>
      ""
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

# Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg.l2m1/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="0" cellId="1" ueId="1"/>
   </tapa.send>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_INVALID_NUMQCI" 
         numCfm="0"  cellId="1" ueId="1" measType="16"/>
   </tapa.expect>
   
   # Send Measurement request from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="1" qci="2" cellId="1" ueId="1"/>
   </tapa.send>
   # Send Measurement request again from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="16"
       numQci="1" qci="2" cellId="1" ueId="1"/>
   </tapa.send>
   
   # Expect -ve confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason = "LKW_CAUSE_MEAS_ALREADY_ENA"
         numCfm="1"  measData="2:0:0" cellId="1" ueId="1" measType="16"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.63
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 1 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.63"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 1 RB configured in UM,
         with QCI as 1. In this test case SDU does not fit in to 1 pdu and
         before sending remaining sdu to MAC, peer sends HarqAck for the same SDU
         which sent earlier"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="50" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send Harq ack indication(status as false) on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="1:2:4,0;"/>
    </tapa.send>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="100" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
    
    # Send Harq ack indication(status as false) on LcId 4
    <tapa.send>
       <tapa.dummy.rgu.hqstaind ueId="1" cellId="1" 
          numTbs="1" status="0" snMapInfo="2:2:4,1;"/>
    </tapa.send>
    
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:1000000;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>

#
#       Test:    7.64
#
#       Desc:    To test UU loss rate in RLC with 1 UE and 1 RB
#                
#       Notes:   None
#              
#       Module:  L2M
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.64"> 

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Verify the UU loss rate in RLC with 1UE and 1 RB configured in UM,
         with QCI as 1. In this test case SDU does not fit in to 1 pdu and
         peer does not send any Harq ack"
      </tapa.desc>

      <tapa.longdesc/>
         
   </tapa.doc>

   # Require features and flags subsection 
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>
         
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
    <tapa.cfg>
      <tapa.kw.init/>
      <tapa.delay delay="2"/>  
   </tapa.cfg>
    
   # Test Steps subsection
   <tapa.test>
      
    #Configure 1 RBs in a UE in AM
      <tapa.send>
         <tapa.ckw.cfgreq ueId="1" cellId="1" numEnt="1"
            cfgType="1"
            rbId="4"
            rbType="1"
            entMode="2"
            dir="2"
            logChId0Id="4"
            logChId0Type="4"
            logChId1Id="4"
            logChId1Type="4"
            amUlStaProhTmr="300"
            amUlReOrdTmr="300"
            qci ="1"
         />
      </tapa.send>
      #Expect a config confirm for all of the above configured entities
      <tapa.expect>
         <tapa.ckw.cfgcfm numEnt="1" 
            rbId="4"
            rbType="1"
            status="1"
         />
   </tapa.expect>
   
    # Send Measurement request from LM to RLC for QCI 1
    <tapa.send>
       <tapa.lkw.l2measreq measType="8"  measPeriod="10" numQci="1" qci="1"/>
    </tapa.send>

   #Send data request from App to RLC on rbId 4
    <tapa.send>
       <tapa.kwu.datreq entity="ENTPJ" sduSize="100" rbId="4" 
          rbType="1" ueId="1" cellId="1"/>
    </tapa.send>
    #Expect StaRsp at MAC layer
    <tapa.expect>
         <tapa.dummy.rgu.dstarsp cellId="1" ueId="1" lcId="4" valdType="1"/>
    </tapa.expect>
    
    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="50" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>

    # Send StaInd from dummy MAC to RLC for LcId 4.
    <tapa.send>
       <tapa.dummy.rgu.dstaind totBufSize="100" numLch="1" lcId="4" 
          ueId="1" cellId="1" transId="1" />
    </tapa.send>

    # Expect Data request at RGU for lcId 4.
    <tapa.expect>
       <tapa.dummy.rgu.ddatreq  numLch="1" ueId="1" cellId="1" 
          transId="1" valdType="1"/>
    </tapa.expect>
   
    # Expect L2 MeasCfm
    <tapa.expect>
       <tapa.lkw.l2meascfm numCfm="1" measType="8" 
          status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL"
          measData="1:0:0;"/>
    </tapa.expect>
 </tapa.test>

   # Clean subsection
   <tapa.clean/>
         
   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>
      
   <tapa.delay delay="2"/> 
      
   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.65
#
#       Desc:    Validation of measurement in R9
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.65">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Validation of measurement in R9"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3.
       4. Send measurement request for qci=3 with measType=0.
       5. Expect negetive confirmation with reason as LKW_CAUSE_INVALID_MEASTYPE.
       6. Send measurement request for qci=3 with measType=49.
       7. Expect negetive confirmation with reason as LKW_CAUSE_INVALID_MEASTYPE.
       8. Send measurement request for qci=3 with measType=17.
       9. Expect negetive confirmation with reason as LKW_CAUSE_INVALID_MEASTYPE."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg.l2m1/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Send Measurement request(1) from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="0"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE" 
         numCfm="0" measType="0"/>
   </tapa.expect>
   
   # Send Measurement request(2) from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="49"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE" 
         numCfm="0" measType="49"/>
   </tapa.expect>
   
   # Send Measurement request(3) from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="17"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE" 
         numCfm="0" measType="17"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.66
#
#       Desc:    Validation of measurement in R8
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.66">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Validation of measurement in R8"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 1 DRB each with the following AM/UM:QCI value.
          UE1--AM:3.
       4. Send measurement request for qci=3 with measType=0.
       5. Expect negetive confirmation with reason as LKW_CAUSE_INVALID_MEASTYPE.
       6. Send measurement request for qci=3 with measType=49.
       7. Expect negetive confirmation with reason as LKW_CAUSE_INVALID_MEASTYPE.
       8. Send measurement request for qci=3 with measType=17.
       9. Expect negetive confirmation with reason as LKW_CAUSE_INVALID_MEASTYPE.
      10. Send measurement request for qci=3 with measType=255.
      11. Expect negetive confirmation with reason as LKW_CAUSE_INVALID_MEASTYPE."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

# Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg.l2m1/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Send Measurement request(1) from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="0"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE" 
         numCfm="0" measType="0"/>
   </tapa.expect>
   
   # Send Measurement request(2) from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="49"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE" 
         numCfm="0" measType="49"/>
   </tapa.expect>
   
   # Send Measurement request(3) from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="17"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE" 
         numCfm="0" measType="17"/>
   </tapa.expect>

   # Send Measurement request(4) from LM to RLC
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="10" measType="255"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>

   # Expect confirmation from RLC
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_NOK" reason="LKW_CAUSE_INVALID_MEASTYPE" 
         numCfm="0" measType="255"/>
   </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.67
#
#       Desc:    R9 Measurement Validation
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.67">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "R9 Measurement Validation"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 10 DRB each with the following AM/UM:QCI value.
          UE1--AM:0,AM:1,AM:2,AM:3,AM:4,AM:5,AM:6,AM:7,AM:8,AM:9
       4. Send measurement request for all qci (0 to 9) with measType=16.
       5. Expect 10 measurement confirmations from RLC.
       6. Send measurement request for all qci (0 to 9) with measType=32.
       7. Expect 10 measurement confirmations from RLC.
       8. Send measurement request for all qci (0 to 9) with measType=48.
       9. Expect 10 measurement confirmations from RLC."
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

# Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg.l2m11/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Send 10 Measurement requests from LM to RLC with measType=16
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="1000" measType="16"
       numQci="1" qci="0" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="2" measPeriod="1000" measType="16"
       numQci="1" qci="1" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="3" measPeriod="1000" measType="16"
       numQci="1" qci="2" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="4" measPeriod="1000" measType="16"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="5" measPeriod="1000" measType="16"
       numQci="1" qci="4" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="6" measPeriod="1000" measType="16"
       numQci="1" qci="5" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="7" measPeriod="1000" measType="16"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="8" measPeriod="1000" measType="16"
       numQci="1" qci="7" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="9" measPeriod="1000" measType="16"
       numQci="1" qci="8" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="10" measPeriod="1000" measType="16"
       numQci="1" qci="9" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay of 2 secs for the Measurement Confirms to be received.
   <tapa.delay delay="20"/>

   # Recieve 10 Measurement confirms from RLC
   <tapa.expset>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="0:0:0;"/>
      <tapa.lkw.l2meascfm transId="2" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="1:0:0;"/>
      <tapa.lkw.l2meascfm transId="3" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="2:0:0;"/>
      <tapa.lkw.l2meascfm transId="4" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
      <tapa.lkw.l2meascfm transId="5" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="4:0:0;"/>
      <tapa.lkw.l2meascfm transId="6" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="5:0:0;"/>
      <tapa.lkw.l2meascfm transId="7" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="6:0:0;"/>
      <tapa.lkw.l2meascfm transId="8" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="7:0:0;"/>
      <tapa.lkw.l2meascfm transId="9" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="8:0:0;"/>
      <tapa.lkw.l2meascfm transId="10" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="9:0:0;"/>
   </tapa.expset>

   # Send 10 Measurement requests from LM to RLC with measType=32
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="1000" measType="32"
       numQci="1" qci="4" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="2" measPeriod="1000" measType="32"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="3" measPeriod="1000" measType="32"
       numQci="1" qci="2" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="4" measPeriod="1000" measType="32"
       numQci="1" qci="1" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="5" measPeriod="1000" measType="32"
       numQci="1" qci="5" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="6" measPeriod="1000" measType="32"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="7" measPeriod="1000" measType="32"
       numQci="1" qci="7" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="8" measPeriod="1000" measType="32"
       numQci="1" qci="8" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="9" measPeriod="1000" measType="32"
       numQci="1" qci="9" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="10" measPeriod="1000" measType="32"
       numQci="1" qci="0" cellId="1" ueId="1"/>
   </tapa.send>

   # MAC stub shall receive the UL IP measurement request from RLC
   <tapa.expset>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="5"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="4"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="3"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="2"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="6"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="7"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="8"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="9"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="10"
       enbMeas="TRUE"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="TRUE"/>
   </tapa.expset>

   # Put delay of 2 secs for the Measurement Confirms to be received.
   <tapa.delay delay="20"/>

   # MAC stub shall receive the UL IP measurement request from RLC
   # Recieve 10 Measurement confirms from RLC
   <tapa.expset>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="5"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="4:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="4"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="2" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="3:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="3"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="3" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="2:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="2"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="4" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="1:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="6"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="5" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="5:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="7"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="6" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="6:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="8"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="7" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="7:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="9"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="8" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="8:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="10"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="9" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="9:0:0;"/>
      <tapa.dummy.rgu.L2MUlThMeasReq cellId="1" ueId="1" numLcId="1" lcIds="1"
       enbMeas="FALSE"/>
      <tapa.lkw.l2meascfm transId="10" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="32" measData="0:0:0;"/>
   </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>


#
#       Test:    7.68
#
#       Desc:    Validation of measurement in R9
#
#       Notes:   None
#
#       Module:  RLC
#
#       File:    kwac_grp7.xml
#
#
<tapa.testcase id="7.68">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="l2m"/>

      <tapa.desc>
         "Validation of measurement in R9"
      </tapa.desc>

      <tapa.longdesc>
      "1. Configure the RLC layer and interfaces.
       2. Perform bind operations.
       3. Create 1 UE(CRNTI=1) with 10 DRB each with the following AM/UM:QCI value.
          UE1--AM:0,AM:1,AM:2,AM:3,AM:4,AM:5,AM:6,AM:7,AM:8,AM:9.
       4. Send measurement request for all qci (0 to 9) with measType=16 with
          measPeriod=5000ms for 1st 9 requests and 100ms for the last one.
       5. Receive the confirmation for the 10th request.
       6. Send one more measurement request for qci=9 with measPeriod=100ms.
       7. Receive the confirmation for this request.
       8. Receive the confirmations for remaining 9 requests one by one.
      </tapa.longdesc>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="LTE_L2_MEAS"/>
         <tapa.flag id="LTE_RLC_R9"/>
         <tapa.flag id="LTEMAC_R9"/>
       </tapa.ifdef>

      <tapa.ifndef/>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
       <tapa.kw.init/>
       <tapa.ckw.amcfg.l2m11/>
   </tapa.cfg>

   # Test subsection begins
   <tapa.test>

   # Send 10 Measurement requests from LM to RLC with measType=16
   <tapa.send>
      <tapa.lkw.l2measreq transId="1" measPeriod="5000" measType="16"
       numQci="1" qci="0" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="2" measPeriod="5000" measType="16"
       numQci="1" qci="1" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="3" measPeriod="5000" measType="16"
       numQci="1" qci="2" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="4" measPeriod="5000" measType="16"
       numQci="1" qci="3" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="5" measPeriod="5000" measType="16"
       numQci="1" qci="4" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="6" measPeriod="5000" measType="16"
       numQci="1" qci="5" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="7" measPeriod="5000" measType="16"
       numQci="1" qci="6" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="8" measPeriod="5000" measType="16"
       numQci="1" qci="7" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="9" measPeriod="5000" measType="16"
       numQci="1" qci="8" cellId="1" ueId="1"/>
   </tapa.send>
   <tapa.send>
      <tapa.lkw.l2measreq transId="10" measPeriod="100" measType="16"
       numQci="1" qci="9" cellId="1" ueId="1"/>
   </tapa.send>

   # Put delay of 1 sec.
   <tapa.delay delay="10"/>

   # Receive the Measurement Confirm for 10th Request which is for qci=9
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="10" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="9:0:0;"/>
   </tapa.expect>

   # Send another Measurement Request for qci=9 with measType=16
   <tapa.send>
      <tapa.lkw.l2measreq transId="11" measPeriod="10" measType="16"
       numQci="1" qci="9" cellId="1" ueId="1"/>
   </tapa.send>

   # Receive the Measurement Confirm
   <tapa.expect>
      <tapa.lkw.l2meascfm transId="11" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="9:0:0;"/>
   </tapa.expect>

   # Recieve 9 Measurement confirms from RLC for which measPeriod=5000
   <tapa.expset>
      <tapa.lkw.l2meascfm transId="1" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="0:0:0;"/>
      <tapa.lkw.l2meascfm transId="2" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="1:0:0;"/>
      <tapa.lkw.l2meascfm transId="3" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="2:0:0;"/>
      <tapa.lkw.l2meascfm transId="4" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="3:0:0;"/>
      <tapa.lkw.l2meascfm transId="5" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="4:0:0;"/>
      <tapa.lkw.l2meascfm transId="6" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="5:0:0;"/>
      <tapa.lkw.l2meascfm transId="7" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="6:0:0;"/>
      <tapa.lkw.l2meascfm transId="8" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="7:0:0;"/>
      <tapa.lkw.l2meascfm transId="9" status="LCM_PRIM_OK" reason="LCM_REASON_NOT_APPL" 
         numCfm="1" cellId="1" ueId="1" measType="16" measData="8:0:0;"/>
   </tapa.expset>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsectitn
   <tapa.shutdown>

   <tapa.kw.deinit/>

   <tapa.delay delay="2"/>

   </tapa.shutdown>
</tapa.testcase>






# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************30**
#
#         End of file:     $SID$
#
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#/main/1         ---     gk  1. Initial Release.
#$SID$           ---     gk  1. LTERLC Release 2.1.
#/main/2      kw002.201  vp  1. Patch for optimization,fixes for multi-region
#                                 and retransmission.
#/main/5      kw003.201 vp  1. Fixes for re-segmentation, segement offset
#                               value and optimization 
#/main/6      kw005.201 ap  1. Added test cases for R9 upgrade and LM statistics.
#/main/7      kw005.201 rd  1. Changed delay to "3" for TC 24,25,26,30 since
                               wait calculation has been changed.
#/main/8      kw005.201 rd  1. Added TCs for ul ip throughout measurement.
#*********************************************************************91*/

