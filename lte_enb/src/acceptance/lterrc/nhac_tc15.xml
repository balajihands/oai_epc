#*********************************************************************17*/
#
# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************20**
#
#     Name:    RRC 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Cases
#
#     File:    nhac_tc1.xml
#
#     Sid:     $SID$ 
#
#     Prg:     mc 
#
#*********************************************************************21*/

#
#
#       Test:    15.1
#
#       Desc:    RRC Connection Request rejected by RRC user
#
#       Notes:   None
#              
#       Module:  (TC # 4.2)
#
#       File:    nhac_tc1.xml
#
#
<tapa.testcase id="15.1">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.3"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "Verifying the Release 11
           IE NhuRRCConRej_v1020_IEsextendedWaitTime_r10
           for lower range"
          "On receiving RRC Connection Request from the RLC, RRC decodes the"
          " message and forwards it to RRC user. RRC user rejects the request"
          " by sending RRC Connection Reject message to RRC. RRC encodes this"
          " message and sends it to RLC. No PHY, RLC, PDCP or MAC configuration"
          "takes place. RLC sends a new RRC Connection Request for the same "
          "UE and it is successful. The message flow is same as testcase 4.1."
 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Configure RRC
      <tapa.rrc.init />

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />
   </tapa.cfg>

   <tapa.test>

      # Send RRC Connection Request from RLC 
      <tapa.send >
         <tapa.dummy.kwu.datind suId="0" spId="0" rbId="1" msgType="1" cellId="1" 
                          tCrnti="2" />
      </tapa.send>

      <tapa.delay delay="1" />

      #Expect RRC Connection Request at RRC user
      <tapa.expect >
         <tapa.nhu.datind cellId="1" tCrnti="2" />
      </tapa.expect>

      #Send RRC Connection Reject from RRC user
      <tapa.send>
         <tapa.nhu.datrsp spId="0" bitMask="0"
          msgCategory="3" msgType="2" 
          transId="10" rbId="1" tCrnti="2" cellId="1" valChk="0"
          extendedwaitTime="1" pdcpRel="11"/>
      </tapa.send>

      <tapa.delay delay="1" />

     #Expect RRC Connection Reject at RLC
     <tapa.expect>
        <tapa.dummy.kwu.datreq rbId="1" tCrnti="2" cellId="1" 
                         />
     </tapa.expect>

     #RRC Connection establishment procedure
     <tapa.rrc.consetup cellId="1" ueId="2" tCrnti="2" /> 

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rrc.conrls ueId="2" cellId="1" />
      <tapa.rrc.cellcfg.rls cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    15.2
#
#       Desc:    RRC Connection Request rejected by RRC user
#
#       Notes:   None
#              
#       Module:  (TC # 4.2)
#
#       File:    nhac_tc1.xml
#
#
<tapa.testcase id="15.2">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.3"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "Verifying the Release 11 IE
           NhuRRCConRej_v1020_IEsextendedWaitTime_r10
           for higher range"
          "On receiving RRC Connection Request from the RLC, RRC decodes the"
          " message and forwards it to RRC user. RRC user rejects the request"
          " by sending RRC Connection Reject message to RRC. RRC encodes this"
          " message and sends it to RLC. No PHY, RLC, PDCP or MAC configuration"
          "takes place. RLC sends a new RRC Connection Request for the same "
          "UE and it is successful. The message flow is same as testcase 4.1."
 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Configure RRC
      <tapa.rrc.init />

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />
   </tapa.cfg>

   <tapa.test>

      # Send RRC Connection Request from RLC 
      <tapa.send >
         <tapa.dummy.kwu.datind suId="0" spId="0" rbId="1" msgType="1" cellId="1" 
                          tCrnti="2" />
      </tapa.send>

      <tapa.delay delay="1" />

      #Expect RRC Connection Request at RRC user
      <tapa.expect >
         <tapa.nhu.datind cellId="1" tCrnti="2" />
      </tapa.expect>

      #Send RRC Connection Reject from RRC user
      <tapa.send>
         <tapa.nhu.datrsp spId="0" bitMask="0"
          msgCategory="3" msgType="2" 
          transId="10" rbId="1" tCrnti="2" cellId="1" valChk="0"
          extendedwaitTime="1800" pdcpRel="11"/>
      </tapa.send>

      <tapa.delay delay="1" />

     #Expect RRC Connection Reject at RLC
     <tapa.expect>
        <tapa.dummy.kwu.datreq rbId="1" tCrnti="2" cellId="1" 
                         />
     </tapa.expect>

     #RRC Connection establishment procedure
     <tapa.rrc.consetup cellId="1" ueId="2" tCrnti="2" /> 

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rrc.conrls ueId="2" cellId="1" />
      <tapa.rrc.cellcfg.rls cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

########################################
# RRC Connection release Test cases
########################################
#
#
#       Test:    15.3
#
#       Desc:    Successful RRC Connection Release Procedure.  
#
#       Notes:   None
#              
#       Module:  
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.3">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.8"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
           "Verifying the Release 11 IE's
            NhuRRCConRls_v1020_IEsextendedWaitTime_r10
            NhuARFCN_ValueEUTRA for lower range"
           "Pretest connecton Setup"
           "This test case will test the scenario of successful RRC connection 
            release procedure. It involves RRC connection release coming from 
            ENodeB, First, we will send a RRC Connection Release from RRC user 
            RRC. On receiving connection release message from RRC user, RRC will  
            pass this connection release to UE. And after getting 
            ACK from Lower layer for transmitted message, RRC will release all 
            the configuration of the lower layers RLC PDCP and MAC.
            RLC, PDCP and MAC layer will do the configuration and will send 
            back configuration confirm to RRC. On getting the configuration 
            confirm messages from RLC, PDCP and MAC, RRC will send Config 
            confirm message to RRC user"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # LM Configure
      <tapa.rrc.init />
   </tapa.cfg>

   <tapa.test>
	  
	  #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  #msgCategory=1 DLDCCH, msgType=5 Connection Rls
      #rrcTransIdPres="1" rrc TransID present.
      #bitMask=0, No Ue Configuration present.
      #We will Simply release all config after receiving
      #DatCfm Frpm PDCP
	  #RRC user sends RRC Connection Release Message to RRC User
      <tapa.send>
         <tapa.nhu.datreq spId="0" bitMask="0" msgCategory="1" msgType="5"
          transId="1" rrc_transId="1" pdcpId="1" ueId="1" cellId="1"
          valChk="0" arfcn_Valueutra="0" extendedWaitTime="1" pdcpRel="11"/>
      </tapa.send>

      <tapa.delay delay="5" />

     #Expect RRC Connection Release at PDCP
     <tapa.expect>
        <tapa.dummy.pju.datreq pdcpInstId="1" ueId="1" cellId="1"/>
     </tapa.expect>

      #Send RRC Connection Release sent confirm from PDCP
      <tapa.send>
        <tapa.dummy.pju.datcfm pdcpInstId="1" ueId="1" cellId="1"/>
      </tapa.send>

      <tapa.delay delay="5" />

	  #Expect Data Confirm at RRC user
     <tapa.expect>
        <tapa.nhu.datcfm />
     </tapa.expect>

      <tapa.delay delay="5" />
      
	  #Send Release Configuration to MAC, RLC and PDCP
     <tapa.expset>
         <tapa.dummy.crg.cfgreq store_tid="1"/>
         <tapa.dummy.ckw.cfgreq use="1"/>
         <tapa.dummy.cpj.cfgreq use="1"/>
     </tapa.expset>

	 <tapa.delay delay="5"/>

      <tapa.send>
         <tapa.dummy.ckw.cfgcfm   use="1" ueId="1"/>
     </tapa.send>

	 #status=0 success, 0x0f- Fail
	 <tapa.send>
         <tapa.dummy.crg.cfgcfm stored_tid="1" status="0" ueId="1"/>
      </tapa.send>

     #Send configuration confirm from PDCP
     <tapa.send>
         <tapa.dummy.cpj.cfgcfm  use="1" ueId="1"/>
     </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rrc.cellcfg.rls cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

########################################
# RRC Connection release Test cases
########################################
#
#
#       Test:    15.4
#
#       Desc:    Successful RRC Connection Release Procedure.  
#
#       Notes:   None
#              
#       Module:  
#
#       File:    nhac_tc4.xml
#
#
<tapa.testcase id="15.4">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.8"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
           "Verifying the Release 11 IE's 
            NhuRRCConRls_v1020_IEsextendedWaitTime_r10,
            NhuARFCN_ValueEUTRA for higher range"
           "Pretest connecton Setup"
           "This test case will test the scenario of successful RRC connection 
            release procedure. It involves RRC connection release coming from 
            ENodeB, First, we will send a RRC Connection Release from RRC user 
            RRC. On receiving connection release message from RRC user, RRC will  
            pass this connection release to UE. And after getting 
            ACK from Lower layer for transmitted message, RRC will release all 
            the configuration of the lower layers RLC PDCP and MAC.
            RLC, PDCP and MAC layer will do the configuration and will send 
            back configuration confirm to RRC. On getting the configuration 
            confirm messages from RLC, PDCP and MAC, RRC will send Config 
            confirm message to RRC user"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # LM Configure
      <tapa.rrc.init />
   </tapa.cfg>

   <tapa.test>
	  
	  #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  #msgCategory=1 DLDCCH, msgType=5 Connection Rls
      #rrcTransIdPres="1" rrc TransID present.
      #bitMask=0, No Ue Configuration present.
      #We will Simply release all config after receiving
      #DatCfm Frpm PDCP
	  #RRC user sends RRC Connection Release Message to RRC User
      <tapa.send>
         <tapa.nhu.datreq spId="0" bitMask="0" msgCategory="1" msgType="5"
          transId="1" rrc_transId="1" pdcpId="1" ueId="1" cellId="1"
          valChk="0" arfcn_Valueutra="16383" extendedWaitTime="1800"
          pdcpRel="11"/>
      </tapa.send>

      <tapa.delay delay="5" />

     #Expect RRC Connection Release at PDCP
     <tapa.expect>
        <tapa.dummy.pju.datreq pdcpInstId="1" ueId="1" cellId="1"/>
     </tapa.expect>

      #Send RRC Connection Release sent confirm from PDCP
      <tapa.send>
        <tapa.dummy.pju.datcfm pdcpInstId="1" ueId="1" cellId="1"/>
      </tapa.send>

      <tapa.delay delay="5" />

	  #Expect Data Confirm at RRC user
     <tapa.expect>
        <tapa.nhu.datcfm />
     </tapa.expect>

      <tapa.delay delay="5" />
      
	  #Send Release Configuration to MAC, RLC and PDCP
     <tapa.expset>
         <tapa.dummy.crg.cfgreq store_tid="1"/>
         <tapa.dummy.ckw.cfgreq use="1"/>
         <tapa.dummy.cpj.cfgreq use="1"/>
     </tapa.expset>

	 <tapa.delay delay="5"/>

      <tapa.send>
         <tapa.dummy.ckw.cfgcfm   use="1" ueId="1"/>
     </tapa.send>

	 #status=0 success, 0x0f- Fail
	 <tapa.send>
         <tapa.dummy.crg.cfgcfm stored_tid="1" status="0" ueId="1"/>
      </tapa.send>

     #Send configuration confirm from PDCP
     <tapa.send>
         <tapa.dummy.cpj.cfgcfm  use="1" ueId="1"/>
     </tapa.send>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rrc.cellcfg.rls cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    15.5
#
#       Desc:    Successful RRC Connection Reconfiguration that 
#                includes Radio Resource Configuration
#
#       Notes:   None
#              
#       Module:  
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.5">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "Verifying the Release 11 IE's
           NhuReportConfigEUTRAtriggerTypeventeventIdeventA6_r10a6_Offset_r10,
           NhuReportConfigEUTRAtriggerTypeventeventIdeventA6_r10a6_ReportOnLeave_r10
           for lower range"
          "In this case, RRC user will send RRC Connection Reconfiguration 
           message along with Reconfiguration details to RRC to send it to 
           UE in RRC_CONNECTED state." 
          "RRC will encode the Connection Reconfiguration message and send 
           it to UE."
          "UE will also do the configuration at its end and will send the 
           RRC Connection Reconfiguration Complete message to eNB."
          "On getting RRC Connection Reconfiguration Complete message from 
           PDCP, RRC will decode this message and if decode is successful, 
           RRC sends Configuration Request to RLC, MAC and PDCP. Then RRC 
           will forward the Reconfiguration Complete message to RRC user."
          "RLC, MAC and PDCP layers will do the configuration and will send 
           back configuration confirm to RRC. On getting all the 
           configuration confirm messages from RLC,MAC and PDCP, RRC will 
           send Config Confirm message to RRC user."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  #Send Connection Reconfiguration For ueId 1, cellId=1
      #msgCategory="1" DLDCCH, msgType="4" Connection recfg
      #expCfgBitMask=1 Only RbConfig is given
      #Adding 1 SRB, 2 DRBs rbCfgType="1"
	  #logChType="3" id logical chanel type DLDCCH=3(enum)
	  #addLcIdStr logical channels wrt to RBs added
	  #addBitMskStr direction UL/DL/PDCP for RBs added
	  #trChCfgDed=0 indicates transport channel config not present.
	  #macSchedCfg="0" indicates MAC Scheduling config not present.
	  <tapa.send>
         <tapa.nhu.datreq spId="0" bitMask="2" expCfgBitMask="1"
		 msgCategory="1" msgType="4" transId="1" rrc_transId="1"
		 cellId="1" ueId="1" pdcpId="1" numAddRb="3" addRbIdStr="2,0,3,1,4,1"
       addLcIdStr="2,3,4" addBitMskStr="7,6,5" rbCfgType="1" logChType="3"
		 trChCfgDed="0" macSchedCfg="0" a6_Offset_r10="-30"
       a6_ReportOnLeave_r10="0" pdcpRel="11"/>
      </tapa.send>

	  <tapa.delay delay="5" />
	  
 
     #Expect Lower Layer configurations
     #Expect Conn Recfg Complete at NHU  
      <tapa.expset>
         <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="0"/>
		 <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="1"/>
		 <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="2" cleanup="1"/>
         <tapa.dummy.ckw.cfgreq  use="1" ueIdPres="1" valUeId="1" cleanup="1"/>
		 <tapa.dummy.cpj.cfgreq  use="1" ueIdPres="1" valUeId="1" cleanup="1"/>
      </tapa.expset>
     
     <tapa.send>
         <tapa.dummy.ckw.cfgcfm   use="1" ueId="1"/>
     </tapa.send>
     
     <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

	 <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

	 <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

     <tapa.send>
         <tapa.dummy.cpj.cfgcfm   use="1" ueId="1"/>
     </tapa.send>

     <tapa.delay delay="5" />

	  #Expect Conn Recfg PJU/PDCP
      <tapa.expect>
         <tapa.dummy.pju.datreq ueId="1" cellId="1" pdcpInstId="1"/>
      </tapa.expect>

     <tapa.expect>
        <tapa.nhu.cfgcfm/>
     </tapa.expect>

	  <tapa.delay delay="5" />

	  # Send Conn Recfg Complete
      # msgType="3" Conn Recfg Complete
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="2" spId="0" suId="0"
         ueId="1" cellId="1"/>
      </tapa.send>

     <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
     </tapa.expect>

	  <tapa.delay delay="5" />

   </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    15.6
#
#       Desc:    Successful RRC Connection Reconfiguration that 
#                includes Radio Resource Configuration
#
#       Notes:   None
#              
#       Module:  
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.6">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "Verifying the Release 11 IE's
           NhuReportConfigEUTRAtriggerTypeventeventIdeventA6_r10a6_Offset_r10,
           NhuReportConfigEUTRAtriggerTypeventeventIdeventA6_r10a6_ReportOnLeave_r10
           for higher range"
          "In this case, RRC user will send RRC Connection Reconfiguration 
           message along with Reconfiguration details to RRC to send it to 
           UE in RRC_CONNECTED state." 
          "RRC will encode the Connection Reconfiguration message and send 
           it to UE."
          "UE will also do the configuration at its end and will send the 
           RRC Connection Reconfiguration Complete message to eNB."
          "On getting RRC Connection Reconfiguration Complete message from 
           PDCP, RRC will decode this message and if decode is successful, 
           RRC sends Configuration Request to RLC, MAC and PDCP. Then RRC 
           will forward the Reconfiguration Complete message to RRC user."
          "RLC, MAC and PDCP layers will do the configuration and will send 
           back configuration confirm to RRC. On getting all the 
           configuration confirm messages from RLC,MAC and PDCP, RRC will 
           send Config Confirm message to RRC user."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  #Send Connection Reconfiguration For ueId 1, cellId=1
      #msgCategory="1" DLDCCH, msgType="4" Connection recfg
      #expCfgBitMask=1 Only RbConfig is given
      #Adding 1 SRB, 2 DRBs rbCfgType="1"
	  #logChType="3" id logical chanel type DLDCCH=3(enum)
	  #addLcIdStr logical channels wrt to RBs added
	  #addBitMskStr direction UL/DL/PDCP for RBs added
	  #trChCfgDed=0 indicates transport channel config not present.
	  #macSchedCfg="0" indicates MAC Scheduling config not present.
	  <tapa.send>
         <tapa.nhu.datreq spId="0" bitMask="2" expCfgBitMask="1"
		 msgCategory="1" msgType="4" transId="1" rrc_transId="1"
		 cellId="1" ueId="1" pdcpId="1" numAddRb="3" addRbIdStr="2,0,3,1,4,1"
       addLcIdStr="2,3,4" addBitMskStr="7,6,5" rbCfgType="1" logChType="3"
		 trChCfgDed="0" macSchedCfg="0" a6_Offset_r10="30"
       a6_ReportOnLeave_r10="1" pdcpRel="11"/>
      </tapa.send>

	  <tapa.delay delay="5" />
	  
 
     #Expect Lower Layer configurations
     #Expect Conn Recfg Complete at NHU  
      <tapa.expset>
         <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="0"/>
		 <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="1"/>
		 <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="2" cleanup="1"/>
         <tapa.dummy.ckw.cfgreq  use="1" ueIdPres="1" valUeId="1" cleanup="1"/>
		 <tapa.dummy.cpj.cfgreq  use="1" ueIdPres="1" valUeId="1" cleanup="1"/>
      </tapa.expset>
     
     <tapa.send>
         <tapa.dummy.ckw.cfgcfm   use="1" ueId="1"/>
     </tapa.send>
     
     <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

	 <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

	 <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

     <tapa.send>
         <tapa.dummy.cpj.cfgcfm   use="1" ueId="1"/>
     </tapa.send>

     <tapa.delay delay="5" />

	  #Expect Conn Recfg PJU/PDCP
      <tapa.expect>
         <tapa.dummy.pju.datreq ueId="1" cellId="1" pdcpInstId="1"/>
      </tapa.expect>

     <tapa.expect>
        <tapa.nhu.cfgcfm/>
     </tapa.expect>

	  <tapa.delay delay="5" />

	  # Send Conn Recfg Complete
      # msgType="3" Conn Recfg Complete
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="2" spId="0" suId="0"
         ueId="1" cellId="1"/>
      </tapa.send>

     <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
     </tapa.expect>

	  <tapa.delay delay="5" />

   </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    15.7
#
#       Desc:    Verification of Handover from E-UTRA Preparation(CDMA2000)
#                procedure successful scenario.
#
#       Notes:   None
#              
#       Module:  rrc.cpm
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.7">
   <tapa.attribute scenarioType="NORMAL"/>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331-8.5.0" section="5.4.4, 5.4.5"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
           "Verifying the Release 11 IE
            NhuARFCN_ValueCDMA2000
            for lower range"
           "This test case tests the scenario of successful Handover from"
           "E-UTRA Preparation(CDMA2000) procedure.

           "Pretest includes RRC layer initialization,Cell Configuration,"
           "Connection Setup and Security Activation."

           "It involves sending of the Handover from E-UTRA Preparation"
           "Request message(with all the mandatory and correct values filled)"
           "from RRC user to RRC for transmission to UE." 
 
           "RRC on getting this message checks whether the UE context exists"
           "and if exists, checks if security is activated. RRC then encodes"
           "this message and sends the message to PDCP for transmission to UE." 

           "UE on getting this message, sends UL handover preparation transfer"
           "(CDMA2000) to eNB. RRC on getting this message, decodes the message"
           "and gives it to RRC user.

           Steps:
           "1. RRC user sends Handover from E-UTRA Preparation Request message"
               to RRC using NhUiNhuDatReq(tapa.nhu.datreq)."
           "2. RRC sends the message using NhLiPjuDatReq to PDCP.tapa.pju.datreq
               is used to expect message at PDCP."
           "3. Arrival of UL Handover preparation Transfer message from PDCP 
               is indicated to RRC using NhLiPjuDatInd(tapa.pju.datind)."
           "4. RRC sends this message to RRC user using NhUiNhuDatInd 
               (tapa.nhu.datind)."

      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Bring up the RRC layer using LM
      <tapa.rrc.init />
      # Configure Cell 
      <tapa.rrc.cellcfg cellId="1"/>
      # Connection setup procedure 
      <tapa.rrc.consetup ueId="2" cellId="1" tCrnti="2"/>
      # Security activation procedure 
      <tapa.rrc.security_actv ueId="2" cellId="1"/>
   </tapa.cfg>

   <tapa.test>
      # Send HO From E-UTRA Preparation Request to PDCP from RRC user
      <tapa.send>
         <tapa.nhu.datreq spId="0" cellId="1" ueId="2" msgCategory="1"
         msgType="2" transId="6" rrc_transId="1"  valChk="0" pdcpId="1"
         arfcn="0" pdcpRel="11"/>
      </tapa.send>

     <tapa.delay delay="1" />

     #Expect HO From E-UTRA Preparation Request at PJU/PDCP
     <tapa.expect>
         <tapa.dummy.pju.datreq ueId="2" cellId="1" pdcpInstId="1"/>
      </tapa.expect>

     # Send Dat ind from PDCP
     <tapa.send>
         <tapa.dummy.pju.datind pdcpInstId="1" msgType="8" spId="0" suId="0"
                  ueId="2" cellId="1" />
     </tapa.send>

      <tapa.delay delay="2" />

     # Expect Dat ind at RRC User
     <tapa.expect>
         <tapa.nhu.datind ueId="2" />
     </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    15.8
#
#       Desc:    Verification of Handover from E-UTRA Preparation(CDMA2000)
#                procedure successful scenario.
#
#       Notes:   None
#              
#       Module:  rrc.cpm
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.8">
   <tapa.attribute scenarioType="NORMAL"/>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331-8.5.0" section="5.4.4, 5.4.5"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
           "Verifying the Release 11 IE 
            NhuARFCN_ValueCDMA2000 
            for higher range"
           "This test case tests the scenario of successful Handover from"
           "E-UTRA Preparation(CDMA2000) procedure.

           "Pretest includes RRC layer initialization,Cell Configuration,"
           "Connection Setup and Security Activation."

           "It involves sending of the Handover from E-UTRA Preparation"
           "Request message(with all the mandatory and correct values filled)"
           "from RRC user to RRC for transmission to UE." 
 
           "RRC on getting this message checks whether the UE context exists"
           "and if exists, checks if security is activated. RRC then encodes"
           "this message and sends the message to PDCP for transmission to UE." 

           "UE on getting this message, sends UL handover preparation transfer"
           "(CDMA2000) to eNB. RRC on getting this message, decodes the message"
           "and gives it to RRC user.

           Steps:
           "1. RRC user sends Handover from E-UTRA Preparation Request message"
               to RRC using NhUiNhuDatReq(tapa.nhu.datreq)."
           "2. RRC sends the message using NhLiPjuDatReq to PDCP.tapa.pju.datreq
               is used to expect message at PDCP."
           "3. Arrival of UL Handover preparation Transfer message from PDCP 
               is indicated to RRC using NhLiPjuDatInd(tapa.pju.datind)."
           "4. RRC sends this message to RRC user using NhUiNhuDatInd 
               (tapa.nhu.datind)."

      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Bring up the RRC layer using LM
      <tapa.rrc.init />
      # Configure Cell 
      <tapa.rrc.cellcfg cellId="1"/>
      # Connection setup procedure 
      <tapa.rrc.consetup ueId="2" cellId="1" tCrnti="2"/>
      # Security activation procedure 
      <tapa.rrc.security_actv ueId="2" cellId="1"/>
   </tapa.cfg>

   <tapa.test>
      # Send HO From E-UTRA Preparation Request to PDCP from RRC user
      <tapa.send>
         <tapa.nhu.datreq spId="0" cellId="1" ueId="2" msgCategory="1"
         msgType="2" transId="6" rrc_transId="1"  valChk="0" pdcpId="1"
         arfcn="2047" pdcpRel="11"/>
      </tapa.send>

     <tapa.delay delay="1" />

     #Expect HO From E-UTRA Preparation Request at PJU/PDCP
     <tapa.expect>
         <tapa.dummy.pju.datreq ueId="2" cellId="1" pdcpInstId="1"/>
      </tapa.expect>

     # Send Dat ind from PDCP
     <tapa.send>
         <tapa.dummy.pju.datind pdcpInstId="1" msgType="8" spId="0" suId="0"
                  ueId="2" cellId="1" />
     </tapa.send>

      <tapa.delay delay="2" />

     # Expect Dat ind at RRC User
     <tapa.expect>
         <tapa.nhu.datind ueId="2" />
     </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    15.9
#
#       Desc:    Successful RRC Connection Reconfiguration that 
#                includes Radio Resource Configuration
#
#       Notes:   None
#              
#       Module:  
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.9">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "Verifying the Release 11 IE's
           NhuPhysicalConfigDedicatedextaddgrp_2cif_Presence_r10,
           NhuCQI_ReportPeriodic_r10setupcqi_PUCCH_ResourceIdx_r10,
           NhuCQI_ReportPeriodic_r10setupcqi_pmi_ConfigIdx,
           NhuCQI_ReportPeriodic_r10setupri_ConfigIdx,
           NhuCSI_RS_Config_r10csi_RS_r10setupresourceConfig_r10,
           NhuCSI_RS_Config_r10csi_RS_r10setupp_C_r10,
           NhuPUCCH_ConfigDedicated_v1020pucch_Format_r10format3_r10n3PUCCH_AN_Lst_r10Member,
           NhuPUSCH_ConfigDedicated_v1020betaOffsetMC_r10betaOffset_ACK_Idx_MC_r10,
           NhuSchedulingRqstConfig_v1020sr_PUCCH_ResourceIdxP1_r10
           for lower range"
          "In this case, RRC user will send RRC Connection Reconfiguration 
           message along with Reconfiguration details to RRC to send it to 
           UE in RRC_CONNECTED state." 
          "RRC will encode the Connection Reconfiguration message and send 
           it to UE."
          "UE will also do the configuration at its end and will send the 
           RRC Connection Reconfiguration Complete message to eNB."
          "On getting RRC Connection Reconfiguration Complete message from 
           PDCP, RRC will decode this message and if decode is successful, 
           RRC sends Configuration Request to RLC, MAC and PDCP. Then RRC 
           will forward the Reconfiguration Complete message to RRC user."
          "RLC, MAC and PDCP layers will do the configuration and will send 
           back configuration confirm to RRC. On getting all the 
           configuration confirm messages from RLC,MAC and PDCP, RRC will 
           send Config Confirm message to RRC user."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  #Send Connection Reconfiguration For ueId 1, cellId=1
      #msgCategory="1" DLDCCH, msgType="4" Connection recfg
      #expCfgBitMask=1 Only RbConfig is given
      #Adding 1 SRB, 2 DRBs rbCfgType="1"
	  #logChType="3" id logical chanel type DLDCCH=3(enum)
	  #addLcIdStr logical channels wrt to RBs added
	  #addBitMskStr direction UL/DL/PDCP for RBs added
	  #trChCfgDed=0 indicates transport channel config not present.
	  #macSchedCfg="0" indicates MAC Scheduling config not present.
	  <tapa.send>
         <tapa.nhu.datreq spId="0" bitMask="2" expCfgBitMask="1"
		 msgCategory="1" msgType="4" transId="1" rrc_transId="1"
		 cellId="1" ueId="1" pdcpId="1" numAddRb="3" addRbIdStr="2,0,3,1,4,1"
       addLcIdStr="2,3,4" addBitMskStr="7,6,5" rbCfgType="1" logChType="3"
		 trChCfgDed="0" macSchedCfg="0" cifPresence="0" cqiPUCCHResIdxr10="0"
       cqipmiCfgIdx="0" riCfgIdx="0" resourceConfigr10="0" pcr10="-8" 
       n3PUCCHAnLstMem="0" AckIdxMc="0" srPucchResIdxP1="0" pdcpRel="11"/>
      </tapa.send>

	  <tapa.delay delay="5" />
	  
 
     #Expect Lower Layer configurations
     #Expect Conn Recfg Complete at NHU  
      <tapa.expset>
         <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="0"/>
		 <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="1"/>
		 <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="2" cleanup="1"/>
         <tapa.dummy.ckw.cfgreq  use="1" ueIdPres="1" valUeId="1" cleanup="1"/>
		 <tapa.dummy.cpj.cfgreq  use="1" ueIdPres="1" valUeId="1" cleanup="1"/>
      </tapa.expset>
     
     <tapa.send>
         <tapa.dummy.ckw.cfgcfm   use="1" ueId="1"/>
     </tapa.send>
     
     <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

	 <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

	 <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

     <tapa.send>
         <tapa.dummy.cpj.cfgcfm   use="1" ueId="1"/>
     </tapa.send>

     <tapa.delay delay="5" />

	  #Expect Conn Recfg PJU/PDCP
      <tapa.expect>
         <tapa.dummy.pju.datreq ueId="1" cellId="1" pdcpInstId="1"/>
      </tapa.expect>

     <tapa.expect>
        <tapa.nhu.cfgcfm/>
     </tapa.expect>

	  <tapa.delay delay="5" />

	  # Send Conn Recfg Complete
      # msgType="3" Conn Recfg Complete
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="2" spId="0" suId="0"
         ueId="1" cellId="1"/>
      </tapa.send>

     <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
     </tapa.expect>

	  <tapa.delay delay="5" />

   </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    15.10
#
#       Desc:    Successful RRC Connection Reconfiguration that 
#                includes Radio Resource Configuration
#
#       Notes:   None
#              
#       Module:  
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.10">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "Verifying the Release 11 IE's
           NhuPhysicalConfigDedicatedextaddgrp_2cif_Presence_r10,
           NhuCQI_ReportPeriodic_r10setupcqi_PUCCH_ResourceIdx_r10,
           NhuCQI_ReportPeriodic_r10setupcqi_pmi_ConfigIdx,
           NhuCQI_ReportPeriodic_r10setupri_ConfigIdx,
           NhuCSI_RS_Config_r10csi_RS_r10setupresourceConfig_r10,
           NhuCSI_RS_Config_r10csi_RS_r10setupp_C_r10,
           NhuPUCCH_ConfigDedicated_v1020pucch_Format_r10format3_r10n3PUCCH_AN_Lst_r10Member,
           NhuPUSCH_ConfigDedicated_v1020betaOffsetMC_r10betaOffset_ACK_Idx_MC_r10,
           NhuSchedulingRqstConfig_v1020sr_PUCCH_ResourceIdxP1_r10
           for higher range"
          "In this case, RRC user will send RRC Connection Reconfiguration 
           message along with Reconfiguration details to RRC to send it to 
           UE in RRC_CONNECTED state." 
          "RRC will encode the Connection Reconfiguration message and send 
           it to UE."
          "UE will also do the configuration at its end and will send the 
           RRC Connection Reconfiguration Complete message to eNB."
          "On getting RRC Connection Reconfiguration Complete message from 
           PDCP, RRC will decode this message and if decode is successful, 
           RRC sends Configuration Request to RLC, MAC and PDCP. Then RRC 
           will forward the Reconfiguration Complete message to RRC user."
          "RLC, MAC and PDCP layers will do the configuration and will send 
           back configuration confirm to RRC. On getting all the 
           configuration confirm messages from RLC,MAC and PDCP, RRC will 
           send Config Confirm message to RRC user."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  #Send Connection Reconfiguration For ueId 1, cellId=1
      #msgCategory="1" DLDCCH, msgType="4" Connection recfg
      #expCfgBitMask=1 Only RbConfig is given
      #Adding 1 SRB, 2 DRBs rbCfgType="1"
	  #logChType="3" id logical chanel type DLDCCH=3(enum)
	  #addLcIdStr logical channels wrt to RBs added
	  #addBitMskStr direction UL/DL/PDCP for RBs added
	  #trChCfgDed=0 indicates transport channel config not present.
	  #macSchedCfg="0" indicates MAC Scheduling config not present.
	  <tapa.send>
         <tapa.nhu.datreq spId="0" bitMask="2" expCfgBitMask="1"
		 msgCategory="1" msgType="4" transId="1" rrc_transId="1"
		 cellId="1" ueId="1" pdcpId="1" numAddRb="3" addRbIdStr="2,0,3,1,4,1"
       addLcIdStr="2,3,4" addBitMskStr="7,6,5" rbCfgType="1" logChType="3"
		 trChCfgDed="0" macSchedCfg="0" cifPresence="1" cqiPUCCHResIdxr10="1184"
       cqipmiCfgIdx="1023" riCfgIdx="1023" resourceConfigr10="31" pcr10="15" 
       n3PUCCHAnLstMem="549" AckIdxMc="15" srPucchResIdxP1="2047" pdcpRel="11"/>
      </tapa.send>

	  <tapa.delay delay="5" />
	  
 
     #Expect Lower Layer configurations
     #Expect Conn Recfg Complete at NHU  
      <tapa.expset>
         <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="0"/>
		 <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="1"/>
		 <tapa.dummy.crg.cfgreq  store_tid="1" ueIdPres="1" valUeId="1" rbIdx="2" cleanup="1"/>
         <tapa.dummy.ckw.cfgreq  use="1" ueIdPres="1" valUeId="1" cleanup="1"/>
		 <tapa.dummy.cpj.cfgreq  use="1" ueIdPres="1" valUeId="1" cleanup="1"/>
      </tapa.expset>
     
     <tapa.send>
         <tapa.dummy.ckw.cfgcfm   use="1" ueId="1"/>
     </tapa.send>
     
     <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

	 <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

	 <tapa.send>
         <tapa.dummy.crg.cfgcfm   stored_tid="1" ueId="1"/>
     </tapa.send>

     <tapa.send>
         <tapa.dummy.cpj.cfgcfm   use="1" ueId="1"/>
     </tapa.send>

     <tapa.delay delay="5" />

	  #Expect Conn Recfg PJU/PDCP
      <tapa.expect>
         <tapa.dummy.pju.datreq ueId="1" cellId="1" pdcpInstId="1"/>
      </tapa.expect>

     <tapa.expect>
        <tapa.nhu.cfgcfm/>
     </tapa.expect>

	  <tapa.delay delay="5" />

	  # Send Conn Recfg Complete
      # msgType="3" Conn Recfg Complete
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="2" spId="0" suId="0"
         ueId="1" cellId="1"/>
      </tapa.send>

     <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
     </tapa.expect>

	  <tapa.delay delay="5" />

   </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    15.11
#
#       Desc:    Verification of successful encoding of HO Preparation 
#                Information message.
#
#       Notes:   None
#              
#       Module:  rrc.uim
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.11">
   <tapa.attribute scenarioType="NORMAL"/>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331-8.5.0" section="10.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
           "Verifying the Release 11 IE's 
            NhuSCellIdx_r10,
            NhuPhysCellId,
            NhuARFCN_ValueEUTRA,
            NhuPDSCH_ConfigCmnp_b,
            NhuPRACH_ConfigSCell_r10prach_ConfigIdx_r10,
            NhuUL_ReferenceSignalsPUSCHcyclicShift,
            NhuUlnkPowerCntrlDedicatedSCell_r10pSRS_Offset_r10,
            NhuSRS_ConfigAp_r10transmissionCombAp_r10,
            NhuSoundingRS_UL_ConfigDedicatedsetupfreqDomainPosition
            for lower range"
           "This test case tests the successful encoding of inter-node Handover"
           "Preparation Information."

           "Pretest includes RRC layer initialization,Cell Configuration."

           "It involves sending of Handover Preparation Information message from"
           "RRC user to RRC by filling all the mandatory fields."
 
           "RRC on getting this message encodes the message and gives it back to"
           "RRC user using encode confirm."

           Steps:
           "1. RRC user sends encode request to RRC using NhUiNhuEncodeReq
               (tapa.nhu.encreq) to encode Handover Preparation Information 
               message."
           "2. RRC encodes and gives encoded message in confirm using  
               NhUiNhuEncodeCfm(tapa.nhu.enccfm)."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Bring up the RRC layer using LM
      <tapa.rrc.init />
      # Configure Cell
      <tapa.rrc.cellcfg cellId="1"/>
      # Connection setup procedure
      <tapa.rrc.consetup ueId="2" cellId="1" tCrnti="2"/>
   </tapa.cfg>

   <tapa.test>
     #Send Handover Preparation Information message to encode to RRC
     <tapa.send>
        <tapa.nhu.encodereq ueId="2" cellId="1" transId="10" msgType="11" numAddRb="2" 
         addRbIdStr="3,1,5,1" sCellIdx="1" physCellId="0" dlCarrierFreq="0" 
         pb="0" prachCfgIdx="0" cyclicShift="0" pSRSOffset="0"
         transmissionCombAp="0" freqDomainPosition="0" pdcpRel="11"/>
     </tapa.send>
     #Expect encode confirm
     <tapa.expect>
         <tapa.nhu.encodecfm ueId="2" cellId="1" encMsgType="11" status="0"/>
     </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

   </tapa.testcase>

#
#
#       Test:    15.12
#
#       Desc:    Verification of successful encoding of HO Preparation 
#                Information message.
#
#       Notes:   None
#              
#       Module:  rrc.uim
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.12">
   <tapa.attribute scenarioType="NORMAL"/>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331-8.5.0" section="10.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
           "Verifying the Release 11 IE's 
            NhuSCellIdx_r10, 
            NhuPhysCellId, 
            NhuARFCN_ValueEUTRA,
            NhuPDSCH_ConfigCmnp_b,
            NhuPRACH_ConfigSCell_r10prach_ConfigIdx_r10,
            NhuUL_ReferenceSignalsPUSCHcyclicShift,
            NhuUlnkPowerCntrlDedicatedSCell_r10pSRS_Offset_r10,
            NhuSRS_ConfigAp_r10transmissionCombAp_r10,
            NhuSoundingRS_UL_ConfigDedicatedsetupfreqDomainPosition
            for higher range"
           "This test case tests the successful encoding of inter-node Handover"
           "Preparation Information."

           "Pretest includes RRC layer initialization,Cell Configuration."

           "It involves sending of Handover Preparation Information message from"
           "RRC user to RRC by filling all the mandatory fields."
 
           "RRC on getting this message encodes the message and gives it back to"
           "RRC user using encode confirm."

           Steps:
           "1. RRC user sends encode request to RRC using NhUiNhuEncodeReq
               (tapa.nhu.encreq) to encode Handover Preparation Information 
               message."
           "2. RRC encodes and gives encoded message in confirm using  
               NhUiNhuEncodeCfm(tapa.nhu.enccfm)."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Bring up the RRC layer using LM
      <tapa.rrc.init />
      # Configure Cell
      <tapa.rrc.cellcfg cellId="1"/>
      # Connection setup procedure
      <tapa.rrc.consetup ueId="2" cellId="1" tCrnti="2"/>
   </tapa.cfg>

   <tapa.test>
     #Send Handover Preparation Information message to encode to RRC
     <tapa.send>
        <tapa.nhu.encodereq ueId="2" cellId="1" transId="10" msgType="11" numAddRb="2" 
         addRbIdStr="3,1,5,1" sCellIdx="7" physCellId="503" dlCarrierFreq="65535" 
         pb="3" prachCfgIdx="63" cyclicShift="7" pSRSOffset="15"
         transmissionCombAp="1" freqDomainPosition="23" pdcpRel="11"/>
     </tapa.send>
     #Expect encode confirm
     <tapa.expect>
         <tapa.nhu.encodecfm ueId="2" cellId="1" encMsgType="11" status="0"/>
     </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean>
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

   </tapa.testcase>

#
#
#
#       Test:    15.13
#
#       Desc:    Successful RN Reconfiguration
#           
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.13">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case, RRC user will send RN Reconfiguration 
           message to RRC." 
          "Verifying the Release 11 IE's 
           NhuRN_SubfrmConfig_r10subframeConfigPattern_r10subframeConfigPatternTDD_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10tddchannelSelectionMultiplexingBundlingn1PUCCH_AN_Lst_r10Member,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10tddfallbackForFormat3n1PUCCH_AN_P0_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10tddfallbackForFormat3n1PUCCH_AN_P1_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10fddn1PUCCH_AN_P0_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10fddn1PUCCH_AN_P1_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pdsch_Start_r10
           for lower range"
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  #Send RN Reconfiguration For ueId 1, cellId=1
      #msgCategory="1" DLDCCH, msgType="11" RN recfg
         <tapa.send>
         <tapa.nhu.encodereq spId="0" bitMask="2" expCfgBitMask="33"
		 msgCategory="11" msgType="1" transId="1" rrc_transId="1"
		 cellId="1" ueId="1" subframeCfgPatternTDD="1" 
       n1PUCCHANLstMem="1" n1PucchAnP0="1" pdschStart="1"
       n1PucchAnP1="1" fddn1PucchAnP0="1" fddn1PucchAnP1="1" pdcpRel="11"/>
      </tapa.send>

	  <tapa.delay delay="1" />

       #Expect encode confirm
      <tapa.expect>
      <tapa.nhu.encodecfm ueId="1" cellId="1" encMsgType="1" status="0"
                       storeEncMsg="TRUE"/>
      </tapa.expect>

     </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#
#       Test:    15.14
#
#       Desc:    Successful RN Reconfiguration 
#
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.14">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case, RRC user will send RN Reconfiguration 
           message to RRC ." 
          "Verifying the Release 11 IE's
           NhuRN_SubfrmConfig_r10subframeConfigPattern_r10subframeConfigPatternTDD_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10tddchannelSelectionMultiplexingBundlingn1PUCCH_AN_Lst_r10Member,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10tddfallbackForFormat3n1PUCCH_AN_P0_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10tddfallbackForFormat3n1PUCCH_AN_P1_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10fddn1PUCCH_AN_P0_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pucch_Config_r10fddn1PUCCH_AN_P1_r10,
           NhuRN_SubfrmConfig_r10rpdcch_Config_r10pdsch_Start_r10
           for higher range"
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  #Send RN Reconfiguration For ueId 1, cellId=1
      #msgCategory="1" DLDCCH, msgType="11" Rn recfg
         <tapa.send>
         <tapa.nhu.encodereq spId="0" bitMask="2" expCfgBitMask="33"
		 msgCategory="11" msgType="1" transId="1" rrc_transId="1"
		 cellId="1" ueId="1" pdcpId="1" subframeCfgPatternTDD="31" 
       n1PUCCHANLstMem="2047" n1PucchAnP0="2047" pdschStart="3"
       n1PucchAnP1="2047" fddn1PucchAnP0="2047" fddn1PucchAnP1="2047"
       pdcpRel="11"/>
      </tapa.send>


	  <tapa.delay delay="1" />

     #Expect encode confirm
      <tapa.expect>
      <tapa.nhu.encodecfm ueId="1" cellId="1" encMsgType="1" status="0"
                       storeEncMsg="TRUE"/>
      </tapa.expect>

     </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>


#
#
#
#       Test:    15.15
#
#       Desc:    Successful Logged Measurement configuration
#           
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.15">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case, RRC user will send Logged Measurement Configuration
           message to RRC ."
          "Verifying Release 11 IE's 
           NhuLoggingInterval_r10,
           NhuLoggingDuration_r10 
           for lower range"
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  #Send Logged Measurement Configuration For ueId 1, cellId=1
      #msgCategory="1" DLDCCH, msgType="10" Logged Meas Cfg
         <tapa.send>
         <tapa.nhu.encodereq spId="0" bitMask="2" expCfgBitMask="33"
		 msgCategory="10" msgType="1" transId="1" rrc_transId="1"
		 cellId="1" ueId="1" loggingDuration="0" loggingInterval="0"
       pdcpRel="11"/>
      </tapa.send>


	  <tapa.delay delay="1" />

     #Expect encode confirm
      <tapa.expect>
      <tapa.nhu.encodecfm ueId="1" cellId="1" encMsgType="1" status="0"
                       storeEncMsg="TRUE"/>
      </tapa.expect>


     </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#
#       Test:    15.16
#
#       Desc:    Successful Logged Measurement configuration
#           
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.16">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case, RRC user will send Logged Measurement Configuration
           message to RRC ."
          "Verifying Release 11 IE's 
           NhuLoggingInterval_r10,
           NhuLoggingDuration_r10
           for higher range "
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  #Send Logged Measurement Configuration For ueId 1, cellId=1
      #msgCategory="1" DLDCCH, msgType="10" Logged Meas Cfg
         <tapa.send>
         <tapa.nhu.encodereq spId="0" bitMask="2" expCfgBitMask="33"
		 msgCategory="10" msgType="1" transId="1" rrc_transId="1"
		 cellId="1" ueId="1" loggingDuration="7" loggingInterval="7"
       pdcpRel="11"/>
      </tapa.send>

	  <tapa.delay delay="1" />

     #Expect encode confirm
      <tapa.expect>
      <tapa.nhu.encodecfm ueId="1" cellId="1" encMsgType="1" status="0"
                       storeEncMsg="TRUE"/>
      </tapa.expect>


     </tapa.test>

   # Clean subsection
   <tapa.clean>
      <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>


#
#
#
#       Test:    15.17
#
#       Desc:    Successful RN Reconfiguration complete
#
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.17">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case RRC sends the RN Reconfiguration Complete
           message to RRC user."
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  # Send RN Recfg Complete
      # msgType="13" RN Recfg Complete
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="13" spId="0" suId="0"
         ueId="1" cellId="1" pdcpRel="11"/>
      </tapa.send>

     #Expect dat ind at NHU 
      <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
      </tapa.expect>

	     </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#
#       Test:    15.18
#
#       Desc:    MBMS Counting Response
#
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.18">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case RRC sends the MBMS Counting Response message
           to RRC user."
          "Verifying the Release 11 IE's
           NhuMBMSCountingRsp_r10_IEsmbsfn_AreaIdx_r10mbsfnAreaIdx,
           NhuCountingRspInfo_r10countingRspService_r10
           for lower range"
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  # Send MBMS Counting Response
      # msgType="14" MBMS Counting Response
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="14" spId="0" suId="0"
         ueId="1" cellId="1" mbsfnAreaIdx="0" cntRspService="0" pdcpRel="11"/>
      </tapa.send>

     #Expect dat ind at NHU 
      <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
      </tapa.expect>

	     </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#
#       Test:    15.19
#
#       Desc:    MBMS Counting Response
#
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.19">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case 
           RRC sends the MBMS Counting Response message to RRC user."
          "Verifying the Release 11 IE's 
           NhuMBMSCountingRsp_r10_IEsmbsfn_AreaIdx_r10mbsfnAreaIdx,
           NhuCountingRspInfo_r10countingRspService_r10
           for higher range"
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  # Send MBMS Counting Response
      # msgType="14" MBMS Counting Response
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="14" spId="0" suId="0"
         ueId="1" cellId="1" mbsfnAreaIdx="7" cntRspService="15" pdcpRel="11"/>
      </tapa.send>

     #Expect dat ind at NHU 
      <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
      </tapa.expect>

	     </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#
#       Test:    15.20
#
#       Desc:    Inter Frequency RSTD Measurement Indication
#
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.20">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case RRC sends the Inter Frequency RSTD Measurement
           Indication message to RRC user."
          "Verifying the Release 11 IE's 
           NhuARFCN_ValueEUTRA,
           NhuRSTD_InterFreqInfo_r10measPRS_Offset_r10
           for lower range"
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  # Send Inter Frequency RSTD Measurement Indication
      # msgType="15" Inter Frequency RSTD Measurement Indication
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="15" spId="0" suId="0"
         ueId="1" cellId="1" measPrsOffset="0" carrierFreq="0" pdcpRel="11"/>
      </tapa.send>

     #Expect dat ind at NHU 
      <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
      </tapa.expect>

	     </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>

#
#
#
#       Test:    15.21
#
#       Desc:    Inter Frequency RSTD Measurement Indication
#
#       Notes:   None
#              
#       Module:  (TC # 6.1)
#
#       File:    nhac_tc15.xml
#
#
<tapa.testcase id="15.21">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="36.331" section="5.3.5 and 6.2.2"/>
      <tapa.module id="lterrc"/>

      <tapa.desc>
          "In this case RRC sends the Inter Frequency RSTD Measurement
           Indication message to RRC user."
          "Verifying the Release 11 IE's
           NhuARFCN_ValueEUTRA,
           NhuRSTD_InterFreqInfo_r10measPRS_Offset_r10
           for higher range"
      </tapa.desc>

      <tapa.longdesc/>

      </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      #Configure RRC
      <tapa.rrc.init />
   </tapa.cfg>

   # Test Steps subsection
  <tapa.test>

      #Cell Configuration Setup
      <tapa.rrc.cellcfg cellCfgType="1" transId="3" cellId="1" />

      #carry Out connection establishment for UE 1
      <tapa.rrc.consetup ueId="1" cellId="1" tCrnti="1"/>

	  <tapa.rrc.security_actv ueId="1" cellId="1"/>

	  
	  # Send Inter Frequency RSTD Measurement Indication
      # msgType="15" Inter Frequency RSTD Measurement Indication
      # cellId and ueId should be passed.
      <tapa.send>
        <tapa.dummy.pju.datind pdcpInstId="1" msgType="15" spId="0" suId="0"
         ueId="1" cellId="1" measPrsOffset="39" carrierFreq="65535"
         pdcpRel="11"/>
      </tapa.send>

     #Expect dat ind at NHU 
      <tapa.expect>
		 <tapa.nhu.datind ueId="1" cellId="1"/>
      </tapa.expect>

	     </tapa.test>

  # Clean subsection
   <tapa.clean>
   <tapa.rrc.conrls ueId="1" cellId="1" />
   </tapa.clean>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.rrc.deinit/>
   </tapa.shutdown>

</tapa.testcase>


# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************30**
#
#         End of file:     nhac_tc15.xml
#
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#$SID$         ---     mc               1. LTE RRC Initial Release.
#              ---     chebli           1. RRC Release 2.1.
# $SID$        ---     sbalakrishna     1. Updated for Release of 3.1.
$SID$          ---     mpatel           1. HO test case 38 updated for ticket ccpu00118385
#*********************************************************************91*/
