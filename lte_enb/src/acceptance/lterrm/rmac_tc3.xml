#       Test:    3.1
#
#       Desc:    Admission of extra UE after max UE supported has reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.1">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate admission of extra UE after max 
         num UEs supported is reached"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="2"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_20"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_40" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"
                                 bSimulAckNack="FALSE"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="39"  RiConfigIndex="0"
            SimulAckNackCqi="0" srResourceIndex="0" srConfigIndex="15"/>
      </tapa.expect>
		
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="41"  RiConfigIndex="0"
            SimulAckNackCqi="0" srResourceIndex="0" srConfigIndex="17"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="43"  RiConfigIndex="0"
            SimulAckNackCqi="0" srResourceIndex="0" srConfigIndex="19"/>
      </tapa.expect>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.2
#
#       Desc:    Admission reject of incoming UE after max UE supported and max 
#                extra UE has reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.2">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate admission of UE after max 
         num UEs supported and max extra UEs supported
         is reached"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="2"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_20"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_40" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"
                                 bSimulAckNack="FALSE"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="39"  RiConfigIndex="0"
            SimulAckNackCqi="0" srResourceIndex="0" srConfigIndex="15"/>
      </tapa.expect>
		
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="41"  RiConfigIndex="0"
            SimulAckNackCqi="0" srResourceIndex="0" srConfigIndex="17"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="43"  RiConfigIndex="0"
            SimulAckNackCqi="0" srResourceIndex="0" srConfigIndex="19"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

      #Expect UEAdmitRsp from from RRM
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            status="RMU_REDIRECT"/>
      </tapa.expect>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.3
#
#       Desc:    Release the admitted extra UE after receiving isMember status 
#                as not-member and max non-CSG UEs supported has reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.3">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate release of admitted extra UE after 
         receiving isMember status as not-member from 
         MME and max num non-CSG UEs supported is reached"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="2"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1"
            status="RMU_REDIRECT" />
         <!--
         recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
         -->
      </tapa.expect>


	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.4
#
#       Desc:    Reject admission for incoming UE with establishment cause as
#                MO DATA, after max CSG UEs supported and max non-CSG UEs 
#                supported has reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.4">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate rejection of admission for an incoming UE 
         after max CSG UEs supported and max non-CSG UEs
         supported is reached"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="65" transId="15" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="65" transId="15"
            status="RMU_REDIRECT" />
      </tapa.expect>


	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.5
#
#       Desc:    Admit incoming non-CSG UE after max non-CSG UEs supported is
#                reached but max UE supported is not reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.5">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate admission for an incoming non-CSG UE 
         after max non-CSG UEs supported but max UEs
         supported is not reached"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     <!--
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="65" transId="15" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="65" transId="15"
            status="RMU_FAILURE" />
      </tapa.expect>
         -->


	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.6
#
#       Desc:    Admit incoming CSG UE after max CSG UEs supported is
#                reached but max UE supported is not reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.6">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate admission for an incoming CSG UE 
         after max CSG UEs supported but max UEs
         supported is not reached"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     <!--
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="65" transId="15" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="65" transId="15"
            status="RMU_FAILURE" />
      </tapa.expect>
         -->


	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.7
#
#       Desc:    Release extra non-CSG UE to admit incoming CSG UE after 
#                when number of non-CSG UEs attached is more than max non-CSG
#                UEs supported.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.7">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate release of a non-CSG UE to admit an incoming CSG UE 
         when number of non-CSG UEs attached is more than max non-CSG UEs
         supported"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="65" transId="15" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="65" transId="15"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="87"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="43"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="15" tCrnti="65" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
      </tapa.expect>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="15" tCrnti="65" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="87"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>
            #CqiConfigIndex="85"  RiConfigIndex="162"

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.8
#
#       Desc:    Release extra CSG UE to admit incoming non-CSG UE after 
#                when number of CSG UEs attached is more than max CSG
#                UEs supported.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.8">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate release of a CSG UE to admit an incoming non-CSG UE 
         when number of CSG UEs attached is more than max CSG UEs
         supported"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="65" transId="15" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="65" transId="15"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="87"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="43"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="15" tCrnti="65" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
      </tapa.expect>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="15" tCrnti="65" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="87"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>
            #CqiConfigIndex="85"  RiConfigIndex="162"

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.9
#
#       Desc:    Validate that an incoming handover UE without emergency bearers
#       is rejected admission when max CSG and non-CSG UE limit has reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.9">

   # Document subsection
   <tapa.doc>
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "Validate that an incoming handover UE without emergency bearers is
         rejected admission when max CSG and non-CSG UE limit has reached."
      </tapa.desc>

      <tapa.longdesc/>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>   

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM             ( Add Max cells
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1"
            cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RM_ACB_TIME_S4" sigAcbTime="RM_ACB_TIME_S4"
            maxActiveUes="2" maxSigUes="2" dlfs="0" waitTime="3" acbForEmergency="0" acbForSplClass="31"
            maxCsgUes="1" maxNonCsgUes="1" maxExtraUes="1"
            maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
            usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
            enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
            usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>   

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE HO Req to RRM ( For UE # 1)
      <tapa.send >
         <tapa.rmu.uehoreq transId="11" tCrnti="63" cellId="1" s1ApCause="RMU_CAUSE_REDUCE_LOAD_IN_SERV_CELL"
            hoType="RMU_HO_TYPE_IntraLTE" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1" qciValue="2" 
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1" erabPreemptVul="1" 
            CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162" SimulAckNackCqi="1"
            phyCfgDedResBitMap="2" radioResDedBitMap="1"/>
      </tapa.send>   

      #Expect UE HO Rsp from RRM
      <tapa.expect>
         <tapa.rmu.uehorsp transId="11" tCrnti="63" cellId="1" status="RMU_FAILURE" />
      </tapa.expect>

    #Shutdown the RRM  
    <tapa.rrm.shutdown />  

   </tapa.test>   

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>   

</tapa.testcase>

#
#       Test:    3.10
#
#       Desc:    Validate that an incoming handover UE with emergency bearers is
#       admitted and a non-CSG UE is released when max UE limit has reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.10">

   # Document subsection
   <tapa.doc>
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "Validate that an incoming handover UE with emergency bearers is
         admitted and a non-CSG UE is released when max UE limit has reached."
      </tapa.desc>

      <tapa.longdesc/>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>   

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM             ( Add Max cells
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1"
            cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RM_ACB_TIME_S4" sigAcbTime="RM_ACB_TIME_S4"
            maxActiveUes="2" maxSigUes="2" dlfs="0" waitTime="3" acbForEmergency="0" acbForSplClass="31"
            maxCsgUes="1" maxNonCsgUes="1" maxExtraUes="1"
            maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
            usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
            enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
            usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>   

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE HO Req to RRM ( For UE # 1)
      <tapa.send >
         <tapa.rmu.uehoreq transId="11" tCrnti="63" cellId="1" s1ApCause="RMU_CAUSE_REDUCE_LOAD_IN_SERV_CELL"
            hoType="RMU_HO_TYPE_IntraLTE" erabAction="RMU_ADD_ERAB"
            ambrPresent="1" erabId="1" qciValue="3" 
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1" erabPreemptVul="1" 
            CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162" SimulAckNackCqi="1"
            phyCfgDedResBitMap="2" radioResDedBitMap="1" isEmrgncyBrersPsnt="1"
            isMember="1" />
      </tapa.send>   

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="62" />
      </tapa.expect>


      #Expect UE HO Rsp from RRM
      <tapa.expect >
         <tapa.rmu.uehorsp transId="11" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11"
				bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1"  srResourceIndex="0" srConfigIndex="37"
            erabId="1"/>
      </tapa.expect>

    #Shutdown the RRM  
    <tapa.rrm.shutdown />  

   </tapa.test>   

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>   

</tapa.testcase>

#
#       Test:    3.11
#
#       Desc:    Validate that an incoming handover UE with emergency bearers is
#       admitted and a CSG UE is released when max UE limit has reached and only
#       CSG UEs are attached to the system.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.11">

   # Document subsection
   <tapa.doc>
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "Validate that an incoming handover UE with emergency bearers is
         admitted and a CSG UE is released when max UE limit has reached and
         only CSG UEs are attached to the system."
      </tapa.desc>

      <tapa.longdesc/>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>   

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM             ( Add Max cells
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1"
            cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RM_ACB_TIME_S4" sigAcbTime="RM_ACB_TIME_S4"
            maxActiveUes="2" maxSigUes="2" dlfs="0" waitTime="3" acbForEmergency="0" acbForSplClass="31"
            maxCsgUes="1" maxNonCsgUes="1" maxExtraUes="1"
            maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
            usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
            enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
            usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>   

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE HO Req to RRM ( For UE # 1)
      <tapa.send >
         <tapa.rmu.uehoreq transId="11" tCrnti="63" cellId="1" s1ApCause="RMU_CAUSE_REDUCE_LOAD_IN_SERV_CELL"
            hoType="RMU_HO_TYPE_IntraLTE" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1" qciValue="2" 
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1" erabPreemptVul="1" 
            CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162" SimulAckNackCqi="1"
            phyCfgDedResBitMap="2" radioResDedBitMap="1" isEmrgncyBrersPsnt="1"
            isMember="1" />
      </tapa.send>   

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
      </tapa.expect>


      #Expect UE HO Rsp from RRM
      <tapa.expect >
         <tapa.rmu.uehorsp transId="11" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11"
				bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1"  srResourceIndex="0" srConfigIndex="35"
            erabId="1"/>
      </tapa.expect>

    #Shutdown the RRM  
    <tapa.rrm.shutdown />  

   </tapa.test>   

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>   

</tapa.testcase>

#
#       Test:    3.12
#
#       Desc:    Validate that an incoming handover UE with emergency bearers is
#       admitted and a non-CSG UE with GBR bearer is released when max UE limit
#       has reached and only non-CSG UE with GBR are attached to the system.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.12">

   # Document subsection
   <tapa.doc>
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "Validate that an incoming handover UE with emergency bearers is
         admitted and a non-CSG UE with GBR bearer is released when max UE limit
         has reached and only non-CSG UE with GBR are attached to the system."
      </tapa.desc>

      <tapa.longdesc/>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>   

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM             ( Add Max cells
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1"
            cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RM_ACB_TIME_S4" sigAcbTime="RM_ACB_TIME_S4"
            maxActiveUes="2" maxSigUes="2" dlfs="0" waitTime="3" acbForEmergency="0" acbForSplClass="31"
            maxCsgUes="1" maxNonCsgUes="1" maxExtraUes="1"
            maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
            usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
            enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
            usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>   

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="7"
            erabPreemptCap="FALSE" erabPreemptVul="FALSE" 
            erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4"
            erabPreemptCap="FALSE" erabPreemptVul="FALSE" 
            erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE HO Req to RRM ( For UE # 1)
      <tapa.send >
         <tapa.rmu.uehoreq transId="11" tCrnti="63" cellId="1" s1ApCause="RMU_CAUSE_REDUCE_LOAD_IN_SERV_CELL"
            hoType="RMU_HO_TYPE_IntraLTE" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1" qciValue="2" 
            ueCategory="5" grpIndicator="1" erabPriority="4"  
            erabPreemptCap="TRUE" erabPreemptVul="FALSE" 
            CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162" SimulAckNackCqi="1"
            phyCfgDedResBitMap="2" radioResDedBitMap="1" isEmrgncyBrersPsnt="1"
            isMember="1" />
      </tapa.send>   

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
      </tapa.expect>


      #Expect UE HO Rsp from RRM
      <tapa.expect >
         <tapa.rmu.uehorsp transId="11" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11"
				bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1"  srResourceIndex="0" srConfigIndex="35"
            erabId="1"/>
      </tapa.expect>

    #Shutdown the RRM  
    <tapa.rrm.shutdown />  

   </tapa.test>   

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>   

</tapa.testcase>

#
#       Test:    3.13
#
#       Desc:    Validate that an incoming handover UE with emergency bearers is
#       admitted and a CSG UE with GBR bearer is released when max UE limit has
#       reached and only CSG UE with GBR are attached to the system.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.13">

   # Document subsection
   <tapa.doc>
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "Validate that an incoming handover UE with emergency bearers is
         admitted and a CSG UE with GBR bearer is released when max UE limit has
         reached and only CSG UE with GBR are attached to the system."
      </tapa.desc>

      <tapa.longdesc/>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>   

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM             ( Add Max cells
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1"
            cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RM_ACB_TIME_S4" sigAcbTime="RM_ACB_TIME_S4"
            maxActiveUes="2" maxSigUes="2" dlfs="0" waitTime="3" acbForEmergency="0" acbForSplClass="31"
            maxCsgUes="1" maxNonCsgUes="1" maxExtraUes="1"
            maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
            usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
            enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
            usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>   

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="7"
            erabPreemptCap="FALSE" erabPreemptVul="FALSE" 
            erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4"
            erabPreemptCap="FALSE" erabPreemptVul="FALSE" 
            erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE HO Req to RRM ( For UE # 1)
      <tapa.send >
         <tapa.rmu.uehoreq transId="11" tCrnti="63" cellId="1" s1ApCause="RMU_CAUSE_REDUCE_LOAD_IN_SERV_CELL"
            hoType="RMU_HO_TYPE_IntraLTE" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1" qciValue="2" 
            ueCategory="5" grpIndicator="1" erabPriority="4"  
            erabPreemptCap="TRUE" erabPreemptVul="FALSE" 
            CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162" SimulAckNackCqi="1"
            phyCfgDedResBitMap="2" radioResDedBitMap="1" isEmrgncyBrersPsnt="1"
            isMember="1" />
      </tapa.send>   

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
      </tapa.expect>


      #Expect UE HO Rsp from RRM
      <tapa.expect >
         <tapa.rmu.uehorsp transId="11" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11"
				bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1"  srResourceIndex="0" srConfigIndex="35"
            erabId="1"/>
      </tapa.expect>

    #Shutdown the RRM  
    <tapa.rrm.shutdown />  

   </tapa.test>   

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>   

</tapa.testcase>

#
#       Test:    3.14
#
#       Desc:    Validate that an incoming handover UE with membership status as
#       'member' is admitted and a non-CSG UE is released when max UE limit has
#       reached and number of non-CSG UEs attached is more than max non-CSG UEs
#       allowed.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.14">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "Validate that an incoming handover UE with membership status as
         'member' is admitted and a non-CSG UE is released when max UE limit has
         reached and number of non-CSG UEs attached is more than max non-CSG UEs
         allowed."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE HO Req to RRM ( For UE # 1)
      <tapa.send >
         <tapa.rmu.uehoreq transId="11" tCrnti="65" cellId="1" s1ApCause="RMU_CAUSE_REDUCE_LOAD_IN_SERV_CELL"
            hoType="RMU_HO_TYPE_IntraLTE" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1" qciValue="2" 
            ueCategory="5" grpIndicator="1" erabPriority="4"  
            erabPreemptCap="TRUE" erabPreemptVul="FALSE" 
            CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162" SimulAckNackCqi="1"
            phyCfgDedResBitMap="2" radioResDedBitMap="1" isEmrgncyBrersPsnt="0"
            isMember="1" />
      </tapa.send>   

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
      </tapa.expect>


      #Expect UE HO Rsp from RRM
      <tapa.expect >
         <tapa.rmu.uehorsp transId="11" tCrnti="65" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11"
				bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="87"  RiConfigIndex="162"
            SimulAckNackCqi="1"  srResourceIndex="0" srConfigIndex="43"
            erabId="1"/>
      </tapa.expect>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.15
#
#       Desc:    Validate that an incoming handover UE with membership status as
#       'not-member' is admitted and a CSG UE is released when max UE limit has
#       reached and number of CSG UEs attached is more than max CSG UEs allowed.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.15">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "Validate that an incoming handover UE with membership status as
         'not-member' is admitted and a CSG UE is released when max UE limit has
         reached and number of CSG UEs attached is more than max CSG UEs
         allowed."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE HO Req to RRM ( For UE # 1)
      <tapa.send >
         <tapa.rmu.uehoreq transId="11" tCrnti="65" cellId="1" s1ApCause="RMU_CAUSE_REDUCE_LOAD_IN_SERV_CELL"
            hoType="RMU_HO_TYPE_IntraLTE" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1" qciValue="2" 
            ueCategory="5" grpIndicator="1" erabPriority="4"  
            erabPreemptCap="TRUE" erabPreemptVul="FALSE" 
            CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162" SimulAckNackCqi="1"
            phyCfgDedResBitMap="2" radioResDedBitMap="1" isEmrgncyBrersPsnt="0"
            isMember="0" />
      </tapa.send>   

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="62" />
      </tapa.expect>


      #Expect UE HO Rsp from RRM
      <tapa.expect >
         <tapa.rmu.uehorsp transId="11" tCrnti="65" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11"
				bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="87"  RiConfigIndex="162"
            SimulAckNackCqi="1"  srResourceIndex="0" srConfigIndex="43"
            erabId="1"/>
      </tapa.expect>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.16
#
#       Desc:    Admit incoming non-CSG UE after max non-CSG UEs supported is
#                reached but max UE supported is not reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.16">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate admission for an incoming non-CSG UE 
         after max non-CSG UEs supported but max UEs
         supported is not reached"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="2" maxNonCsgUes="1" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
      </tapa.expect>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.17
#
#       Desc:    Admit incoming non-CSG UE after max non-CSG UEs supported is
#                reached but max UE supported is not reached.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.17">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate admission for an incoming non-CSG UE 
         after max non-CSG UEs supported but max UEs
         supported is not reached"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="2" maxNonCsgUes="1" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      <!--
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
      </tapa.expect>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>
      -->

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.18
#
#       Desc:    Validate that an incoming handover UE with emergency bearers is
#       admitted and a CSG UE with GBR bearer is released when max UE limit has
#       reached and only CSG UE with GBR are attached to the system.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.18">

   # Document subsection
   <tapa.doc>
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "Validate that an incoming handover UE with emergency bearers is
         admitted and a CSG UE with GBR bearer is released when max UE limit has
         reached and only CSG UE with GBR are attached to the system."
      </tapa.desc>

      <tapa.longdesc/>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>   

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM             ( Add Max cells
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1"
            cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RM_ACB_TIME_S4" sigAcbTime="RM_ACB_TIME_S4"
            maxActiveUes="3" maxSigUes="2" dlfs="0" waitTime="3" acbForEmergency="0" acbForSplClass="31"
            maxCsgUes="2" maxNonCsgUes="1" maxExtraUes="1"
            maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
            usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
            enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
            usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>   

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="7"
            erabPreemptCap="FALSE" erabPreemptVul="FALSE" 
            erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      <!--
     #Send UE Reconfig req to RRM
            erabPreemptVul="1" erabCount="1" qciVal="1"/>
      </tapa.send>
      #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1"
            recfgBitmap="1" erabId="2" 
            bRadioResDedBitMap="0" bMacMainCfgBitMap="2" 
            drxEnabled="FALSE"  erabCount="1"/>
      </tapa.expect>
      -->

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="9"
            erabPreemptCap="FALSE" erabPreemptVul="TRUE" 
            erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4"
            erabPreemptCap="FALSE"
            erabPreemptVul="TRUE" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="62" />
      </tapa.expect>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

    #Shutdown the RRM  
    <tapa.rrm.shutdown />  

   </tapa.test>   

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>   

</tapa.testcase>

#
#       Test:    3.19
#
#       Desc: To validate that CSG UEs are moved to non CSG UEs list when UE context modification 
#             from CSG membership status to not member is received from application 
#
#       Notes:   None
#
#       Module:
#
#       File:    rmac_tc1.xml
#
#
<tapa.testcase id="3.19">

   # Document subsection
   <tapa.doc>
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
       "To validate that CSG UEs are moved to non CSG UEs list when UE context modification 
       from CSG membership status to not member is received from application "
      </tapa.desc>

      <tapa.longdesc/>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>   

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>
      
      #Send UE new CRNTI Req to RRM ( mod crnti to 62)
      <tapa.send >
         <tapa.rmu.crntirecfgreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="8" isMember="FALSE" />
      </tapa.send>

      #Expect recfg cfm from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1"
            recfgBitmap="8"/>
      </tapa.expect>   

      #Shutdown the RRM
    <tapa.rrm.shutdown />  

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.20
#
#       Desc: To validate that Non CSG UEs are moved to CSG UEs list when UE context modification 
#             from CSG not membership status to member is received from application 
#
#       Notes:   None
#
#       Module:
#
#       File:    rmac_tc1.xml
#
#
<tapa.testcase id="3.20">

   # Document subsection
   <tapa.doc>
      
      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
       "To validate that Non CSG UEs are moved to CSG UEs list when UE context modification 
       from CSG not membership status to member is received from application "
      </tapa.desc>

      <tapa.longdesc/>
   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>
      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>   

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="4"
                                 maxCsgUes="2" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="2" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11" connEstCause="RMU_EST_CAUSE_MO_DATA"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>
      
      #Send UE new CRNTI Req to RRM ( mod crnti to 62)
      <tapa.send >
         <tapa.rmu.crntirecfgreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="8" isMember="TRUE" />
      </tapa.send>

      #Expect recfg cfm from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1"
            recfgBitmap="8"/>
      </tapa.expect>   

      #Shutdown the RRM
    <tapa.rrm.shutdown />  

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.21
#              To Validate that NonCSG UEs are not admitted once maxCSG UEs 
#              are reached when maxCSG UEs  and maxUE supported are equal
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.21">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
      </tapa.desc>
        "To Validate that NonCSG UEs are not admitted once maxCSG UEs 
         are reached when maxCSG UEs  and maxUE supported are equal"

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="3" maxNonCsgUes="3" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>
     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

      #Expect UE Rel Indication
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="64" cellId="1"
            status="RMU_REDIRECT" />
      </tapa.expset>
	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.22
#
#       Desc:    Admit incoming non-CSG UE after max non-CSG UEs supported is
#                reached but max UE supported is not reached and
#                once CSG UE comes, one of the Non CSG UEs will get
#                preempted.
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.22">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate admission for an incoming non-CSG UE 
         after max non-CSG UEs supported but max UEs
         supported is not reached and once CSG UE comes
         one of the NonCSG UEs will get preempted"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="1" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

      #Expect UE Rel Indication
      <tapa.expect>
         <tapa.rmu.uerelind cellId="1" crnti="62" />
      </tapa.expect>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>
     

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.23
#
#       Desc:    Admit incoming non-CSG UE with High priority access.
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.23">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming High priority access Non CSG Ue will be
         admitted by preempting nonCSG, Non GBR UE"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="2" maxNonCsgUes="1" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_HIGH_PRIORTY_ACCESS"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.24
#
#       Desc:    Admit incoming CSG UE with High priority access.
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.24">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming High priority access CSG Ue will be
         admitted by preempting CSG, Non GBR UE"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="3" maxNonCsgUes="3" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_HIGH_PRIORTY_ACCESS"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.25
#
#       Desc:    Admit incoming CSG UE with High priority access.
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.25">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming High priority access CSG Ue will be
         admitted by preempting CSG, Non GBR UE though there are non premeptable
         non CSG  UEs"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="3" maxNonCsgUes="3" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_HIGH_PRIORTY_ACCESS"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>


#
#       Test:    3.26
#
#       Desc:    Admit incoming CSG UE with High priority access.
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.26">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming Emergency UE will admitted by preempting CSG, Non GBR UE"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

     <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="1" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_HIGH_PRIORTY_ACCESS"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.27
#
#       Desc:    Admit incoming CSG UE with High priority access.
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.27">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming Emergency UE will admitted by preempting extra Non-CSG, Non GBR UE"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

     <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="2" maxNonCsgUes="1" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_HIGH_PRIORTY_ACCESS"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="62" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.28
#
#       Desc:    To validate that incoming high priority access admitted by preempting 
#		 CSG UEs when there are extra NON-CSG non preemptible UEs.
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.28">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming high priority access admitted by preempting
          CSG UEs when there are extra NON-CSG non preemptible UEs."

      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

     <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="2" maxNonCsgUes="1" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_HIGH_PRIORTY_ACCESS"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="62" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.29
#
#       Desc:    To validate that incoming high priority access admitted by preempting 
#		 NON-CSG UEs when there are extra CSG non preemptible UEs.
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.29">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming high priority access admitted by preempting
          NON-CSG UEs when there are extra CSG non preemptible UEs."

      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

     <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="1" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_HIGH_PRIORTY_ACCESS"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.30
#
#       Desc:    To validate that Emergency UE will get admitted by pre empting
#                 nonCSG non GBR UE
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.30">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that Emergency UE will get admitted by pre empting nonCSG,
         nonGBR UEs"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="3" maxNonCsgUes="3" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_EMERGENCY"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.31
#
#       Desc:    To validate that Emergency UE will get admitted by pre empting
#                extra nonCSG non GBR UE
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.31">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that Emergency UE will get admitted by pre empting extra 
         nonCSG  nonGBR UEs"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="2" maxNonCsgUes="1" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_EMERGENCY"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

#
#       Test:    3.32
#
#       Desc:    To validate that incoming emergency UE will get admitted
#                by preempting CSG, Non GBR UE when nonCSG UEs are non preemptable 
#                emergency
#                
#
#       Notes:   None
#
#       Module:  RRM
#
#       File:    rmac_tc3.xml
#
#
<tapa.testcase id="3.32">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming emergency UE will get admitted
          by preempting CSG UE, when nonCSG UEs are non preemptable and are emergency"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="1" maxNonCsgUes="2" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_EMERGENCY"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_EMERGENCY"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_EMERGENCY"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="63" />
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expset>
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="0" erabQci="7" isMember="1"/>
      </tapa.send>

      #Expect UE reconfiguration response
      <tapa.expset>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

<tapa.testcase id="3.33">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming mo signalling non-CSG UE will not be
         admitted when maximum number of UEs is reached and max CSG and max
         non-CSG are not reached (max CSG members = max non-CSG = max UE)"

      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

     <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="3" maxNonCsgUes="3" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="1"/>
      </tapa.send>
     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="0"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1"
            status="RMU_REDIRECT" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

<tapa.testcase id="3.34">

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="RRM"/>

      <tapa.desc>
         "To validate that incoming mo signalling CSG UE will be
         admitted when maximum number of UEs is reached and max CSG and max
         non-CSG are not reached (max CSG members = max non-CSG = max UE)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef/>

     <tapa.ifndef/>
      <tapa.mode mode="single"/>
   </tapa.require>

   # Configuration subsection
   <tapa.cfg/>

   # Test Steps subsection
   <tapa.test>

      #Gen Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.genCfgReq />
      </tapa.send>

      # Expect General Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.genCfgCfm/>
      </tapa.expect>

      #SAP Cfg for LTE-RRM
      <tapa.send >
         <tapa.lrm.sapCfgReq/>
      </tapa.send>

      # Expect SAP Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.sapCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM ( Add Max cells )
      <tapa.send>
         <tapa.lrm.enbCfgReq CfgType = "1" maxCells = "2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.enbCfgCfm/>
      </tapa.expect>

      # Send Protocol Config Request from SM to RRM (Add Cell # 1)
      <tapa.send>
         <tapa.lrm.cellcfgreq cellId="1" action="1" cellBandwidth="LRM_BANDWIDTH_100" dataAcbTime="RMU_ACBTIME_S4"
                                 sigAcbTime="RMU_ACBTIME_S4" maxActiveUes="3"
                                 maxCsgUes="3" maxNonCsgUes="3" maxExtraUes="1"
                                 maxSigUes="4" dlfs="0" waitTime="3"
                                acbForEmergency="0" acbForSplClass="31"
                                maxUlBandwidth="10" maxDlBandwidth="10" bNrbCqi="1" bNcsAn="0" rcmAlgoType="1" numTxAnt="2"
                                usNumSrResPerTti="2" enSrPrdcty="LRM_SR_PRDCTY_40"
                                 enCqiPrdcty="LRM_CQI_PRDCTY_80" enDsrTransMax="DSR_TRANS_N4"
                                 usNumCqiResPerTti="2" usN1Pucch="2"/>
      </tapa.send>

      # Expect Protocol Configuration Confirm from RRM to LM
      <tapa.expect>
         <tapa.lrm.cellcfgCfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lrm.cellUpInd cellId="1"/>
      </tapa.send>
     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="61" transId="11"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="61" transId="11"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="35"/>
      </tapa.expect>
		
	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="11" tCrnti="61" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="TRUE" erabQci="7" isMember="0"/>
      </tapa.send>
     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="11" tCrnti="61" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="79"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="62" transId="12"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="62" transId="12"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="37"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="12" tCrnti="62" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="12" tCrnti="62" cellId="1" recfgBitmap="3" 
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="81"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="63" transId="13"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="63" transId="13"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="39"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="13" tCrnti="63" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expect>
         <tapa.rmu.uerecfgrsp transId="13" tCrnti="63" cellId="1" 
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="83"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expect>

     
      #Send UE Admit req to RRM 
      <tapa.send >
         <tapa.rmu.ueadmitreq cellId="1" tCrnti="64" transId="14"
            connEstCause="RMU_EST_CAUSE_MO_SIGNALLING"/>
      </tapa.send>

     #Expect UEAdmitRsp from from RRM 
      <tapa.expect>
         <tapa.rmu.ueadmitrsp cellId="1" tCrnti="64" transId="14"
            bRadioResDedBitMap="2" bPhyCfgDedResBitMap="11" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND"
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="0"
            SimulAckNackCqi="1" srResourceIndex="0" srConfigIndex="41"/>
      </tapa.expect>

	  #Send UE Reconfig  (ICS) req to RRM
      <tapa.send >
         <tapa.rmu.initconextsetupreq transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" erabAction="RMU_ADD_ERAB" ambrPresent="1" erabId="1"
            ueCategory="5" grpIndicator="1" erabPriority="4" erabPreemptCap="1"
            erabPreemptVul="FALSE" erabQci="7" isMember="1"/>
      </tapa.send>

     #Expect UE Reconfig Rsp from from RRM
      <tapa.expset>
         <tapa.rmu.uerelind cellId="1" crnti="61" />
         <tapa.rmu.uerecfgrsp transId="14" tCrnti="64" cellId="1"
            recfgBitmap="3" bRadioResDedBitMap="2" bPhyCfgDedResBitMap="10"
				 bMacMainCfgBitMap="2" CqiFormatIndex="RMU_PCQI_FMT_WIDEBAND" 
            PucchReportMode="RMU_CQI_MODE10" CqiResourceIndex="0"
            CqiConfigIndex="85"  RiConfigIndex="162"
            SimulAckNackCqi="1" erabId="1"  erabCount="1"/>
      </tapa.expset>

	     #Shutdown the RRM
      <tapa.rrm.shutdown />

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   </tapa.shutdown>

</tapa.testcase>

