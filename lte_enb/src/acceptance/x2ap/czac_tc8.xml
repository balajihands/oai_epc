#
#/********************************************************************20**
#
#     Name:    SIP 
#
#     Type:    XML Test File
#
#     Desc:    XML Based Test Cases
#
#     File:    czac_tc8.xml
#
#     Sid:      cm_xta_gen_tc_num.py@@/main/5 - Wed Jun 27 16:21:06 2007
#
#     Prg:     sy 
#
#*********************************************************************21*/

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcstart=8:sy:czac_tc8.xml

#
#
#       Test:    8.1
#
#       Desc:    Verify acceptance of General Configuration
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.1">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
           "Verify acceptance of General Configuration"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   <tapa.test>
# Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      # x2ap cleanup operations
      # Do shutdown
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.2
#
#       Desc:    Verify acceptance of multiple parallel General Configurations
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.2">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
           "Verify acceptance of multiple parallel General Configurations"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   <tapa.test>
# Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Do shutdown
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Do shutdown
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      # x2ap cleanup operations
      # Do shutdown
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.3
#
#       Desc:    Verify the successful configuration of X2AP in
#                an integrated setup (eNb)
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.3">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify the successful configuration of X2AP in "
         "an integrated setup (eNb)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

# Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
# Send a debug control request to enable debugs
      <tapa.send >
         <tapa.lcz.cntrl.debug action="AENA" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect >
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

      # Send an protocol configuration request
      <tapa.send>
         <tapa.lcz.cfg.prot /> #procId="CZAC_LCZ_ENB1_PRC" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap sapId="0"/>
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm sapId="0" />
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cfg.usap sapId="1"/>
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm sapId="1" />
      </tapa.expect>
    # Send a debug control request to enable debugs
      <tapa.send >
         <tapa.lcz.cntrl.debug action="ADISIMM" />
      </tapa.send>

      
      # Receive the confirm for the sct sap request.
      <tapa.expect >
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      
      # Send a debug control request to enable debugs
      <tapa.send >
         <tapa.lcz.cntrl.debug action="ADEL"/>
      </tapa.send>

      
      # Receive the confirm for the sct sap request.
      <tapa.expect >
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>
      

      # Send a debug control request to enable debugs
      <tapa.send >
         <tapa.lcz.cntrl.debug action="AENA" subAction="SAELMNT"/>
      </tapa.send>

      
      # Receive the confirm for the sct sap request.
      <tapa.expect >
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_INVALID_SUBACTION"/>
      </tapa.expect>
      
     # Send a debug control request to enable debugs
      <tapa.send >
         <tapa.lcz.cntrl.debug action="ADISIMM" subAction="SAELMNT"/>
      </tapa.send>

      
      # Receive the confirm for the sct sap request.
      <tapa.expect >
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_INVALID_SUBACTION"/>
      </tapa.expect>
      
      # Send a control request to enable alarms
      <tapa.send>
         <tapa.lcz.cntrl.usta action="ADISIMM" />
      </tapa.send>

      # Receive the confirm for the alarms.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

           <tapa.send>
         <tapa.lcz.cfg.usap sapId="2"/>
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm sapId="2" />
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      # Do shutdown
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.4
#
#       Desc:    End point enable if already in enable state should give confirm
#                with invalid state.
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.4">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "End point enable if already in enable state should give confirm"
         "with invalid state."                                  
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>

      #adding individual cases to bring up the enodeb1 : Ashwin 
      # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="CZ_DBG">
         <tapa.lcz.cntrl.debug />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="CZ_DBG">
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

      # Send an protocol configuration request
      <tapa.send>
         <tapa.lcz.cfg.prot /> #procId="CZAC_LCZ_ENB1_PRC" timeToWait="2" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap />
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send an sct sap configuration request
      <tapa.send flag="CZAC_SCTP">
         <tapa.lcz.cfg.lsap suId="0" spId="0" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect  flag="CZAC_SCTP">
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer ProcId="CZAC_LCZ_ENB1_PRC" PeerId="2" peerProcId="CZAC_LCZ_ENB2_PRC"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send a control request to enable alarms
      <tapa.send>
         <tapa.lcz.cntrl.usta />
      </tapa.send>

      # Receive the confirm for the alarms.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

      # Send an sct sap configuration request
      <tapa.send flag="CZAC_SCTP">
         <tapa.lcz.cntrl.lSap lSapId="0"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expset flag="CZAC_SCTP">
         # Receive the confirm for the sct sap request.
         <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
            event = "LCM_EVENT_BND_OK"
            cause = "LCM_CAUSE_UNKNOWN"
            type   =  "LCZ_USTA_DGNVAL_SAPID"
            typeId =  "0" />

         # Receive the confirm for the sta ind request.
         <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
            event = "LCZ_EVENT_LI_ENDP_OPEN_CFM"
            cause = "LCZ_CAUSE_SCT_ENPOPEN_SUCC"
            type   =  "LCZ_USTA_DGNVAL_SAPID"
            typeId =  "0"/>
         <tapa.lcz.cntrlcfm />
      </tapa.expset>

      <tapa.send>
         <tapa.czt.bndreq  spId="0" suId="0"/>
      </tapa.send>

      # Expect Bnd Cfm at eNB
      <tapa.expect>
         <tapa.czt.bndcfm
            procId="CZAC_ENB_PROC"
            spId="0" suId="0"
            status="1"/>
      </tapa.expect>

     #   <tapa.cz.enb1.init/>
      # Initialise X2AP in an ENB configuration
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
     # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cntrl.endPt action="AENA" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>   
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_STATE"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.cz.directive /> #procId="CZAC_LCZ_ENB1_PRC"/>
      <tapa.delay delay="1"/>

      # Do shutdown
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      <tapa.delay delay="1"/>
      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

      <tapa.delay delay="5"/>

      # x2ap cleanup operations
#      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    8.5
#
#       Desc:    End point disable/enbale multiple time
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.5">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "End point disable/enbale multiple time"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
        <tapa.flag id="CZAC_SCTP"/>
      </tapa.ifdef>

      <tapa.ifndef>
        <tapa.flag id="CZAC_LKSCTP"/>
      </tapa.ifndef>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      # Initialise X2AP in an ENB configuration
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
            <tapa.lcz.cntrl.endPt procId="CZAC_LCZ_ENB1_PRC" action="ADISIMM" />
      </tapa.send>

      <tapa.expset>
         <tapa.lcz.cntrlcfm procId="CZAC_LCZ_ENB1_PRC"/>
         # Receive the confirm for the sta ind request.
         <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_ENDP_CLOSE_CFM"
                          cause = "LCZ_CAUSE_EPCLOSE_OK"
                          type   =  "LCZ_USTA_DGNVAL_NONE"
                          typeId =  "1"                     
                          procId="CZAC_LCZ_ENB1_PRC"/>

         <tapa.czt.staind peerId="2" staType="CZT_STA_TYPE_ASSOC"
                              status="CZT_STATUS_ASSOC_DOWN"
                              reason="CZT_REASON_UBND_SAP"
                              procId="CZAC_LCZ_ENB1_PRC"/>

      </tapa.expset>
       
       <tapa.send>
         <tapa.lcz.cntrl.endPt procId="CZAC_LCZ_ENB1_PRC" action="AENA" />
      </tapa.send>

      <tapa.expset>
        <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_ENDP_OPEN_CFM"
                          cause = "LCZ_CAUSE_SCT_ENPOPEN_SUCC"
                          type   =  "LCZ_USTA_DGNVAL_SAPID"
                          typeId =  "0" 
                          procId="CZAC_LCZ_ENB1_PRC"/>

       <tapa.lcz.cntrlcfm procId="CZAC_LCZ_ENB1_PRC" />

       </tapa.expset>
       <!--
        <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_ENDP_OPEN_CFM"
                          cause = "LCZ_CAUSE_SCT_ENPOPEN_SUCC"
                          type   =  "LCZ_USTA_DGNVAL_SAPID"
                          typeId =  "0" 
                          procId="CZAC_LCZ_ENB1_PRC"/>
        -->

   <!--
       <tapa.expect>
       <tapa.lcz.cntrlcfm procId="CZAC_LCZ_ENB1_PRC" />
       </tapa.expect>
   <tapa.send>
         <tapa.lcz.cntrl.endPt procId="CZAC_LCZ_ENB1_PRC" action="ADISIMM" />
   </tapa.send>

      <tapa.expect>
            # Receive the confirm for the sta ind request.
             <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_ENDP_CLOSE_CFM"
                          cause = "LCZ_CAUSE_EPCLOSE_OK"
                          type   =  "LCZ_USTA_DGNVAL_NONE"
                          typeId =  "0"
                          procId="CZAC_LCZ_ENB1_PRC"/>
             <tapa.lcz.cntrlcfm />
      </tapa.expect>
      <tapa.expect>
             <tapa.czt.staind peerId="2" staType="CZT_STA_TYPE_ASSOC"
                              status="CZT_STATUS_ASSOC_DOWN"
                              reason="CZT_REASON_UBND_SAP"
                              procId="CZAC_LCZ_ENB1_PRC"/>

      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cntrl.endPt procId="CZAC_LCZ_ENB1_PRC" action="AENA" />
      </tapa.send>

      <tapa.expect>
      <tapa.lcz.staInd    category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_ENDP_OPEN_CFM"
                          cause = "LCZ_CAUSE_SCT_ENPOPEN_SUCC"
                          type  = "LCZ_USTA_DGNVAL_SAPID"
                          typeId =  "0"
                          procId="CZAC_LCZ_ENB1_PRC"/>

         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      -->
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    8.6
#
#       Desc:    End point disable/Enable in disable state should return invalid state
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.6">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "End point disable/Enable in disable state should return invalid state"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
        <tapa.flag id="CZAC_SCTP"/>
      </tapa.ifdef>

      <tapa.ifndef>
        <tapa.flag id="CZAC_LKSCTP"/>
      </tapa.ifndef>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      # Initialise X2AP in an ENB configuration
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   <tapa.send>
         <tapa.lcz.cntrl.endPt action="ADISIMM" />
   </tapa.send>

      <tapa.expset>
# Receive the confirm for the sta ind request.
          <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_ENDP_CLOSE_CFM"
                          cause = "LCZ_CAUSE_EPCLOSE_OK"
                          type   =  "LCZ_USTA_DGNVAL_NONE"
                          typeId =  "0"                     />
    <tapa.czt.staind peerId="2" staType="CZT_STA_TYPE_ASSOC"
                              status="CZT_STATUS_ASSOC_DOWN"
                              reason="CZT_REASON_UBND_SAP"/>

         <tapa.lcz.cntrlcfm />
      </tapa.expset>
       
   <tapa.send>
         <tapa.lcz.cntrl.endPt action="ADISIMM" />
   </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_STATE"/>
      </tapa.expect>
     
      <tapa.send>
         <tapa.lcz.cntrl.endPt action="AENA" />
      </tapa.send>

      <tapa.expset>
    <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_ENDP_OPEN_CFM"
                          cause = "LCZ_CAUSE_SCT_ENPOPEN_SUCC"
                          type   =  "LCZ_USTA_DGNVAL_SAPID"
                          typeId =  "0"                     />

         <tapa.lcz.cntrlcfm />
      </tapa.expset>
     <tapa.send>
         <tapa.lcz.cntrl.endPt action="AENA" />
      </tapa.send>

      <tapa.expset>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_STATE"/>
      </tapa.expset>
    


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.7
#
#       Desc:    End point disable with invalid tsap Id
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.7">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "End point disable with invalid tsap Id"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      # Initialise X2AP in an ENB configuration
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   <tapa.send>
         <tapa.lcz.cntrl.endPt tSapId="100" action="ADISIMM" />
   </tapa.send>

      <tapa.expset>
# Receive the confirm for the sta ind request.
             <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_STA_IND"
                          cause = "LCM_CAUSE_INV_SAP"
                          type   =  "LCZ_USTA_DGNVAL_SAPID"
                          typeId =  "100"                     />
                       <tapa.lcz.cntrlcfm  status="LCM_PRIM_NOK"
                                                    reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expset>
       
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.8
#
#       Desc:    End point disable with invalid sap state (UNBOUND)
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.8">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "End point disable with invalid sap state (UNBOUND)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_SCTP" />  
      </tapa.ifdef>

      <tapa.ifndef>
         <tapa.flag id="CZAC_LKSCTP" />  
       </tapa.ifndef>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

 # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send a debug control request to enable debugs
      <tapa.send flag="CZ_DBG">
         <tapa.lcz.cntrl.debug />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="CZ_DBG">
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      # Send an protocol configuration request
      <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" timeToWait="2" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap />
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

 # Send an sct sap configuration request
      <tapa.send flag="CZAC_SCTP">
         <tapa.lcz.cfg.lsap suId="0" spId="0" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect  flag="CZAC_SCTP">
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      <tapa.send flag="CZAC_LKSCTP">
         <tapa.lcz.cfg.lsap suId="1" spId="2" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="CZAC_LKSCTP">
         <tapa.lcz.cfgcfm />
      </tapa.expect>
      
      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer PeerId="2" peerProcId="CZAC_LCZ_ENB2_PRC"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send a control request to enable alarms
      <tapa.send>
         <tapa.lcz.cntrl.usta />
      </tapa.send>

      # Receive the confirm for the alarms.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
   <tapa.send>
         <tapa.czt.bndreq  spId="0" suId="0"/>
      </tapa.send>

      # Expect Bnd Cfm at eNB
            <tapa.expect>
                <tapa.czt.bndcfm
                   procId="CZAC_ENB_PROC"
                   spId="0" suId="0"
                   status="1"/>
                      </tapa.expect>
    

   <tapa.send>
         <tapa.lcz.cntrl.endPt action="ADISIMM" />
   </tapa.send>

      <tapa.expset  >
# Receive the confirm for the sta ind request.
             <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_STA_IND"
                          cause = "LCM_CAUSE_INV_STATE"
                          type   =  "LCZ_USTA_DGNVAL_SAPID"
                          typeId =  "0"                     />
                       <tapa.lcz.cntrlcfm  status="LCM_PRIM_NOK"
                                                    reason="LCM_REASON_INVALID_STATE"/>
      </tapa.expset>

      
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.9
#
#       Desc:    Assoc control request to set primary address with invalid
#                peerId and invalid state
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.9">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Assoc control request to set primary address with invalid
         peerId and invalid state"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
        <tapa.flag id="CZAC_SCTP"/>
      </tapa.ifdef>

      <tapa.ifndef>
        <tapa.flag id="CZAC_LKSCTP"/>
      </tapa.ifndef>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      # Initialise X2AP in an ENB configuration
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   <tapa.send>
         <tapa.lcz.cntrl.assoc  peerId="1000" />
   </tapa.send>

      <tapa.expset>
                       <tapa.lcz.cntrlcfm  status="LCM_PRIM_NOK"
                                                    reason="LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expset>
     
      <tapa.send>
         <tapa.lcz.cntrl.endPt action="ADISIMM" />
   </tapa.send>

      <tapa.expset>
# Receive the confirm for the sta ind request.
          <tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_ENDP_CLOSE_CFM"
                          cause = "LCZ_CAUSE_EPCLOSE_OK"
                          type   =  "LCZ_USTA_DGNVAL_NONE"
                          typeId =  "0"                     />
    <tapa.czt.staind peerId="2" staType="CZT_STA_TYPE_ASSOC"
                              status="CZT_STATUS_ASSOC_DOWN"
                              reason="CZT_REASON_UBND_SAP"/>

         <tapa.lcz.cntrlcfm />
      </tapa.expset>
   
      
      <tapa.send>
         <tapa.lcz.cntrl.assoc  peerId="2" />
   </tapa.send>

      <tapa.expset>
                       <tapa.lcz.cntrlcfm  status="LCM_PRIM_NOK"
                                                    reason="LCM_REASON_INVALID_STATE"/>
      </tapa.expset>
      
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.10
#
#       Desc:    Assoc control request to set primary address with invalid
#                peerId and invalid state
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.10">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Assoc control request to set primary address with invalid
         peerId and invalid state"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      <tapa.cz.enb2.init/>
      <tapa.cz.x2.init/>
         </tapa.cfg>
   
  
   # Test Steps subsection
   <tapa.test>
      
      # Send a control request to enable alarms
      <tapa.send>
         <tapa.lcz.cntrl.usta />
      </tapa.send>

      # Receive the confirm for the alarms.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

    <tapa.send>
         <tapa.lcz.cntrl.assoc  procId="CZAC_LCZ_ENB1_PRC" peerId="2" />
   </tapa.send>

      <tapa.expset>
        <tapa.lcz.cntrlcfm procId="CZAC_LCZ_ENB1_PRC" />
      </tapa.expset>
     <tapa.delay delay="20" />
      
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.cz.enb2.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.11
#
#       Desc:    Assoc control request to set primary address with invalid
#                action and ip address type
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.11">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Assoc control request to set primary address with invalid
         action and ip address type"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      <tapa.cz.enb2.init/>
      <tapa.cz.x2.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      <tapa.send>
         <tapa.lcz.cntrl.assoc  action="ADEL" procId="CZAC_LCZ_ENB1_PRC" peerId="2" />
   </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm procId="CZAC_LCZ_ENB1_PRC"  
            status="LCM_PRIM_NOK" reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb2.deinit/>
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.12
#
#       Desc:    End point control request  with invalid Action
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.12">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "End point control request  with invalid Action"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      # Initialise X2AP in an ENB configuration
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   <tapa.send>
         <tapa.lcz.cntrl.endPt  action="ADEL" />
   </tapa.send>

      <tapa.expset>
                       <tapa.lcz.cntrlcfm  status="LCM_PRIM_NOK"
                                                    reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expset>
       
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.13
#
#       Desc:    Verify the successful re-configuration
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.13">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
           "Verify the successful re-configuration" 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   <tapa.test>
    <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
         
      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      # x2ap cleanup operations
   <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

   </tapa.shutdown>
</tapa.testcase>


#
#
#       Test:    8.14
#
#       Desc:    Verify the unsuccessful configuration when General
#                configuration is done with invalid values
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.14">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
           "Verify the unsuccessful configuration when General"
           "configuration is done with invalid values" 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   <tapa.test>
      # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen nmbSctSaps="0"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>
      # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen nmbCztSaps="0"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>
      # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen maxNmbPeer="0"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>
      # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen timeRes="0"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>
      <tapa.gen.cfg/>
      # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen element="100" tc="TRUE"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_ELMNT"/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # x2ap cleanup operations
   <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.15
#
#       Desc:    Verify the unsuccessful configuration when General
#                re-configuration is done with invalid values
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.15">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
           "Verify the unsuccessful configuration when General"
           "re-configuration is done with invalid values" 
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   <tapa.test>
      
      <tapa.gen.cfg/>
      # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen timeRes="0"/>
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      # x2ap cleanup operations
   <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.16
#
#       Desc:    Verify the successful configuration of X2AP in
#                an integrated setup (eNb)
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.16">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify the successful configuration of X2AP in "
         "an integrated setup (eNb)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      #CONFIGURATIONS FOR ENB
      # Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send an protocol configuration request
      <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap />
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
   # Send an sct sap configuration request
      <tapa.send flag="CZAC_SCTP">
         <tapa.lcz.cfg.lsap suId="0" spId="0" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect  flag="CZAC_SCTP">
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      <tapa.send flag="CZAC_LKSCTP">
         <tapa.lcz.cfg.lsap suId="1" spId="2" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect flag="CZAC_LKSCTP">
         <tapa.lcz.cfgcfm />
      </tapa.expect>



# Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer PeerId="2" peerProcId="CZAC_LCZ_ENB2_PRC"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.17
#
#       Desc:    Verify that the SysId Status request returns the
#                expected values
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.17">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify that the SysId Status request returns the"
         "expected values"                                  
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
      <tapa.cz.enb1.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sta.req staReqType= "STCZSID" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>   
         <tapa.lcz.stacfm mVer="3" mRev="1" />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.18
#
#       Desc:    Verify that the General Status request returns the
#                expected values
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.18">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify that the General Status request returns the"
         "expected values"                                  
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
      <tapa.cz.enb1.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sta.req staReqType= "STCZGEN" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>   
         <tapa.lcz.stacfm numActvPeerConn="0" timeToWait="2" />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.19
#
#       Desc:    Verify the unsuccessful configuration when x2ap is
#                configured with invalid values.
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.19">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify the unsuccessful configuration when x2ap is"
          "configured with invalid values."                   
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.cz.directive procId="CZAC_LCZ_ENB1_PRC"/>
      <tapa.delay delay="1"/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an protocol configuration request
      <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_GENCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an General configuration request
      <tapa.gen.cfg/>
      # Send an protocol configuration request with invalid node
      <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" tRELOCprep="0" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

     <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" tX2RELOCOverall="0" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

     <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" timeToWait="0" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

     <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" addrPres="FALSE" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      # Do shutdown
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.20
#
#       Desc:    Verify that errors are generated for invalid configurations
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.20">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify that errors are generated for invalid configurations "
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap />
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_GENCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an General configuration request
      <tapa.gen.cfg/>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap />
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCZ_REASON_PROTCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an protocol configuration request
      <tapa.prot.cfg protNode="CZAC_LCZ_ENB1_PRC"/>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap sapId="1000"/>
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>


   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.21
#
#       Desc:    Verify the generation of error for invalid configuraions
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.21">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify the generation of error for invalid configuraions"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef>
      </tapa.ifndef>

      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an sct sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.lsap />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_GENCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an General configuration request
      <tapa.gen.cfg/>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.lsap />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCZ_REASON_PROTCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an protocol configuration request
      <tapa.prot.cfg />

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.lsap tBndTmr.enb="FALSE"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.lsap suId="1000"/>
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      # x2ap cleanup operations

      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.22
#
#       Desc:    Verify the unsuccessful configuration when peer is
#                configured with invalid values.
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.22">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify the unsuccessful configuration when peer is"
          "configured with invalid values."                   
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
        <tapa.flag id="CZAC_SCTP"/>
      </tapa.ifdef>

      <tapa.ifndef>
        <tapa.flag id="CZAC_LKSCTP"/>
      </tapa.ifndef>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                           reason="LCM_REASON_GENCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an General configuration request
      <tapa.gen.cfg/>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCZ_REASON_PROTCFG_NOT_DONE"/>
      </tapa.expect>

      # Do protocol configuration request
      <tapa.prot.cfg procId="CZAC_LCZ_ENB1_PRC"/>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCZ_REASON_LSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an Sct Sap configuration request
      <tapa.sctsap.cfg/>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC" 
                            uSapId  =  "1"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCZ_REASON_LSAPCFG_NOT_DONE"/>
      </tapa.expect>
       
      <tapa.send>
         <tapa.lcz.cntrl.lsaptrc action="AENA" trcLen="100" trcMask="100" />
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      
       <tapa.send>
         <tapa.lcz.cntrl.lsaptrc action="ADISIMM" />
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cntrl.lsaptrc action="ADEL" />
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
                                      reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>



    # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC" 
                            tSapId  =  "1"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCZ_REASON_LSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC" locOutStrms="1"/>
      </tapa.send>
      # Receive the confirm
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason="LCZ_REASON_LSAPCFG_NOT_DONE"/>
      </tapa.expect>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap />
      </tapa.send>
      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cfg.peer eAValue="0"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason = "LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expect>


      <tapa.send>
         <tapa.lcz.cfg.peer nmbPeers  =  "0"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason = "LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expect>

      # Send an peer config request with invalid comProcStrmVal
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC"
                            globalProcStrmPres="TRUE"
                            globalProcStrmId="4"/>
      </tapa.send>
      # Receive the confirm 
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason = "LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>
   
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC"
                            locOutStrms="1" />
      </tapa.send>
      # Receive the confirm 
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason = "LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

      # Send an peer config request with invalid sap
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC"
                            tSapId="4000"/>
      </tapa.send>

      # Receive the confirm 
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason = "LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expect>

      # Send an peer config request with invalid sap
      <tapa.send>
         <tapa.lcz.cfg.peer peerProcId= "CZAC_LCZ_ENB1_PRC"
                            uSapId="4000"/>
      </tapa.send>

      # Receive the confirm 
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason = "LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expect>



      # Send a sucessful peer configuration request
      <tapa.send>
         <tapa.lcz.cfg.peer peerId="2" peerProcId= "CZAC_LCZ_ENB1_PRC"
                            globalProcStrmPres="TRUE"
                            globalProcStrmId="2"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm/>
      </tapa.expect>
# Send a control request to enable alarms
      <tapa.send>
         <tapa.lcz.cntrl.usta />
      </tapa.send>

      # Receive the confirm for the alarms.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

      # Send an peer reconfiguration request
      <tapa.send>
         <tapa.lcz.cfg.peer  peerId="2" peerProcId= "CZAC_LCZ_ENB1_PRC" locOutStrms="1"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>

         <tapa.lcz.staInd category="LCM_CATEGORY_PROTOCOL"
                          event = "LCM_EVENT_LYR_SPECIFIC"
                          cause = "LCM_CAUSE_LYR_SPECIFIC"
                          type   =  "LCZ_USTA_DGNVAL_PEER"
                          typeId =  "0"    
                          procId = "CZAC_LCZ_ENB1_PRC" />
      </tapa.expect>

      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason = "LCM_REASON_INVALID_PAR_VAL"/>
                    </tapa.expect>
 
                    <tapa.directive alarm="FALSE" />
                    
       <tapa.send>
          <tapa.lcz.cntrl.lsaptrc lSapId="100" action="AENA"/>
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_EXCEED_CONF_VAL" />
      </tapa.expect>
      
       <tapa.send>
          <tapa.lcz.cntrl.lsaptrc lSapId="100" action="SAELMNT"/>
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_EXCEED_CONF_VAL" />
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cntrl.lSap action="ABND_ENA" lSapId="100" />
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expect>
      
      <tapa.send>
         <tapa.lcz.cntrl.lSap action="AMODIFY"  />
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>


    <tapa.send>
         <tapa.lcz.cntrl.lSap subaction="SADBG"  />
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_INVALID_SUBACTION"/>
      </tapa.expect>
     
      <tapa.send>
         <tapa.lcz.cntrl.lSap action="AUBND_DIS"   />
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cntrl.lSap action="ADEL"   />
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
            
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.23
#
#       Desc:    Verify the unsuccessful configuration when x2ap is
#                configured with invalid values.
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.23">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify the unsuccessful configuration when x2ap is"
          "configured with invalid values."                   
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Send an General configuration request
      <tapa.gen.cfg/>
      # Send an protocol configuration request
      <tapa.prot.cfg procId="CZAC_LCZ_ENB1_PRC"/>
      # Send an Szt Sap configuration request
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an prot configuration request
      <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC"/>
      </tapa.send>

      # Receive the confirm for the prot request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.24
#
#       Desc:    Verify the unsuccessful configuration when x2ap is
#                configured with invalid values.
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.24">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify the unsuccessful configuration when x2ap is"
          "configured with invalid values."                   
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Send an General configuration request
      <tapa.gen.cfg/>
      # Send an protocol configuration request
      <tapa.prot.cfg procId="CZAC_LCZ_ENB1_PRC"/>
      # Send an Szt Sap configuration request
   </tapa.cfg>


   # Test Steps subsection
   <tapa.test>

      # Send an prot configuration request
      <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC"/>
      </tapa.send>

      # Receive the confirm for the prot request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
      
# Send an protocol configuration request with invalid node
      <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" tRELOCprep="0" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

     <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" tX2RELOCOverall="0" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

     <tapa.send>
         <tapa.lcz.cfg.prot procId="CZAC_LCZ_ENB1_PRC" timeToWait="0" />
      </tapa.send>

      # Receive the confirm for the protocol configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm  status="LCM_PRIM_NOK"
                           reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

    # x2ap cleanup operations
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>


   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.25
#
#       Desc:    Verify the successful reconfiguration of CZT SAP
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.25">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify the successful reconfiguration of CZT SAP"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Send an General configuration request
      <tapa.gen.cfg/>
      # Send an protocol configuration request
      <tapa.prot.cfg />
      # Send an Szt Sap configuration request
      <tapa.cztsap.cfg/>
      # Send an Sct Sap configuration request
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an czt sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.usap />
      </tapa.send>

      # Receive the confirm for the czt sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

    # x2ap cleanup operations
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.26
#
#       Desc:    Verify the successful reconfiguration of Sct Sap
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.26">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify the successful reconfiguration of Sct Sap"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Send an General configuration request
      <tapa.gen.cfg/>
      # Send an protocol configuration request
      <tapa.prot.cfg />
      # Send an Szt Sap configuration request
      <tapa.cztsap.cfg/>
      # Send an Sct Sap configuration request
      <tapa.sctsap.cfg/>
      # Send an peer configuration request
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an sct sap configuration request
      <tapa.send>
         <tapa.lcz.cfg.lsap />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

 # x2ap cleanup operations
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.27
#
#       Desc:    Verify the successful re configuration of peer
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.27">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify the successful re configuration of peer"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Send an General configuration request
      <tapa.gen.cfg/>
      # Send an protocol configuration request
      <tapa.prot.cfg protNode="CZAC_LCZ_ENB1_PRC"/>
      # Send an Szt Sap configuration request
      <tapa.cztsap.cfg/>
      # Send an Sct Sap configuration request
      <tapa.sctsap.cfg/>
<!--
      # Send an peer configuration request
         <tapa.lcz.cfg.peer ProcId="CZAC_LCZ_ENB1_PRC" />
      </tapa.send>
      
      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
-->

   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Peer reconfiguration
      <tapa.send>
         <tapa.lcz.cfg.peer ProcId="CZAC_LCZ_ENB1_PRC" PeerId="2" peerProcId="CZAC_LCZ_ENB2_PRC"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

   # Peer reconfiguration
      <tapa.send>
         <tapa.lcz.cfg.peer ProcId="CZAC_LCZ_ENB1_PRC" PeerId="3" peerProcId="CZAC_LCZ_ENB3_PRC"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # x2ap cleanup operations
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.28
#
#       Desc:    Verify the successful deletion of peer
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.28">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify the successful deletion of peer"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Send an General configuration request
      <tapa.gen.cfg/>
      # Send an protocol configuration request
      <tapa.prot.cfg protNode="CZAC_LCZ_ENB1_PRC"/>
      # Send an Szt Sap configuration request
      <tapa.cztsap.cfg/>
      # Send an Sct Sap configuration request
      <tapa.sctsap.cfg/>
      # Send an peer configuration request
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
   
      # Peer reconfiguration
      <tapa.send>
         <tapa.lcz.cfg.peer PeerId="2" peerProcId="CZAC_LCZ_ENB1_PRC"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>


      # Peer reconfiguration
      <tapa.send>
         <tapa.lcz.cfg.peer PeerId="3" peerProcId="CZAC_LCZ_ENB2_PRC"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>

   # Peer reconfiguration
      <tapa.send>
         <tapa.lcz.cfg.peer PeerId="1" peerProcId="CZAC_LCZ_ENB3_PRC"/>
      </tapa.send>

      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
      
      <tapa.send>
         <tapa.lcz.cntrl.peer peerId="1" />
      </tapa.send>
      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      
      <tapa.send>
         <tapa.lcz.cntrl.peer peerId="2" />
      </tapa.send>
      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cntrl.peer peerId="3" />
      </tapa.send>
      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      
      # Peer reconfiguration
      <tapa.send>
         <tapa.lcz.cfg.peer PeerId="2" peerProcId="CZAC_LCZ_ENB1_PRC"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
      
      # Peer reconfiguration
      <tapa.send>
         <tapa.lcz.cntrl.peer  peerId="2" action="AENA" subaction="SATRC"/>
      </tapa.send>

      # Receive the control for the peer control request.
      <tapa.expect>
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      
      # Peer trc  control request 
      <tapa.send>
         <tapa.lcz.cntrl.peer  peerId="2" action="ADEL" subaction="SATRC"/>
      </tapa.send>

      # Receive the control for the peer control request for invalid action .
      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
                                     reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>
 
      # Peer trc  control request to disable the trace
      <tapa.send>
         <tapa.lcz.cntrl.peer  peerId="2" action="ADISIMM" subaction="SATRC"/>
      </tapa.send>

      # Receive the control for the peer control request for invalid action .
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>



      #Try to delete the peer which is not exist
      <tapa.send>
         <tapa.lcz.cntrl.peer peerId="3" />
      </tapa.send>
      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
                                       reason="LCM_REASON_INVALID_PAR_VAL" />
      </tapa.expect>
      
     <tapa.send>
         <tapa.lcz.cntrl.peer peerId="2" action="AADD" />
      </tapa.send>
      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
                                       reason="LCM_REASON_INVALID_ACTION" />
      </tapa.expect>
  
      <tapa.send>
         <tapa.lcz.cntrl.peer peerId="2" subaction="SADBG" />
      </tapa.send>
      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
                                       reason="LCM_REASON_INVALID_SUBACTION" />
      </tapa.expect>
  


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # x2ap cleanup operations
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.29
#
#       Desc:    Verify the successful re configuration of peer
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.29">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify the successful re configuration of peer"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      # Send an General configuration request
      <tapa.gen.cfg/>
      # Send an protocol configuration request
      <tapa.prot.cfg protNode="CZAC_LCZ_ENB1_PRC"/>
      # Send an Szt Sap configuration request
      <tapa.cztsap.cfg/>
      # Send an Sct Sap configuration request
      <tapa.sctsap.cfg/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

   <tapa.send>
         <tapa.lcz.cfg.peer nmbPeers  =  "100"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm status="LCM_PRIM_NOK"
                          reason = "LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
   # x2ap cleanup operations
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.30
#
#       Desc:    Verify that the general node statistics provides the correct values
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.30">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify that the general node statistics provides the correct values"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
      <tapa.cz.enb1.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZGEN" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm />
      </tapa.expect>

      # Send an sts req with zero sts
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZGEN" action="ZEROSTS" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm />
      </tapa.expect>

      # Send an sts req with zero sts
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZPROT" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_ELMNT"/>
      </tapa.expect>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZGEN" actionErr="5"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.31
#
#       Desc:    Verify that the peer node statistics provides the correct values
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.31">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify that the peer node statistics provides the correct values"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
      <tapa.cz.enb1.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZPEER" peerId="2"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm />
      </tapa.expect>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZPEER" peerId="2"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.32
#
#       Desc:    Verify that the ZEROSTS action zeros out the counters
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.32">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify that the ZEROSTS action zeros out the counters"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
      <tapa.cz.enb1.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZPEER" peerId ="2" 
                           action = "ZEROSTS"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm />
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.33
#
#       Desc:    Verify that the Sts request for a peer not cofigured
#                generates an error.
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.33">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
           "Verify that the Sts request for a peer not cofigured "
           "generates an error."                                  
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
      <tapa.cz.enb1.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZPEER" actionErr = "5"
                           peerId = "6"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm status = "LCM_PRIM_NOK"
                          reason = "LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sts.req stsType= "STCZPEER" action = "ZEROSTS"
                           peerId = "4"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>
         <tapa.lcz.stscfm status = "LCM_PRIM_NOK"
                          reason = "LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.34
#
#       Desc:    Verify that the Usap Status request returns the
#                expected values
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.34">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify that the Usap Status request returns the"
         "expected values"                                  
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
        <tapa.flag id="CZAC_SCTP"/>
      </tapa.ifdef>

      <tapa.ifndef>
        <tapa.flag id="CZAC_LKSCTP"/>
      </tapa.ifndef>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
      <tapa.cz.enb1.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sta.req staReqType= "STCZCZTSAP" 
                           sSapId =  "0"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>   
         <tapa.lcz.stacfm sapId="0" sapState="LCZ_SAP_ISBOUND"/>
      </tapa.expect>

      # Send a CZT sta req with invalid sapId
      <tapa.send>
         <tapa.lcz.sta.req staReqType= "STCZCZTSAP" 
                           sSapId =  "5"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>   
         <tapa.lcz.stacfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

      # Send a STA REQ for sapId > max sapID
      <tapa.send>
         <tapa.lcz.sta.req staReqType= "STCZCZTSAP" 
                           sSapId =  "50"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>   
         <tapa.lcz.stacfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>

      # Send a STA REQ for invalid element
      <tapa.send>
         <tapa.lcz.sta.req staReqType= "STCZPROT" />
      </tapa.send>
      # Receive the negative confirm
      <tapa.expect>   
         <tapa.lcz.stacfm status="LCM_PRIM_NOK"
                          reason="LCM_REASON_INVALID_ELMNT"/>
      </tapa.expect>

      
      # Send a STA REQ for invalid element
      <tapa.send>
         <tapa.lcz.sta.req peerId="2" staReqType= "STCZPEER" />
      </tapa.send>

      # Receive the negative confirm
      <tapa.expect>   
         <tapa.lcz.stacfm tsapState="2"
            assocState="1" peerId="2" />
      </tapa.expect>
      
      # Send a STA REQ for invalid element
      <tapa.send>
         <tapa.lcz.sta.req peerId="5" staReqType= "STCZPEER" />
      </tapa.send>

      # Receive the negative confirm
      <tapa.expect>   
         <tapa.lcz.stacfm status="LCM_PRIM_NOK"
                                      reason="LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expect>



   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.35
#
#       Desc:    Verify that the Lsap Status request returns the
#                expected values
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.35">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify that the Lsap Status request returns the"
         "expected values"                                  
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
    <tapa.flag id="CZAC_SCTP"/>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      # Initialise X2AP in an ENB configuration
      <tapa.cz.enb1.init/>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

      # Send an peer configuration request
      <tapa.send  >
         <tapa.lcz.sta.req staReqType= "STCZSCTSAP" 
                          tSapId="0"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect >   
         <tapa.lcz.stacfm tSapId="0" sapState="LCZ_SAP_ISBOUND"/>
      </tapa.expect>


      # Send an peer configuration request
      <tapa.send>
         <tapa.lcz.sta.req staReqType= "STCZSCTSAP" 
                           tSapId =  "1"/>
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expset> 
<tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_STA_IND"
                          cause = "LCM_CAUSE_INV_SAP"
                          type   =  "LCZ_USTA_DGNVAL_SAPID"
                          typeId =  "1"                     />

         <tapa.lcz.stacfm status = "LCM_PRIM_NOK"
                          reason = "LCM_REASON_INVALID_PAR_VAL"/>
      </tapa.expset>
      # Send a STA REQ for sapId > max sapID
      <tapa.send>
         <tapa.lcz.sta.req staReqType= "STCZSCTSAP" 
                           tSapId =  "50"/>
      </tapa.send>

      <tapa.expset> 
<tapa.lcz.staInd category="LCM_CATEGORY_INTERFACE"
                          event = "LCZ_EVENT_LI_STA_IND"
                          cause = "LCM_CAUSE_INV_SPID"
                          type   =  "LCZ_USTA_DGNVAL_SAPID"
                          typeId =  "50"                     />

         <tapa.lcz.stacfm status = "LCM_PRIM_NOK"
                          reason = "LCM_REASON_EXCEED_CONF_VAL"/>
      </tapa.expset>
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    8.36
#
#       Desc:   Set the trace mask and get the trc indication from Lower layer
#       to LM
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.36">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Set the trace mask and get the trc indication from Lower layer to LM.
         Both peer level and TSap level traces are enabled."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      <tapa.cz.enb2.init/>
         </tapa.cfg>
   
  
   # Test Steps subsection
   <tapa.test>
      
      <tapa.directive alarm="FALSE" />
       <tapa.send>
         <tapa.lcz.cntrl.pNodeTrc  procId="CZAC_LCZ_ENB1_PRC" action="AENA" trcLen="10" trcMask="100" peerId="2"/>
      </tapa.send>

      <tapa.expect>
        <tapa.lcz.cntrlcfm procId="CZAC_LCZ_ENB1_PRC" />
      </tapa.expect>
      
       <tapa.send>
         <tapa.lcz.cntrl.lsaptrc  procId="CZAC_LCZ_ENB2_PRC" action="AENA" trcLen="10" trcMask="100" />
      </tapa.send>

      <tapa.expect>
        <tapa.lcz.cntrlcfm procId="CZAC_LCZ_ENB2_PRC" />
      </tapa.expect>

      # Send an S1 SETUP REQUEST message from eNB1 to eNB2
      <tapa.send>
         <tapa.czt.gpreq eventType="CZT_MSG_X2_SETUP" procId="CZAC_LCZ_ENB1_PRC" peerId="2" spId="0"/>
      </tapa.send>

     #Expect this X2 Setup at target eNodeB
     <tapa.expset>
        <tapa.lcz.trcind procId="CZAC_LCZ_ENB1_PRC" />
        <tapa.lcz.trcind procId="CZAC_LCZ_ENB2_PRC" />
        <tapa.czt.gpind procId="CZAC_LCZ_ENB2_PRC" peerId="1"
           eventType="CZT_MSG_X2_SETUP" />
     </tapa.expset>
     
       <tapa.send>
         <tapa.czt.gprsp eventType="CZT_MSG_X2_SETUP_RSP"
            procId="CZAC_LCZ_ENB2_PRC" peerId="1" spId="0"/>
      </tapa.send>
      
     <tapa.expset>
        <tapa.lcz.trcind procId="CZAC_LCZ_ENB1_PRC" />
        <tapa.lcz.trcind procId="CZAC_LCZ_ENB2_PRC" />
        <tapa.czt.gpcfm procId="CZAC_LCZ_ENB1_PRC" peerId="2"
           eventType="CZT_MSG_X2_SETUP_RSP" />
     </tapa.expset>
      # Send an CONFIG UPDATE REQUEST message from eNB1 to ENB2
      <tapa.send>
         <tapa.czt.gpreq eventType="CZT_MSG_CFG_UPD_REQ" procId="CZAC_LCZ_ENB1_PRC" peerId="2" spId="0"/>
      </tapa.send>

     <tapa.delay delay="2" />
     #Expect this CONFIG UPDATE at target eNodeB
     <tapa.expset>
        <tapa.lcz.trcind procId="CZAC_LCZ_ENB1_PRC" />
        <tapa.lcz.trcind procId="CZAC_LCZ_ENB2_PRC" />
        <tapa.czt.gpind procId="CZAC_LCZ_ENB2_PRC" peerId="1"
           eventType="CZT_MSG_CFG_UPD_REQ" />
     </tapa.expset>
    
     #ENB2 sends the CONFIG UPDATE ACK at target eNodeB
       <tapa.send>
         <tapa.czt.gprsp eventType="CZT_MSG_CFG_UPD_ACK"
            procId="CZAC_LCZ_ENB2_PRC" peerId="1" spId="0" />
      </tapa.send>
      
     #Expect this CONFIG UPD ACK at target eNodeB
     <tapa.expset>
        <tapa.lcz.trcind procId="CZAC_LCZ_ENB1_PRC" />
        <tapa.lcz.trcind procId="CZAC_LCZ_ENB2_PRC" />
        <tapa.czt.gpcfm procId="CZAC_LCZ_ENB1_PRC" peerId="2"
           eventType="CZT_MSG_CFG_UPD_ACK" />
     </tapa.expset>


   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.cz.enb2.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    8.37
#
#       Desc:    Send upper sap control request with invalid action , unbound upper
#                 sap,delete upper sap"
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.37">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
      "Send upper sap control request with invalid action , unbound upper
      sap,delete upper sap"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
      # Initialise X2AP in an ENB configuration
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>
      # Send upper sap control request with invalid action
      <tapa.send>
         <tapa.lcz.cntrl.usap  action="AMODIFY" />
      </tapa.send>

      # expect cfm NOK.
      <tapa.expect>   
         <tapa.lcz.cntrlcfm status = "LCM_PRIM_NOK"
            reason = "LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cntrl.usap  action="AUBND_DIS" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>   
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

      <tapa.send>
         <tapa.lcz.cntrl.usap  action="ADEL" />
      </tapa.send>

      # Receive the confirm for the peer configuration request.
      <tapa.expect>   
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      
      

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>
#
#
#       Test:    8.38
#
#       Desc:   Verify the behavior when the association setup fails for while
#       Sending an X2-Setup
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.38">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
          "Verify the behavior when the association setup fails for while
       Sending an X2-Setup."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
      <tapa.hi.init/>
      <tapa.sb.init/>
      <tapa.cz.enb1.init/>
#      <tapa.cz.enb2.init/>
         </tapa.cfg>
   
  
   # Test Steps subsection
   <tapa.test>
      
      # Send an S1 SETUP REQUEST message from eNB1 to eNB2
      <tapa.send>
         <tapa.czt.gpreq eventType="CZT_MSG_X2_SETUP" procId="CZAC_LCZ_ENB1_PRC" peerId="2" spId="0"/>
      </tapa.send>
    <tapa.delay delay="500" />
     <tapa.expset>
         <tapa.lcz.staInd category="LCM_CATEGORY_PROTOCOL"
                       event = "LCZ_EVENT_LI_TERM_IND"
                       cause = "LCZ_CAUSE_ASSOC_DOWN"
                       type   =  "LCZ_USTA_DGNVAL_PEER"
                       typeId =  "2"      
                       procId="CZAC_LCZ_ENB1_PRC" />
         <tapa.czt.staind peerId="2" staType="CZT_STA_TYPE_ASSOC"
                       procId="CZAC_LCZ_ENB1_PRC" 
                       status="CZT_STATUS_ASSOC_DOWN"
                       reason="CZT_REASON_RCVD_TERMIND"/>
      </tapa.expset>
    <tapa.delay delay="50" />
 

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
#      <tapa.cz.enb2.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>

#
#
#       Test:    8.39
#
#       Desc:   Verify Multi-homing in X2AP
#
#       Notes:   None
#              
#       Module:  x2ap
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.39">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify Multi-homing in X2AP. X2AP is provided with multiple addresses in
         TSP configuration. Later everything is handled by SCTP."
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
         <tapa.flag id="CZAC_INTSCTP" />  
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
     <tapa.hi.init/>
 # Send Lsb general configuration request
      <tapa.send flag="CZAC_SCTP">
        <tapa.lsb.cfg.gen/>
      </tapa.send>

      # expect Lsb general configuration confirm
      <tapa.expect flag="CZAC_SCTP">
        <tapa.lsb.cfgcfm/>
      </tapa.expect>

      #configure  LOWER TSAP of SCTP 
      <tapa.send flag="CZAC_SCTP">
        <tapa.lsb.cfg.tsap tSapId="0" spId="0" nmbAddrLst="1"/>
      </tapa.send>

      #LSB TSAP configure confirm
      <tapa.expect flag="CZAC_SCTP">
        <tapa.lsb.cfgcfm/>
      </tapa.expect>

      #configure UPPER SSAP of sctp
      <tapa.send flag="CZAC_SCTP">
        <tapa.lsb.cfg.sctsap sSapId="0"/>
      </tapa.send>
   
      #LSB SSAP configure confirm
      <tapa.expect flag="CZAC_SCTP">
        <tapa.lsb.cfgcfm/>
      </tapa.expect>

      #configure UPPER SSAP of sctp
      <tapa.send flag="CZAC_SCTP">
        <tapa.lsb.cfg.sctsap sSapId="1"/>
      </tapa.send>
   
      #LSB SSAP configure confirm
      <tapa.expect flag="CZAC_SCTP">
        <tapa.lsb.cfgcfm/>
      </tapa.expect>

      <tapa.delay delay="1"/>

      #bind enable SCTP TSAP 
      <tapa.send flag="CZAC_SCTP">
        <tapa.lsb.cntrl.tsap tSapId="0"/>
      </tapa.send>
  
      #expect LSB CNTRL Cfm 
      <tapa.expect flag="CZAC_SCTP">
        <tapa.lsb.cntrlcfm/>
      </tapa.expect>

      <tapa.cz.enb1.init/>
      <tapa.cz.enb2.init/>
      <tapa.cz.x2.init/>
         </tapa.cfg>
   
  
   # Test Steps subsection
   <tapa.test>
    <tapa.send>
         <tapa.lcz.cntrl.assoc  peerId="1" ipAddress="172.25.0.27"/>
   </tapa.send>

      <tapa.expset>
                       <tapa.lcz.cntrlcfm  status="LCM_PRIM_OK"/>
      </tapa.expset>
      
      # Send an CONFIG UPDATE REQUEST message from eNB1 to ENB2
      <tapa.send>
         <tapa.czt.gpreq eventType="CZT_MSG_CFG_UPD_REQ" procId="CZAC_LCZ_ENB1_PRC" peerId="2" spId="0"/>
      </tapa.send>

     <tapa.delay delay="2" />
     #Expect this CONFIG UPDATE at target eNodeB
     <tapa.expect>
        <tapa.czt.gpind procId="CZAC_LCZ_ENB2_PRC" peerId="1"
           eventType="CZT_MSG_CFG_UPD_REQ" />
     </tapa.expect>
     <tapa.delay delay="20" />
      
   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>

      # x2ap cleanup operations
      <tapa.cz.enb1.deinit/>
      <tapa.cz.enb2.deinit/>
      <tapa.sb.deinit/>
      <tapa.hi.deinit/>

   </tapa.shutdown>

</tapa.testcase>


#
#
#       Test:    8.40
#
#       Desc:    Verify the successful configuration of X2AP in
#                an integrated setup (eNb)
#
#       Notes:   None
#              
#       Module:  x2ap 
#
#       File:    czac_tc8.xml
#
#
<tapa.testcase id="8.40">>

   # Document subsection
   <tapa.doc>

      <tapa.rfc id="None" section="None"/>
      <tapa.module id="x2ap"/>

      <tapa.desc>
         "Verify the successful configuration of X2AP in "
         "an integrated setup (eNb)"
      </tapa.desc>

      <tapa.longdesc/>

   </tapa.doc>

   # Require features and flags subsection
   <tapa.require>

      <tapa.ifdef>
      </tapa.ifdef>

      <tapa.ifndef/>
      <tapa.mode mode="single"/>

   </tapa.require>

   # Configuration subsection
   <tapa.cfg>
   </tapa.cfg>

   # Test Steps subsection
   <tapa.test>

# Send an General configuration request
      <tapa.send>
         <tapa.lcz.cfg.gen />
      </tapa.send>

      # Receive the confirm for the general configuration request.
      <tapa.expect>
         <tapa.lcz.cfgcfm />
      </tapa.expect>
# Send a debug control request to enable debugs
      <tapa.send >
         <tapa.lcz.cntrl.usta action="AENA" />
      </tapa.send>

      # Receive the confirm for the sct sap request.
      <tapa.expect >
         <tapa.lcz.cntrlcfm />
      </tapa.expect>

    # Send a debug control request to enable debugs
      <tapa.send >
         <tapa.lcz.cntrl.usta action="ADISIMM" />
      </tapa.send>

      
      # Receive the confirm for the sct sap request.
      <tapa.expect >
         <tapa.lcz.cntrlcfm />
      </tapa.expect>
      
      # Send a debug control request to enable debugs
      <tapa.send >
         <tapa.lcz.cntrl.usta action="ADEL"/>
      </tapa.send>

      
      # Receive the confirm for the sct sap request.
      <tapa.expect >
         <tapa.lcz.cntrlcfm status="LCM_PRIM_NOK"
            reason="LCM_REASON_INVALID_ACTION"/>
      </tapa.expect>

   </tapa.test>

   # Clean subsection
   <tapa.clean/>

   # Shutdown subsection
   <tapa.shutdown>
      # Do shutdown
      <tapa.send>
         <tapa.lcz.cntrl.shutdown/>
      </tapa.send>

      # Do shutdown
      <tapa.expect>
         <tapa.lcz.cntrlcfm/>
      </tapa.expect>
   </tapa.shutdown>

</tapa.testcase>

# DO NOT DELETE THIS LINE -- TC number generation script depends on it.
# xyzabcend

#/********************************************************************30**
#
#         End of file:     cm_xta_gen_tc_num.py@@/main/5 - Wed Jun 27 16:21:06 2007
#
#*********************************************************************31*/
#
#
#/********************************************************************40**
#
#        Notes:
#
#*********************************************************************41*/
#
#/********************************************************************50**
#
#*********************************************************************51*/
#
#
#/********************************************************************60**
#
#        Revision history:
#
#*********************************************************************61*/
#
#/********************************************************************90**
#
#     ver       pat    init                  description
#------------ -------- ---- ----------------------------------------------
#$SID$         ---      sy                   1. X2AP Initial Release.
#$SID$         ---      pt                   1. LTE-X2AP 3.1 release.
#*********************************************************************91*/
