///////////////////////////////////////////////////////////////////////////////
//
// Tr069Application.h
//
// Main class for TR-069 interface application.
//
// Copyright radisys Limited
//
///////////////////////////////////////////////////////////////////////////////

#ifndef __Tr069TimerTriggeredEvents_h_
#define __Tr069TimerTriggeredEvents_h_

///////////////////////////////////////////////////////////////////////////////
// System Includes
///////////////////////////////////////////////////////////////////////////////

#include <boost/shared_ptr.hpp>
#include <system/TimerInterface.h>

///////////////////////////////////////////////////////////////////////////////
// Local Includes
///////////////////////////////////////////////////////////////////////////////

#include "Tr069QueueableEvent.h"

///////////////////////////////////////////////////////////////////////////////
// Classes
///////////////////////////////////////////////////////////////////////////////
namespace tr069
{


class TimerTriggeredEvents
{

public:
    TimerTriggeredEvents(){};
    ~TimerTriggeredEvents () {}

    threeway::TimerHandle Enqueue( boost::shared_ptr<tr069::Tr069QueueableEvent> event, u32 timeoutPeriod);
    bool Delete( threeway::TimerHandle );
    bool Trigger( threeway::TimerHandle );
    
private:
    std::map< threeway::TimerHandle, boost::shared_ptr<tr069::Tr069QueueableEvent> > delayedEvents;
    
};

}
#endif
