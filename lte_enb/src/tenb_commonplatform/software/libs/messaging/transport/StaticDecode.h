///////////////////////////////////////////////////////////////////////////////
//
// StaticDecode.h
//
// Standalone message deserialiser.
//
// Copyright radisys Limited
//
///////////////////////////////////////////////////////////////////////////////

#ifndef __StaticDecode_h_
#define __StaticDecode_h_

///////////////////////////////////////////////////////////////////////////////
// System Includes
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
// Local Includes
///////////////////////////////////////////////////////////////////////////////

#include "system/Serialisable.h"

namespace threeway
{

///////////////////////////////////////////////////////////////////////////////
// Typedefs
///////////////////////////////////////////////////////////////////////////////

extern "C" {

/** Deserialise any message.
 * This uses the SerialisationId and a large switch statement to re-construct
 * the represented message.  A shared pointer to a newly allocated message
 * class is returned, or NULL if the SerialisationId was unrecognised.
 */
shared_ptr<Serialisable> DeserialiseMessage(shared_ptr<SerialisedData> message);


shared_ptr<Serialisable> DeserialiseMessageBytes(u32 serId, const u8 *data, u32 length);
}

}

#endif
